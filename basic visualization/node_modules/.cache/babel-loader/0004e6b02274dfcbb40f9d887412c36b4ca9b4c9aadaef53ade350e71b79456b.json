{"ast":null,"code":"\"use strict\";\n\nvar numeric = typeof exports === \"undefined\" ? function numeric() {} : exports;\nif (typeof global !== \"undefined\") {\n  global.numeric = numeric;\n}\nnumeric.version = \"1.2.6\";\n\n// 1. Utility functions\nnumeric.bench = function bench(f, interval) {\n  var t1, t2, n, i;\n  if (typeof interval === \"undefined\") {\n    interval = 15;\n  }\n  n = 0.5;\n  t1 = new Date();\n  while (1) {\n    n *= 2;\n    for (i = n; i > 3; i -= 4) {\n      f();\n      f();\n      f();\n      f();\n    }\n    while (i > 0) {\n      f();\n      i--;\n    }\n    t2 = new Date();\n    if (t2 - t1 > interval) break;\n  }\n  for (i = n; i > 3; i -= 4) {\n    f();\n    f();\n    f();\n    f();\n  }\n  while (i > 0) {\n    f();\n    i--;\n  }\n  t2 = new Date();\n  return 1000 * (3 * n - 1) / (t2 - t1);\n};\nnumeric._myIndexOf = function _myIndexOf(w) {\n  var n = this.length,\n    k;\n  for (k = 0; k < n; ++k) if (this[k] === w) return k;\n  return -1;\n};\nnumeric.myIndexOf = Array.prototype.indexOf ? Array.prototype.indexOf : numeric._myIndexOf;\nnumeric.Function = Function;\nnumeric.precision = 4;\nnumeric.largeArray = 50;\nnumeric.prettyPrint = function prettyPrint(x) {\n  function fmtnum(x) {\n    if (x === 0) {\n      return '0';\n    }\n    if (isNaN(x)) {\n      return 'NaN';\n    }\n    if (x < 0) {\n      return '-' + fmtnum(-x);\n    }\n    if (isFinite(x)) {\n      var scale = Math.floor(Math.log(x) / Math.log(10));\n      var normalized = x / Math.pow(10, scale);\n      var basic = normalized.toPrecision(numeric.precision);\n      if (parseFloat(basic) === 10) {\n        scale++;\n        normalized = 1;\n        basic = normalized.toPrecision(numeric.precision);\n      }\n      return parseFloat(basic).toString() + 'e' + scale.toString();\n    }\n    return 'Infinity';\n  }\n  var ret = [];\n  function foo(x) {\n    var k;\n    if (typeof x === \"undefined\") {\n      ret.push(Array(numeric.precision + 8).join(' '));\n      return false;\n    }\n    if (typeof x === \"string\") {\n      ret.push('\"' + x + '\"');\n      return false;\n    }\n    if (typeof x === \"boolean\") {\n      ret.push(x.toString());\n      return false;\n    }\n    if (typeof x === \"number\") {\n      var a = fmtnum(x);\n      var b = x.toPrecision(numeric.precision);\n      var c = parseFloat(x.toString()).toString();\n      var d = [a, b, c, parseFloat(b).toString(), parseFloat(c).toString()];\n      for (k = 1; k < d.length; k++) {\n        if (d[k].length < a.length) a = d[k];\n      }\n      ret.push(Array(numeric.precision + 8 - a.length).join(' ') + a);\n      return false;\n    }\n    if (x === null) {\n      ret.push(\"null\");\n      return false;\n    }\n    if (typeof x === \"function\") {\n      ret.push(x.toString());\n      var flag = false;\n      for (k in x) {\n        if (x.hasOwnProperty(k)) {\n          if (flag) ret.push(',\\n');else ret.push('\\n{');\n          flag = true;\n          ret.push(k);\n          ret.push(': \\n');\n          foo(x[k]);\n        }\n      }\n      if (flag) ret.push('}\\n');\n      return true;\n    }\n    if (x instanceof Array) {\n      if (x.length > numeric.largeArray) {\n        ret.push('...Large Array...');\n        return true;\n      }\n      var flag = false;\n      ret.push('[');\n      for (k = 0; k < x.length; k++) {\n        if (k > 0) {\n          ret.push(',');\n          if (flag) ret.push('\\n ');\n        }\n        flag = foo(x[k]);\n      }\n      ret.push(']');\n      return true;\n    }\n    ret.push('{');\n    var flag = false;\n    for (k in x) {\n      if (x.hasOwnProperty(k)) {\n        if (flag) ret.push(',\\n');\n        flag = true;\n        ret.push(k);\n        ret.push(': \\n');\n        foo(x[k]);\n      }\n    }\n    ret.push('}');\n    return true;\n  }\n  foo(x);\n  return ret.join('');\n};\nnumeric.parseDate = function parseDate(d) {\n  function foo(d) {\n    if (typeof d === 'string') {\n      return Date.parse(d.replace(/-/g, '/'));\n    }\n    if (!(d instanceof Array)) {\n      throw new Error(\"parseDate: parameter must be arrays of strings\");\n    }\n    var ret = [],\n      k;\n    for (k = 0; k < d.length; k++) {\n      ret[k] = foo(d[k]);\n    }\n    return ret;\n  }\n  return foo(d);\n};\nnumeric.parseFloat = function parseFloat_(d) {\n  function foo(d) {\n    if (typeof d === 'string') {\n      return parseFloat(d);\n    }\n    if (!(d instanceof Array)) {\n      throw new Error(\"parseFloat: parameter must be arrays of strings\");\n    }\n    var ret = [],\n      k;\n    for (k = 0; k < d.length; k++) {\n      ret[k] = foo(d[k]);\n    }\n    return ret;\n  }\n  return foo(d);\n};\nnumeric.parseCSV = function parseCSV(t) {\n  var foo = t.split('\\n');\n  var j, k;\n  var ret = [];\n  var pat = /(([^'\",]*)|('[^']*')|(\"[^\"]*\")),/g;\n  var patnum = /^\\s*(([+-]?[0-9]+(\\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\\.[0-9]+)?(e[+-]?[0-9]+)?))\\s*$/;\n  var stripper = function (n) {\n    return n.substr(0, n.length - 1);\n  };\n  var count = 0;\n  for (k = 0; k < foo.length; k++) {\n    var bar = (foo[k] + \",\").match(pat),\n      baz;\n    if (bar.length > 0) {\n      ret[count] = [];\n      for (j = 0; j < bar.length; j++) {\n        baz = stripper(bar[j]);\n        if (patnum.test(baz)) {\n          ret[count][j] = parseFloat(baz);\n        } else ret[count][j] = baz;\n      }\n      count++;\n    }\n  }\n  return ret;\n};\nnumeric.toCSV = function toCSV(A) {\n  var s = numeric.dim(A);\n  var i, j, m, n, row, ret;\n  m = s[0];\n  n = s[1];\n  ret = [];\n  for (i = 0; i < m; i++) {\n    row = [];\n    for (j = 0; j < m; j++) {\n      row[j] = A[i][j].toString();\n    }\n    ret[i] = row.join(', ');\n  }\n  return ret.join('\\n') + '\\n';\n};\nnumeric.getURL = function getURL(url) {\n  var client = new XMLHttpRequest();\n  client.open(\"GET\", url, false);\n  client.send();\n  return client;\n};\nnumeric.imageURL = function imageURL(img) {\n  function base64(A) {\n    var n = A.length,\n      i,\n      x,\n      y,\n      z,\n      p,\n      q,\n      r,\n      s;\n    var key = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    var ret = \"\";\n    for (i = 0; i < n; i += 3) {\n      x = A[i];\n      y = A[i + 1];\n      z = A[i + 2];\n      p = x >> 2;\n      q = ((x & 3) << 4) + (y >> 4);\n      r = ((y & 15) << 2) + (z >> 6);\n      s = z & 63;\n      if (i + 1 >= n) {\n        r = s = 64;\n      } else if (i + 2 >= n) {\n        s = 64;\n      }\n      ret += key.charAt(p) + key.charAt(q) + key.charAt(r) + key.charAt(s);\n    }\n    return ret;\n  }\n  function crc32Array(a, from, to) {\n    if (typeof from === \"undefined\") {\n      from = 0;\n    }\n    if (typeof to === \"undefined\") {\n      to = a.length;\n    }\n    var table = [0x00000000, 0x77073096, 0xEE0E612C, 0x990951BA, 0x076DC419, 0x706AF48F, 0xE963A535, 0x9E6495A3, 0x0EDB8832, 0x79DCB8A4, 0xE0D5E91E, 0x97D2D988, 0x09B64C2B, 0x7EB17CBD, 0xE7B82D07, 0x90BF1D91, 0x1DB71064, 0x6AB020F2, 0xF3B97148, 0x84BE41DE, 0x1ADAD47D, 0x6DDDE4EB, 0xF4D4B551, 0x83D385C7, 0x136C9856, 0x646BA8C0, 0xFD62F97A, 0x8A65C9EC, 0x14015C4F, 0x63066CD9, 0xFA0F3D63, 0x8D080DF5, 0x3B6E20C8, 0x4C69105E, 0xD56041E4, 0xA2677172, 0x3C03E4D1, 0x4B04D447, 0xD20D85FD, 0xA50AB56B, 0x35B5A8FA, 0x42B2986C, 0xDBBBC9D6, 0xACBCF940, 0x32D86CE3, 0x45DF5C75, 0xDCD60DCF, 0xABD13D59, 0x26D930AC, 0x51DE003A, 0xC8D75180, 0xBFD06116, 0x21B4F4B5, 0x56B3C423, 0xCFBA9599, 0xB8BDA50F, 0x2802B89E, 0x5F058808, 0xC60CD9B2, 0xB10BE924, 0x2F6F7C87, 0x58684C11, 0xC1611DAB, 0xB6662D3D, 0x76DC4190, 0x01DB7106, 0x98D220BC, 0xEFD5102A, 0x71B18589, 0x06B6B51F, 0x9FBFE4A5, 0xE8B8D433, 0x7807C9A2, 0x0F00F934, 0x9609A88E, 0xE10E9818, 0x7F6A0DBB, 0x086D3D2D, 0x91646C97, 0xE6635C01, 0x6B6B51F4, 0x1C6C6162, 0x856530D8, 0xF262004E, 0x6C0695ED, 0x1B01A57B, 0x8208F4C1, 0xF50FC457, 0x65B0D9C6, 0x12B7E950, 0x8BBEB8EA, 0xFCB9887C, 0x62DD1DDF, 0x15DA2D49, 0x8CD37CF3, 0xFBD44C65, 0x4DB26158, 0x3AB551CE, 0xA3BC0074, 0xD4BB30E2, 0x4ADFA541, 0x3DD895D7, 0xA4D1C46D, 0xD3D6F4FB, 0x4369E96A, 0x346ED9FC, 0xAD678846, 0xDA60B8D0, 0x44042D73, 0x33031DE5, 0xAA0A4C5F, 0xDD0D7CC9, 0x5005713C, 0x270241AA, 0xBE0B1010, 0xC90C2086, 0x5768B525, 0x206F85B3, 0xB966D409, 0xCE61E49F, 0x5EDEF90E, 0x29D9C998, 0xB0D09822, 0xC7D7A8B4, 0x59B33D17, 0x2EB40D81, 0xB7BD5C3B, 0xC0BA6CAD, 0xEDB88320, 0x9ABFB3B6, 0x03B6E20C, 0x74B1D29A, 0xEAD54739, 0x9DD277AF, 0x04DB2615, 0x73DC1683, 0xE3630B12, 0x94643B84, 0x0D6D6A3E, 0x7A6A5AA8, 0xE40ECF0B, 0x9309FF9D, 0x0A00AE27, 0x7D079EB1, 0xF00F9344, 0x8708A3D2, 0x1E01F268, 0x6906C2FE, 0xF762575D, 0x806567CB, 0x196C3671, 0x6E6B06E7, 0xFED41B76, 0x89D32BE0, 0x10DA7A5A, 0x67DD4ACC, 0xF9B9DF6F, 0x8EBEEFF9, 0x17B7BE43, 0x60B08ED5, 0xD6D6A3E8, 0xA1D1937E, 0x38D8C2C4, 0x4FDFF252, 0xD1BB67F1, 0xA6BC5767, 0x3FB506DD, 0x48B2364B, 0xD80D2BDA, 0xAF0A1B4C, 0x36034AF6, 0x41047A60, 0xDF60EFC3, 0xA867DF55, 0x316E8EEF, 0x4669BE79, 0xCB61B38C, 0xBC66831A, 0x256FD2A0, 0x5268E236, 0xCC0C7795, 0xBB0B4703, 0x220216B9, 0x5505262F, 0xC5BA3BBE, 0xB2BD0B28, 0x2BB45A92, 0x5CB36A04, 0xC2D7FFA7, 0xB5D0CF31, 0x2CD99E8B, 0x5BDEAE1D, 0x9B64C2B0, 0xEC63F226, 0x756AA39C, 0x026D930A, 0x9C0906A9, 0xEB0E363F, 0x72076785, 0x05005713, 0x95BF4A82, 0xE2B87A14, 0x7BB12BAE, 0x0CB61B38, 0x92D28E9B, 0xE5D5BE0D, 0x7CDCEFB7, 0x0BDBDF21, 0x86D3D2D4, 0xF1D4E242, 0x68DDB3F8, 0x1FDA836E, 0x81BE16CD, 0xF6B9265B, 0x6FB077E1, 0x18B74777, 0x88085AE6, 0xFF0F6A70, 0x66063BCA, 0x11010B5C, 0x8F659EFF, 0xF862AE69, 0x616BFFD3, 0x166CCF45, 0xA00AE278, 0xD70DD2EE, 0x4E048354, 0x3903B3C2, 0xA7672661, 0xD06016F7, 0x4969474D, 0x3E6E77DB, 0xAED16A4A, 0xD9D65ADC, 0x40DF0B66, 0x37D83BF0, 0xA9BCAE53, 0xDEBB9EC5, 0x47B2CF7F, 0x30B5FFE9, 0xBDBDF21C, 0xCABAC28A, 0x53B39330, 0x24B4A3A6, 0xBAD03605, 0xCDD70693, 0x54DE5729, 0x23D967BF, 0xB3667A2E, 0xC4614AB8, 0x5D681B02, 0x2A6F2B94, 0xB40BBE37, 0xC30C8EA1, 0x5A05DF1B, 0x2D02EF8D];\n    var crc = -1,\n      y = 0,\n      n = a.length,\n      i;\n    for (i = from; i < to; i++) {\n      y = (crc ^ a[i]) & 0xFF;\n      crc = crc >>> 8 ^ table[y];\n    }\n    return crc ^ -1;\n  }\n  var h = img[0].length,\n    w = img[0][0].length,\n    s1,\n    s2,\n    next,\n    k,\n    length,\n    a,\n    b,\n    i,\n    j,\n    adler32,\n    crc32;\n  var stream = [137, 80, 78, 71, 13, 10, 26, 10,\n  //  0: PNG signature\n  0, 0, 0, 13,\n  //  8: IHDR Chunk length\n  73, 72, 68, 82,\n  // 12: \"IHDR\" \n  w >> 24 & 255, w >> 16 & 255, w >> 8 & 255, w & 255,\n  // 16: Width\n  h >> 24 & 255, h >> 16 & 255, h >> 8 & 255, h & 255,\n  // 20: Height\n  8,\n  // 24: bit depth\n  2,\n  // 25: RGB\n  0,\n  // 26: deflate\n  0,\n  // 27: no filter\n  0,\n  // 28: no interlace\n  -1, -2, -3, -4,\n  // 29: CRC\n  -5, -6, -7, -8,\n  // 33: IDAT Chunk length\n  73, 68, 65, 84,\n  // 37: \"IDAT\"\n  // RFC 1950 header starts here\n  8,\n  // 41: RFC1950 CMF\n  29 // 42: RFC1950 FLG\n  ];\n  crc32 = crc32Array(stream, 12, 29);\n  stream[29] = crc32 >> 24 & 255;\n  stream[30] = crc32 >> 16 & 255;\n  stream[31] = crc32 >> 8 & 255;\n  stream[32] = crc32 & 255;\n  s1 = 1;\n  s2 = 0;\n  for (i = 0; i < h; i++) {\n    if (i < h - 1) {\n      stream.push(0);\n    } else {\n      stream.push(1);\n    }\n    a = 3 * w + 1 + (i === 0) & 255;\n    b = 3 * w + 1 + (i === 0) >> 8 & 255;\n    stream.push(a);\n    stream.push(b);\n    stream.push(~a & 255);\n    stream.push(~b & 255);\n    if (i === 0) stream.push(0);\n    for (j = 0; j < w; j++) {\n      for (k = 0; k < 3; k++) {\n        a = img[k][i][j];\n        if (a > 255) a = 255;else if (a < 0) a = 0;else a = Math.round(a);\n        s1 = (s1 + a) % 65521;\n        s2 = (s2 + s1) % 65521;\n        stream.push(a);\n      }\n    }\n    stream.push(0);\n  }\n  adler32 = (s2 << 16) + s1;\n  stream.push(adler32 >> 24 & 255);\n  stream.push(adler32 >> 16 & 255);\n  stream.push(adler32 >> 8 & 255);\n  stream.push(adler32 & 255);\n  length = stream.length - 41;\n  stream[33] = length >> 24 & 255;\n  stream[34] = length >> 16 & 255;\n  stream[35] = length >> 8 & 255;\n  stream[36] = length & 255;\n  crc32 = crc32Array(stream, 37);\n  stream.push(crc32 >> 24 & 255);\n  stream.push(crc32 >> 16 & 255);\n  stream.push(crc32 >> 8 & 255);\n  stream.push(crc32 & 255);\n  stream.push(0);\n  stream.push(0);\n  stream.push(0);\n  stream.push(0);\n  //    a = stream.length;\n  stream.push(73); // I\n  stream.push(69); // E\n  stream.push(78); // N\n  stream.push(68); // D\n  stream.push(174); // CRC1\n  stream.push(66); // CRC2\n  stream.push(96); // CRC3\n  stream.push(130); // CRC4\n  return 'data:image/png;base64,' + base64(stream);\n};\n\n// 2. Linear algebra with Arrays.\nnumeric._dim = function _dim(x) {\n  var ret = [];\n  while (typeof x === \"object\") {\n    ret.push(x.length);\n    x = x[0];\n  }\n  return ret;\n};\nnumeric.dim = function dim(x) {\n  var y, z;\n  if (typeof x === \"object\") {\n    y = x[0];\n    if (typeof y === \"object\") {\n      z = y[0];\n      if (typeof z === \"object\") {\n        return numeric._dim(x);\n      }\n      return [x.length, y.length];\n    }\n    return [x.length];\n  }\n  return [];\n};\nnumeric.mapreduce = function mapreduce(body, init) {\n  return Function('x', 'accum', '_s', '_k', 'if(typeof accum === \"undefined\") accum = ' + init + ';\\n' + 'if(typeof x === \"number\") { var xi = x; ' + body + '; return accum; }\\n' + 'if(typeof _s === \"undefined\") _s = numeric.dim(x);\\n' + 'if(typeof _k === \"undefined\") _k = 0;\\n' + 'var _n = _s[_k];\\n' + 'var i,xi;\\n' + 'if(_k < _s.length-1) {\\n' + '    for(i=_n-1;i>=0;i--) {\\n' + '        accum = arguments.callee(x[i],accum,_s,_k+1);\\n' + '    }' + '    return accum;\\n' + '}\\n' + 'for(i=_n-1;i>=1;i-=2) { \\n' + '    xi = x[i];\\n' + '    ' + body + ';\\n' + '    xi = x[i-1];\\n' + '    ' + body + ';\\n' + '}\\n' + 'if(i === 0) {\\n' + '    xi = x[i];\\n' + '    ' + body + '\\n' + '}\\n' + 'return accum;');\n};\nnumeric.mapreduce2 = function mapreduce2(body, setup) {\n  return Function('x', 'var n = x.length;\\n' + 'var i,xi;\\n' + setup + ';\\n' + 'for(i=n-1;i!==-1;--i) { \\n' + '    xi = x[i];\\n' + '    ' + body + ';\\n' + '}\\n' + 'return accum;');\n};\nnumeric.same = function same(x, y) {\n  var i, n;\n  if (!(x instanceof Array) || !(y instanceof Array)) {\n    return false;\n  }\n  n = x.length;\n  if (n !== y.length) {\n    return false;\n  }\n  for (i = 0; i < n; i++) {\n    if (x[i] === y[i]) {\n      continue;\n    }\n    if (typeof x[i] === \"object\") {\n      if (!same(x[i], y[i])) return false;\n    } else {\n      return false;\n    }\n  }\n  return true;\n};\nnumeric.rep = function rep(s, v, k) {\n  if (typeof k === \"undefined\") {\n    k = 0;\n  }\n  var n = s[k],\n    ret = Array(n),\n    i;\n  if (k === s.length - 1) {\n    for (i = n - 2; i >= 0; i -= 2) {\n      ret[i + 1] = v;\n      ret[i] = v;\n    }\n    if (i === -1) {\n      ret[0] = v;\n    }\n    return ret;\n  }\n  for (i = n - 1; i >= 0; i--) {\n    ret[i] = numeric.rep(s, v, k + 1);\n  }\n  return ret;\n};\nnumeric.dotMMsmall = function dotMMsmall(x, y) {\n  var i, j, k, p, q, r, ret, foo, bar, woo, i0, k0, p0, r0;\n  p = x.length;\n  q = y.length;\n  r = y[0].length;\n  ret = Array(p);\n  for (i = p - 1; i >= 0; i--) {\n    foo = Array(r);\n    bar = x[i];\n    for (k = r - 1; k >= 0; k--) {\n      woo = bar[q - 1] * y[q - 1][k];\n      for (j = q - 2; j >= 1; j -= 2) {\n        i0 = j - 1;\n        woo += bar[j] * y[j][k] + bar[i0] * y[i0][k];\n      }\n      if (j === 0) {\n        woo += bar[0] * y[0][k];\n      }\n      foo[k] = woo;\n    }\n    ret[i] = foo;\n  }\n  return ret;\n};\nnumeric._getCol = function _getCol(A, j, x) {\n  var n = A.length,\n    i;\n  for (i = n - 1; i > 0; --i) {\n    x[i] = A[i][j];\n    --i;\n    x[i] = A[i][j];\n  }\n  if (i === 0) x[0] = A[0][j];\n};\nnumeric.dotMMbig = function dotMMbig(x, y) {\n  var gc = numeric._getCol,\n    p = y.length,\n    v = Array(p);\n  var m = x.length,\n    n = y[0].length,\n    A = new Array(m),\n    xj;\n  var VV = numeric.dotVV;\n  var i, j, k, z;\n  --p;\n  --m;\n  for (i = m; i !== -1; --i) A[i] = Array(n);\n  --n;\n  for (i = n; i !== -1; --i) {\n    gc(y, i, v);\n    for (j = m; j !== -1; --j) {\n      z = 0;\n      xj = x[j];\n      A[j][i] = VV(xj, v);\n    }\n  }\n  return A;\n};\nnumeric.dotMV = function dotMV(x, y) {\n  var p = x.length,\n    q = y.length,\n    i;\n  var ret = Array(p),\n    dotVV = numeric.dotVV;\n  for (i = p - 1; i >= 0; i--) {\n    ret[i] = dotVV(x[i], y);\n  }\n  return ret;\n};\nnumeric.dotVM = function dotVM(x, y) {\n  var i, j, k, p, q, r, ret, foo, bar, woo, i0, k0, p0, r0, s1, s2, s3, baz, accum;\n  p = x.length;\n  q = y[0].length;\n  ret = Array(q);\n  for (k = q - 1; k >= 0; k--) {\n    woo = x[p - 1] * y[p - 1][k];\n    for (j = p - 2; j >= 1; j -= 2) {\n      i0 = j - 1;\n      woo += x[j] * y[j][k] + x[i0] * y[i0][k];\n    }\n    if (j === 0) {\n      woo += x[0] * y[0][k];\n    }\n    ret[k] = woo;\n  }\n  return ret;\n};\nnumeric.dotVV = function dotVV(x, y) {\n  var i,\n    n = x.length,\n    i1,\n    ret = x[n - 1] * y[n - 1];\n  for (i = n - 2; i >= 1; i -= 2) {\n    i1 = i - 1;\n    ret += x[i] * y[i] + x[i1] * y[i1];\n  }\n  if (i === 0) {\n    ret += x[0] * y[0];\n  }\n  return ret;\n};\nnumeric.dot = function dot(x, y) {\n  var d = numeric.dim;\n  switch (d(x).length * 1000 + d(y).length) {\n    case 2002:\n      if (y.length < 10) return numeric.dotMMsmall(x, y);else return numeric.dotMMbig(x, y);\n    case 2001:\n      return numeric.dotMV(x, y);\n    case 1002:\n      return numeric.dotVM(x, y);\n    case 1001:\n      return numeric.dotVV(x, y);\n    case 1000:\n      return numeric.mulVS(x, y);\n    case 1:\n      return numeric.mulSV(x, y);\n    case 0:\n      return x * y;\n    default:\n      throw new Error('numeric.dot only works on vectors and matrices');\n  }\n};\nnumeric.diag = function diag(d) {\n  var i,\n    i1,\n    j,\n    n = d.length,\n    A = Array(n),\n    Ai;\n  for (i = n - 1; i >= 0; i--) {\n    Ai = Array(n);\n    i1 = i + 2;\n    for (j = n - 1; j >= i1; j -= 2) {\n      Ai[j] = 0;\n      Ai[j - 1] = 0;\n    }\n    if (j > i) {\n      Ai[j] = 0;\n    }\n    Ai[i] = d[i];\n    for (j = i - 1; j >= 1; j -= 2) {\n      Ai[j] = 0;\n      Ai[j - 1] = 0;\n    }\n    if (j === 0) {\n      Ai[0] = 0;\n    }\n    A[i] = Ai;\n  }\n  return A;\n};\nnumeric.getDiag = function (A) {\n  var n = Math.min(A.length, A[0].length),\n    i,\n    ret = Array(n);\n  for (i = n - 1; i >= 1; --i) {\n    ret[i] = A[i][i];\n    --i;\n    ret[i] = A[i][i];\n  }\n  if (i === 0) {\n    ret[0] = A[0][0];\n  }\n  return ret;\n};\nnumeric.identity = function identity(n) {\n  return numeric.diag(numeric.rep([n], 1));\n};\nnumeric.pointwise = function pointwise(params, body, setup) {\n  if (typeof setup === \"undefined\") {\n    setup = \"\";\n  }\n  var fun = [];\n  var k;\n  var avec = /\\[i\\]$/,\n    p,\n    thevec = '';\n  var haveret = false;\n  for (k = 0; k < params.length; k++) {\n    if (avec.test(params[k])) {\n      p = params[k].substring(0, params[k].length - 3);\n      thevec = p;\n    } else {\n      p = params[k];\n    }\n    if (p === 'ret') haveret = true;\n    fun.push(p);\n  }\n  fun[params.length] = '_s';\n  fun[params.length + 1] = '_k';\n  fun[params.length + 2] = 'if(typeof _s === \"undefined\") _s = numeric.dim(' + thevec + ');\\n' + 'if(typeof _k === \"undefined\") _k = 0;\\n' + 'var _n = _s[_k];\\n' + 'var i' + (haveret ? '' : ', ret = Array(_n)') + ';\\n' + 'if(_k < _s.length-1) {\\n' + '    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee(' + params.join(',') + ',_s,_k+1);\\n' + '    return ret;\\n' + '}\\n' + setup + '\\n' + 'for(i=_n-1;i!==-1;--i) {\\n' + '    ' + body + '\\n' + '}\\n' + 'return ret;';\n  return Function.apply(null, fun);\n};\nnumeric.pointwise2 = function pointwise2(params, body, setup) {\n  if (typeof setup === \"undefined\") {\n    setup = \"\";\n  }\n  var fun = [];\n  var k;\n  var avec = /\\[i\\]$/,\n    p,\n    thevec = '';\n  var haveret = false;\n  for (k = 0; k < params.length; k++) {\n    if (avec.test(params[k])) {\n      p = params[k].substring(0, params[k].length - 3);\n      thevec = p;\n    } else {\n      p = params[k];\n    }\n    if (p === 'ret') haveret = true;\n    fun.push(p);\n  }\n  fun[params.length] = 'var _n = ' + thevec + '.length;\\n' + 'var i' + (haveret ? '' : ', ret = Array(_n)') + ';\\n' + setup + '\\n' + 'for(i=_n-1;i!==-1;--i) {\\n' + body + '\\n' + '}\\n' + 'return ret;';\n  return Function.apply(null, fun);\n};\nnumeric._biforeach = function _biforeach(x, y, s, k, f) {\n  if (k === s.length - 1) {\n    f(x, y);\n    return;\n  }\n  var i,\n    n = s[k];\n  for (i = n - 1; i >= 0; i--) {\n    _biforeach(typeof x === \"object\" ? x[i] : x, typeof y === \"object\" ? y[i] : y, s, k + 1, f);\n  }\n};\nnumeric._biforeach2 = function _biforeach2(x, y, s, k, f) {\n  if (k === s.length - 1) {\n    return f(x, y);\n  }\n  var i,\n    n = s[k],\n    ret = Array(n);\n  for (i = n - 1; i >= 0; --i) {\n    ret[i] = _biforeach2(typeof x === \"object\" ? x[i] : x, typeof y === \"object\" ? y[i] : y, s, k + 1, f);\n  }\n  return ret;\n};\nnumeric._foreach = function _foreach(x, s, k, f) {\n  if (k === s.length - 1) {\n    f(x);\n    return;\n  }\n  var i,\n    n = s[k];\n  for (i = n - 1; i >= 0; i--) {\n    _foreach(x[i], s, k + 1, f);\n  }\n};\nnumeric._foreach2 = function _foreach2(x, s, k, f) {\n  if (k === s.length - 1) {\n    return f(x);\n  }\n  var i,\n    n = s[k],\n    ret = Array(n);\n  for (i = n - 1; i >= 0; i--) {\n    ret[i] = _foreach2(x[i], s, k + 1, f);\n  }\n  return ret;\n};\n\n/*numeric.anyV = numeric.mapreduce('if(xi) return true;','false');\nnumeric.allV = numeric.mapreduce('if(!xi) return false;','true');\nnumeric.any = function(x) { if(typeof x.length === \"undefined\") return x; return numeric.anyV(x); }\nnumeric.all = function(x) { if(typeof x.length === \"undefined\") return x; return numeric.allV(x); }*/\n\nnumeric.ops2 = {\n  add: '+',\n  sub: '-',\n  mul: '*',\n  div: '/',\n  mod: '%',\n  and: '&&',\n  or: '||',\n  eq: '===',\n  neq: '!==',\n  lt: '<',\n  gt: '>',\n  leq: '<=',\n  geq: '>=',\n  band: '&',\n  bor: '|',\n  bxor: '^',\n  lshift: '<<',\n  rshift: '>>',\n  rrshift: '>>>'\n};\nnumeric.opseq = {\n  addeq: '+=',\n  subeq: '-=',\n  muleq: '*=',\n  diveq: '/=',\n  modeq: '%=',\n  lshifteq: '<<=',\n  rshifteq: '>>=',\n  rrshifteq: '>>>=',\n  bandeq: '&=',\n  boreq: '|=',\n  bxoreq: '^='\n};\nnumeric.mathfuns = ['abs', 'acos', 'asin', 'atan', 'ceil', 'cos', 'exp', 'floor', 'log', 'round', 'sin', 'sqrt', 'tan', 'isNaN', 'isFinite'];\nnumeric.mathfuns2 = ['atan2', 'pow', 'max', 'min'];\nnumeric.ops1 = {\n  neg: '-',\n  not: '!',\n  bnot: '~',\n  clone: ''\n};\nnumeric.mapreducers = {\n  any: ['if(xi) return true;', 'var accum = false;'],\n  all: ['if(!xi) return false;', 'var accum = true;'],\n  sum: ['accum += xi;', 'var accum = 0;'],\n  prod: ['accum *= xi;', 'var accum = 1;'],\n  norm2Squared: ['accum += xi*xi;', 'var accum = 0;'],\n  norminf: ['accum = max(accum,abs(xi));', 'var accum = 0, max = Math.max, abs = Math.abs;'],\n  norm1: ['accum += abs(xi)', 'var accum = 0, abs = Math.abs;'],\n  sup: ['accum = max(accum,xi);', 'var accum = -Infinity, max = Math.max;'],\n  inf: ['accum = min(accum,xi);', 'var accum = Infinity, min = Math.min;']\n};\n(function () {\n  var i, o;\n  for (i = 0; i < numeric.mathfuns2.length; ++i) {\n    o = numeric.mathfuns2[i];\n    numeric.ops2[o] = o;\n  }\n  for (i in numeric.ops2) {\n    if (numeric.ops2.hasOwnProperty(i)) {\n      o = numeric.ops2[i];\n      var code,\n        codeeq,\n        setup = '';\n      if (numeric.myIndexOf.call(numeric.mathfuns2, i) !== -1) {\n        setup = 'var ' + o + ' = Math.' + o + ';\\n';\n        code = function (r, x, y) {\n          return r + ' = ' + o + '(' + x + ',' + y + ')';\n        };\n        codeeq = function (x, y) {\n          return x + ' = ' + o + '(' + x + ',' + y + ')';\n        };\n      } else {\n        code = function (r, x, y) {\n          return r + ' = ' + x + ' ' + o + ' ' + y;\n        };\n        if (numeric.opseq.hasOwnProperty(i + 'eq')) {\n          codeeq = function (x, y) {\n            return x + ' ' + o + '= ' + y;\n          };\n        } else {\n          codeeq = function (x, y) {\n            return x + ' = ' + x + ' ' + o + ' ' + y;\n          };\n        }\n      }\n      numeric[i + 'VV'] = numeric.pointwise2(['x[i]', 'y[i]'], code('ret[i]', 'x[i]', 'y[i]'), setup);\n      numeric[i + 'SV'] = numeric.pointwise2(['x', 'y[i]'], code('ret[i]', 'x', 'y[i]'), setup);\n      numeric[i + 'VS'] = numeric.pointwise2(['x[i]', 'y'], code('ret[i]', 'x[i]', 'y'), setup);\n      numeric[i] = Function('var n = arguments.length, i, x = arguments[0], y;\\n' + 'var VV = numeric.' + i + 'VV, VS = numeric.' + i + 'VS, SV = numeric.' + i + 'SV;\\n' + 'var dim = numeric.dim;\\n' + 'for(i=1;i!==n;++i) { \\n' + '  y = arguments[i];\\n' + '  if(typeof x === \"object\") {\\n' + '      if(typeof y === \"object\") x = numeric._biforeach2(x,y,dim(x),0,VV);\\n' + '      else x = numeric._biforeach2(x,y,dim(x),0,VS);\\n' + '  } else if(typeof y === \"object\") x = numeric._biforeach2(x,y,dim(y),0,SV);\\n' + '  else ' + codeeq('x', 'y') + '\\n' + '}\\nreturn x;\\n');\n      numeric[o] = numeric[i];\n      numeric[i + 'eqV'] = numeric.pointwise2(['ret[i]', 'x[i]'], codeeq('ret[i]', 'x[i]'), setup);\n      numeric[i + 'eqS'] = numeric.pointwise2(['ret[i]', 'x'], codeeq('ret[i]', 'x'), setup);\n      numeric[i + 'eq'] = Function('var n = arguments.length, i, x = arguments[0], y;\\n' + 'var V = numeric.' + i + 'eqV, S = numeric.' + i + 'eqS\\n' + 'var s = numeric.dim(x);\\n' + 'for(i=1;i!==n;++i) { \\n' + '  y = arguments[i];\\n' + '  if(typeof y === \"object\") numeric._biforeach(x,y,s,0,V);\\n' + '  else numeric._biforeach(x,y,s,0,S);\\n' + '}\\nreturn x;\\n');\n    }\n  }\n  for (i = 0; i < numeric.mathfuns2.length; ++i) {\n    o = numeric.mathfuns2[i];\n    delete numeric.ops2[o];\n  }\n  for (i = 0; i < numeric.mathfuns.length; ++i) {\n    o = numeric.mathfuns[i];\n    numeric.ops1[o] = o;\n  }\n  for (i in numeric.ops1) {\n    if (numeric.ops1.hasOwnProperty(i)) {\n      setup = '';\n      o = numeric.ops1[i];\n      if (numeric.myIndexOf.call(numeric.mathfuns, i) !== -1) {\n        if (Math.hasOwnProperty(o)) setup = 'var ' + o + ' = Math.' + o + ';\\n';\n      }\n      numeric[i + 'eqV'] = numeric.pointwise2(['ret[i]'], 'ret[i] = ' + o + '(ret[i]);', setup);\n      numeric[i + 'eq'] = Function('x', 'if(typeof x !== \"object\") return ' + o + 'x\\n' + 'var i;\\n' + 'var V = numeric.' + i + 'eqV;\\n' + 'var s = numeric.dim(x);\\n' + 'numeric._foreach(x,s,0,V);\\n' + 'return x;\\n');\n      numeric[i + 'V'] = numeric.pointwise2(['x[i]'], 'ret[i] = ' + o + '(x[i]);', setup);\n      numeric[i] = Function('x', 'if(typeof x !== \"object\") return ' + o + '(x)\\n' + 'var i;\\n' + 'var V = numeric.' + i + 'V;\\n' + 'var s = numeric.dim(x);\\n' + 'return numeric._foreach2(x,s,0,V);\\n');\n    }\n  }\n  for (i = 0; i < numeric.mathfuns.length; ++i) {\n    o = numeric.mathfuns[i];\n    delete numeric.ops1[o];\n  }\n  for (i in numeric.mapreducers) {\n    if (numeric.mapreducers.hasOwnProperty(i)) {\n      o = numeric.mapreducers[i];\n      numeric[i + 'V'] = numeric.mapreduce2(o[0], o[1]);\n      numeric[i] = Function('x', 's', 'k', o[1] + 'if(typeof x !== \"object\") {' + '    xi = x;\\n' + o[0] + ';\\n' + '    return accum;\\n' + '}' + 'if(typeof s === \"undefined\") s = numeric.dim(x);\\n' + 'if(typeof k === \"undefined\") k = 0;\\n' + 'if(k === s.length-1) return numeric.' + i + 'V(x);\\n' + 'var xi;\\n' + 'var n = x.length, i;\\n' + 'for(i=n-1;i!==-1;--i) {\\n' + '   xi = arguments.callee(x[i]);\\n' + o[0] + ';\\n' + '}\\n' + 'return accum;\\n');\n    }\n  }\n})();\nnumeric.truncVV = numeric.pointwise(['x[i]', 'y[i]'], 'ret[i] = round(x[i]/y[i])*y[i];', 'var round = Math.round;');\nnumeric.truncVS = numeric.pointwise(['x[i]', 'y'], 'ret[i] = round(x[i]/y)*y;', 'var round = Math.round;');\nnumeric.truncSV = numeric.pointwise(['x', 'y[i]'], 'ret[i] = round(x/y[i])*y[i];', 'var round = Math.round;');\nnumeric.trunc = function trunc(x, y) {\n  if (typeof x === \"object\") {\n    if (typeof y === \"object\") return numeric.truncVV(x, y);\n    return numeric.truncVS(x, y);\n  }\n  if (typeof y === \"object\") return numeric.truncSV(x, y);\n  return Math.round(x / y) * y;\n};\nnumeric.inv = function inv(x) {\n  var s = numeric.dim(x),\n    abs = Math.abs,\n    m = s[0],\n    n = s[1];\n  var A = numeric.clone(x),\n    Ai,\n    Aj;\n  var I = numeric.identity(m),\n    Ii,\n    Ij;\n  var i, j, k, x;\n  for (j = 0; j < n; ++j) {\n    var i0 = -1;\n    var v0 = -1;\n    for (i = j; i !== m; ++i) {\n      k = abs(A[i][j]);\n      if (k > v0) {\n        i0 = i;\n        v0 = k;\n      }\n    }\n    Aj = A[i0];\n    A[i0] = A[j];\n    A[j] = Aj;\n    Ij = I[i0];\n    I[i0] = I[j];\n    I[j] = Ij;\n    x = Aj[j];\n    for (k = j; k !== n; ++k) Aj[k] /= x;\n    for (k = n - 1; k !== -1; --k) Ij[k] /= x;\n    for (i = m - 1; i !== -1; --i) {\n      if (i !== j) {\n        Ai = A[i];\n        Ii = I[i];\n        x = Ai[j];\n        for (k = j + 1; k !== n; ++k) Ai[k] -= Aj[k] * x;\n        for (k = n - 1; k > 0; --k) {\n          Ii[k] -= Ij[k] * x;\n          --k;\n          Ii[k] -= Ij[k] * x;\n        }\n        if (k === 0) Ii[0] -= Ij[0] * x;\n      }\n    }\n  }\n  return I;\n};\nnumeric.det = function det(x) {\n  var s = numeric.dim(x);\n  if (s.length !== 2 || s[0] !== s[1]) {\n    throw new Error('numeric: det() only works on square matrices');\n  }\n  var n = s[0],\n    ret = 1,\n    i,\n    j,\n    k,\n    A = numeric.clone(x),\n    Aj,\n    Ai,\n    alpha,\n    temp,\n    k1,\n    k2,\n    k3;\n  for (j = 0; j < n - 1; j++) {\n    k = j;\n    for (i = j + 1; i < n; i++) {\n      if (Math.abs(A[i][j]) > Math.abs(A[k][j])) {\n        k = i;\n      }\n    }\n    if (k !== j) {\n      temp = A[k];\n      A[k] = A[j];\n      A[j] = temp;\n      ret *= -1;\n    }\n    Aj = A[j];\n    for (i = j + 1; i < n; i++) {\n      Ai = A[i];\n      alpha = Ai[j] / Aj[j];\n      for (k = j + 1; k < n - 1; k += 2) {\n        k1 = k + 1;\n        Ai[k] -= Aj[k] * alpha;\n        Ai[k1] -= Aj[k1] * alpha;\n      }\n      if (k !== n) {\n        Ai[k] -= Aj[k] * alpha;\n      }\n    }\n    if (Aj[j] === 0) {\n      return 0;\n    }\n    ret *= Aj[j];\n  }\n  return ret * A[j][j];\n};\nnumeric.transpose = function transpose(x) {\n  var i,\n    j,\n    m = x.length,\n    n = x[0].length,\n    ret = Array(n),\n    A0,\n    A1,\n    Bj;\n  for (j = 0; j < n; j++) ret[j] = Array(m);\n  for (i = m - 1; i >= 1; i -= 2) {\n    A1 = x[i];\n    A0 = x[i - 1];\n    for (j = n - 1; j >= 1; --j) {\n      Bj = ret[j];\n      Bj[i] = A1[j];\n      Bj[i - 1] = A0[j];\n      --j;\n      Bj = ret[j];\n      Bj[i] = A1[j];\n      Bj[i - 1] = A0[j];\n    }\n    if (j === 0) {\n      Bj = ret[0];\n      Bj[i] = A1[0];\n      Bj[i - 1] = A0[0];\n    }\n  }\n  if (i === 0) {\n    A0 = x[0];\n    for (j = n - 1; j >= 1; --j) {\n      ret[j][0] = A0[j];\n      --j;\n      ret[j][0] = A0[j];\n    }\n    if (j === 0) {\n      ret[0][0] = A0[0];\n    }\n  }\n  return ret;\n};\nnumeric.negtranspose = function negtranspose(x) {\n  var i,\n    j,\n    m = x.length,\n    n = x[0].length,\n    ret = Array(n),\n    A0,\n    A1,\n    Bj;\n  for (j = 0; j < n; j++) ret[j] = Array(m);\n  for (i = m - 1; i >= 1; i -= 2) {\n    A1 = x[i];\n    A0 = x[i - 1];\n    for (j = n - 1; j >= 1; --j) {\n      Bj = ret[j];\n      Bj[i] = -A1[j];\n      Bj[i - 1] = -A0[j];\n      --j;\n      Bj = ret[j];\n      Bj[i] = -A1[j];\n      Bj[i - 1] = -A0[j];\n    }\n    if (j === 0) {\n      Bj = ret[0];\n      Bj[i] = -A1[0];\n      Bj[i - 1] = -A0[0];\n    }\n  }\n  if (i === 0) {\n    A0 = x[0];\n    for (j = n - 1; j >= 1; --j) {\n      ret[j][0] = -A0[j];\n      --j;\n      ret[j][0] = -A0[j];\n    }\n    if (j === 0) {\n      ret[0][0] = -A0[0];\n    }\n  }\n  return ret;\n};\nnumeric._random = function _random(s, k) {\n  var i,\n    n = s[k],\n    ret = Array(n),\n    rnd;\n  if (k === s.length - 1) {\n    rnd = Math.random;\n    for (i = n - 1; i >= 1; i -= 2) {\n      ret[i] = rnd();\n      ret[i - 1] = rnd();\n    }\n    if (i === 0) {\n      ret[0] = rnd();\n    }\n    return ret;\n  }\n  for (i = n - 1; i >= 0; i--) ret[i] = _random(s, k + 1);\n  return ret;\n};\nnumeric.random = function random(s) {\n  return numeric._random(s, 0);\n};\nnumeric.norm2 = function norm2(x) {\n  return Math.sqrt(numeric.norm2Squared(x));\n};\nnumeric.linspace = function linspace(a, b, n) {\n  if (typeof n === \"undefined\") n = Math.max(Math.round(b - a) + 1, 1);\n  if (n < 2) {\n    return n === 1 ? [a] : [];\n  }\n  var i,\n    ret = Array(n);\n  n--;\n  for (i = n; i >= 0; i--) {\n    ret[i] = (i * b + (n - i) * a) / n;\n  }\n  return ret;\n};\nnumeric.getBlock = function getBlock(x, from, to) {\n  var s = numeric.dim(x);\n  function foo(x, k) {\n    var i,\n      a = from[k],\n      n = to[k] - a,\n      ret = Array(n);\n    if (k === s.length - 1) {\n      for (i = n; i >= 0; i--) {\n        ret[i] = x[i + a];\n      }\n      return ret;\n    }\n    for (i = n; i >= 0; i--) {\n      ret[i] = foo(x[i + a], k + 1);\n    }\n    return ret;\n  }\n  return foo(x, 0);\n};\nnumeric.setBlock = function setBlock(x, from, to, B) {\n  var s = numeric.dim(x);\n  function foo(x, y, k) {\n    var i,\n      a = from[k],\n      n = to[k] - a;\n    if (k === s.length - 1) {\n      for (i = n; i >= 0; i--) {\n        x[i + a] = y[i];\n      }\n    }\n    for (i = n; i >= 0; i--) {\n      foo(x[i + a], y[i], k + 1);\n    }\n  }\n  foo(x, B, 0);\n  return x;\n};\nnumeric.getRange = function getRange(A, I, J) {\n  var m = I.length,\n    n = J.length;\n  var i, j;\n  var B = Array(m),\n    Bi,\n    AI;\n  for (i = m - 1; i !== -1; --i) {\n    B[i] = Array(n);\n    Bi = B[i];\n    AI = A[I[i]];\n    for (j = n - 1; j !== -1; --j) Bi[j] = AI[J[j]];\n  }\n  return B;\n};\nnumeric.blockMatrix = function blockMatrix(X) {\n  var s = numeric.dim(X);\n  if (s.length < 4) return numeric.blockMatrix([X]);\n  var m = s[0],\n    n = s[1],\n    M,\n    N,\n    i,\n    j,\n    Xij;\n  M = 0;\n  N = 0;\n  for (i = 0; i < m; ++i) M += X[i][0].length;\n  for (j = 0; j < n; ++j) N += X[0][j][0].length;\n  var Z = Array(M);\n  for (i = 0; i < M; ++i) Z[i] = Array(N);\n  var I = 0,\n    J,\n    ZI,\n    k,\n    l,\n    Xijk;\n  for (i = 0; i < m; ++i) {\n    J = N;\n    for (j = n - 1; j !== -1; --j) {\n      Xij = X[i][j];\n      J -= Xij[0].length;\n      for (k = Xij.length - 1; k !== -1; --k) {\n        Xijk = Xij[k];\n        ZI = Z[I + k];\n        for (l = Xijk.length - 1; l !== -1; --l) ZI[J + l] = Xijk[l];\n      }\n    }\n    I += X[i][0].length;\n  }\n  return Z;\n};\nnumeric.tensor = function tensor(x, y) {\n  if (typeof x === \"number\" || typeof y === \"number\") return numeric.mul(x, y);\n  var s1 = numeric.dim(x),\n    s2 = numeric.dim(y);\n  if (s1.length !== 1 || s2.length !== 1) {\n    throw new Error('numeric: tensor product is only defined for vectors');\n  }\n  var m = s1[0],\n    n = s2[0],\n    A = Array(m),\n    Ai,\n    i,\n    j,\n    xi;\n  for (i = m - 1; i >= 0; i--) {\n    Ai = Array(n);\n    xi = x[i];\n    for (j = n - 1; j >= 3; --j) {\n      Ai[j] = xi * y[j];\n      --j;\n      Ai[j] = xi * y[j];\n      --j;\n      Ai[j] = xi * y[j];\n      --j;\n      Ai[j] = xi * y[j];\n    }\n    while (j >= 0) {\n      Ai[j] = xi * y[j];\n      --j;\n    }\n    A[i] = Ai;\n  }\n  return A;\n};\n\n// 3. The Tensor type T\nnumeric.T = function T(x, y) {\n  this.x = x;\n  this.y = y;\n};\nnumeric.t = function t(x, y) {\n  return new numeric.T(x, y);\n};\nnumeric.Tbinop = function Tbinop(rr, rc, cr, cc, setup) {\n  var io = numeric.indexOf;\n  if (typeof setup !== \"string\") {\n    var k;\n    setup = '';\n    for (k in numeric) {\n      if (numeric.hasOwnProperty(k) && (rr.indexOf(k) >= 0 || rc.indexOf(k) >= 0 || cr.indexOf(k) >= 0 || cc.indexOf(k) >= 0) && k.length > 1) {\n        setup += 'var ' + k + ' = numeric.' + k + ';\\n';\n      }\n    }\n  }\n  return Function(['y'], 'var x = this;\\n' + 'if(!(y instanceof numeric.T)) { y = new numeric.T(y); }\\n' + setup + '\\n' + 'if(x.y) {' + '  if(y.y) {' + '    return new numeric.T(' + cc + ');\\n' + '  }\\n' + '  return new numeric.T(' + cr + ');\\n' + '}\\n' + 'if(y.y) {\\n' + '  return new numeric.T(' + rc + ');\\n' + '}\\n' + 'return new numeric.T(' + rr + ');\\n');\n};\nnumeric.T.prototype.add = numeric.Tbinop('add(x.x,y.x)', 'add(x.x,y.x),y.y', 'add(x.x,y.x),x.y', 'add(x.x,y.x),add(x.y,y.y)');\nnumeric.T.prototype.sub = numeric.Tbinop('sub(x.x,y.x)', 'sub(x.x,y.x),neg(y.y)', 'sub(x.x,y.x),x.y', 'sub(x.x,y.x),sub(x.y,y.y)');\nnumeric.T.prototype.mul = numeric.Tbinop('mul(x.x,y.x)', 'mul(x.x,y.x),mul(x.x,y.y)', 'mul(x.x,y.x),mul(x.y,y.x)', 'sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))');\nnumeric.T.prototype.reciprocal = function reciprocal() {\n  var mul = numeric.mul,\n    div = numeric.div;\n  if (this.y) {\n    var d = numeric.add(mul(this.x, this.x), mul(this.y, this.y));\n    return new numeric.T(div(this.x, d), div(numeric.neg(this.y), d));\n  }\n  return new T(div(1, this.x));\n};\nnumeric.T.prototype.div = function div(y) {\n  if (!(y instanceof numeric.T)) y = new numeric.T(y);\n  if (y.y) {\n    return this.mul(y.reciprocal());\n  }\n  var div = numeric.div;\n  if (this.y) {\n    return new numeric.T(div(this.x, y.x), div(this.y, y.x));\n  }\n  return new numeric.T(div(this.x, y.x));\n};\nnumeric.T.prototype.dot = numeric.Tbinop('dot(x.x,y.x)', 'dot(x.x,y.x),dot(x.x,y.y)', 'dot(x.x,y.x),dot(x.y,y.x)', 'sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))');\nnumeric.T.prototype.transpose = function transpose() {\n  var t = numeric.transpose,\n    x = this.x,\n    y = this.y;\n  if (y) {\n    return new numeric.T(t(x), t(y));\n  }\n  return new numeric.T(t(x));\n};\nnumeric.T.prototype.transjugate = function transjugate() {\n  var t = numeric.transpose,\n    x = this.x,\n    y = this.y;\n  if (y) {\n    return new numeric.T(t(x), numeric.negtranspose(y));\n  }\n  return new numeric.T(t(x));\n};\nnumeric.Tunop = function Tunop(r, c, s) {\n  if (typeof s !== \"string\") {\n    s = '';\n  }\n  return Function('var x = this;\\n' + s + '\\n' + 'if(x.y) {' + '  ' + c + ';\\n' + '}\\n' + r + ';\\n');\n};\nnumeric.T.prototype.exp = numeric.Tunop('return new numeric.T(ex)', 'return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))', 'var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;');\nnumeric.T.prototype.conj = numeric.Tunop('return new numeric.T(x.x);', 'return new numeric.T(x.x,numeric.neg(x.y));');\nnumeric.T.prototype.neg = numeric.Tunop('return new numeric.T(neg(x.x));', 'return new numeric.T(neg(x.x),neg(x.y));', 'var neg = numeric.neg;');\nnumeric.T.prototype.sin = numeric.Tunop('return new numeric.T(numeric.sin(x.x))', 'return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));');\nnumeric.T.prototype.cos = numeric.Tunop('return new numeric.T(numeric.cos(x.x))', 'return x.exp().add(x.neg().exp()).div(2);');\nnumeric.T.prototype.abs = numeric.Tunop('return new numeric.T(numeric.abs(x.x));', 'return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));', 'var mul = numeric.mul;');\nnumeric.T.prototype.log = numeric.Tunop('return new numeric.T(numeric.log(x.x));', 'var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\\n' + 'return new numeric.T(numeric.log(r.x),theta.x);');\nnumeric.T.prototype.norm2 = numeric.Tunop('return numeric.norm2(x.x);', 'var f = numeric.norm2Squared;\\n' + 'return Math.sqrt(f(x.x)+f(x.y));');\nnumeric.T.prototype.inv = function inv() {\n  var A = this;\n  if (typeof A.y === \"undefined\") {\n    return new numeric.T(numeric.inv(A.x));\n  }\n  var n = A.x.length,\n    i,\n    j,\n    k;\n  var Rx = numeric.identity(n),\n    Ry = numeric.rep([n, n], 0);\n  var Ax = numeric.clone(A.x),\n    Ay = numeric.clone(A.y);\n  var Aix, Aiy, Ajx, Ajy, Rix, Riy, Rjx, Rjy;\n  var i, j, k, d, d1, ax, ay, bx, by, temp;\n  for (i = 0; i < n; i++) {\n    ax = Ax[i][i];\n    ay = Ay[i][i];\n    d = ax * ax + ay * ay;\n    k = i;\n    for (j = i + 1; j < n; j++) {\n      ax = Ax[j][i];\n      ay = Ay[j][i];\n      d1 = ax * ax + ay * ay;\n      if (d1 > d) {\n        k = j;\n        d = d1;\n      }\n    }\n    if (k !== i) {\n      temp = Ax[i];\n      Ax[i] = Ax[k];\n      Ax[k] = temp;\n      temp = Ay[i];\n      Ay[i] = Ay[k];\n      Ay[k] = temp;\n      temp = Rx[i];\n      Rx[i] = Rx[k];\n      Rx[k] = temp;\n      temp = Ry[i];\n      Ry[i] = Ry[k];\n      Ry[k] = temp;\n    }\n    Aix = Ax[i];\n    Aiy = Ay[i];\n    Rix = Rx[i];\n    Riy = Ry[i];\n    ax = Aix[i];\n    ay = Aiy[i];\n    for (j = i + 1; j < n; j++) {\n      bx = Aix[j];\n      by = Aiy[j];\n      Aix[j] = (bx * ax + by * ay) / d;\n      Aiy[j] = (by * ax - bx * ay) / d;\n    }\n    for (j = 0; j < n; j++) {\n      bx = Rix[j];\n      by = Riy[j];\n      Rix[j] = (bx * ax + by * ay) / d;\n      Riy[j] = (by * ax - bx * ay) / d;\n    }\n    for (j = i + 1; j < n; j++) {\n      Ajx = Ax[j];\n      Ajy = Ay[j];\n      Rjx = Rx[j];\n      Rjy = Ry[j];\n      ax = Ajx[i];\n      ay = Ajy[i];\n      for (k = i + 1; k < n; k++) {\n        bx = Aix[k];\n        by = Aiy[k];\n        Ajx[k] -= bx * ax - by * ay;\n        Ajy[k] -= by * ax + bx * ay;\n      }\n      for (k = 0; k < n; k++) {\n        bx = Rix[k];\n        by = Riy[k];\n        Rjx[k] -= bx * ax - by * ay;\n        Rjy[k] -= by * ax + bx * ay;\n      }\n    }\n  }\n  for (i = n - 1; i > 0; i--) {\n    Rix = Rx[i];\n    Riy = Ry[i];\n    for (j = i - 1; j >= 0; j--) {\n      Rjx = Rx[j];\n      Rjy = Ry[j];\n      ax = Ax[j][i];\n      ay = Ay[j][i];\n      for (k = n - 1; k >= 0; k--) {\n        bx = Rix[k];\n        by = Riy[k];\n        Rjx[k] -= ax * bx - ay * by;\n        Rjy[k] -= ax * by + ay * bx;\n      }\n    }\n  }\n  return new numeric.T(Rx, Ry);\n};\nnumeric.T.prototype.get = function get(i) {\n  var x = this.x,\n    y = this.y,\n    k = 0,\n    ik,\n    n = i.length;\n  if (y) {\n    while (k < n) {\n      ik = i[k];\n      x = x[ik];\n      y = y[ik];\n      k++;\n    }\n    return new numeric.T(x, y);\n  }\n  while (k < n) {\n    ik = i[k];\n    x = x[ik];\n    k++;\n  }\n  return new numeric.T(x);\n};\nnumeric.T.prototype.set = function set(i, v) {\n  var x = this.x,\n    y = this.y,\n    k = 0,\n    ik,\n    n = i.length,\n    vx = v.x,\n    vy = v.y;\n  if (n === 0) {\n    if (vy) {\n      this.y = vy;\n    } else if (y) {\n      this.y = undefined;\n    }\n    this.x = x;\n    return this;\n  }\n  if (vy) {\n    if (y) {/* ok */} else {\n      y = numeric.rep(numeric.dim(x), 0);\n      this.y = y;\n    }\n    while (k < n - 1) {\n      ik = i[k];\n      x = x[ik];\n      y = y[ik];\n      k++;\n    }\n    ik = i[k];\n    x[ik] = vx;\n    y[ik] = vy;\n    return this;\n  }\n  if (y) {\n    while (k < n - 1) {\n      ik = i[k];\n      x = x[ik];\n      y = y[ik];\n      k++;\n    }\n    ik = i[k];\n    x[ik] = vx;\n    if (vx instanceof Array) y[ik] = numeric.rep(numeric.dim(vx), 0);else y[ik] = 0;\n    return this;\n  }\n  while (k < n - 1) {\n    ik = i[k];\n    x = x[ik];\n    k++;\n  }\n  ik = i[k];\n  x[ik] = vx;\n  return this;\n};\nnumeric.T.prototype.getRows = function getRows(i0, i1) {\n  var n = i1 - i0 + 1,\n    j;\n  var rx = Array(n),\n    ry,\n    x = this.x,\n    y = this.y;\n  for (j = i0; j <= i1; j++) {\n    rx[j - i0] = x[j];\n  }\n  if (y) {\n    ry = Array(n);\n    for (j = i0; j <= i1; j++) {\n      ry[j - i0] = y[j];\n    }\n    return new numeric.T(rx, ry);\n  }\n  return new numeric.T(rx);\n};\nnumeric.T.prototype.setRows = function setRows(i0, i1, A) {\n  var j;\n  var rx = this.x,\n    ry = this.y,\n    x = A.x,\n    y = A.y;\n  for (j = i0; j <= i1; j++) {\n    rx[j] = x[j - i0];\n  }\n  if (y) {\n    if (!ry) {\n      ry = numeric.rep(numeric.dim(rx), 0);\n      this.y = ry;\n    }\n    for (j = i0; j <= i1; j++) {\n      ry[j] = y[j - i0];\n    }\n  } else if (ry) {\n    for (j = i0; j <= i1; j++) {\n      ry[j] = numeric.rep([x[j - i0].length], 0);\n    }\n  }\n  return this;\n};\nnumeric.T.prototype.getRow = function getRow(k) {\n  var x = this.x,\n    y = this.y;\n  if (y) {\n    return new numeric.T(x[k], y[k]);\n  }\n  return new numeric.T(x[k]);\n};\nnumeric.T.prototype.setRow = function setRow(i, v) {\n  var rx = this.x,\n    ry = this.y,\n    x = v.x,\n    y = v.y;\n  rx[i] = x;\n  if (y) {\n    if (!ry) {\n      ry = numeric.rep(numeric.dim(rx), 0);\n      this.y = ry;\n    }\n    ry[i] = y;\n  } else if (ry) {\n    ry = numeric.rep([x.length], 0);\n  }\n  return this;\n};\nnumeric.T.prototype.getBlock = function getBlock(from, to) {\n  var x = this.x,\n    y = this.y,\n    b = numeric.getBlock;\n  if (y) {\n    return new numeric.T(b(x, from, to), b(y, from, to));\n  }\n  return new numeric.T(b(x, from, to));\n};\nnumeric.T.prototype.setBlock = function setBlock(from, to, A) {\n  if (!(A instanceof numeric.T)) A = new numeric.T(A);\n  var x = this.x,\n    y = this.y,\n    b = numeric.setBlock,\n    Ax = A.x,\n    Ay = A.y;\n  if (Ay) {\n    if (!y) {\n      this.y = numeric.rep(numeric.dim(this), 0);\n      y = this.y;\n    }\n    b(x, from, to, Ax);\n    b(y, from, to, Ay);\n    return this;\n  }\n  b(x, from, to, Ax);\n  if (y) b(y, from, to, numeric.rep(numeric.dim(Ax), 0));\n};\nnumeric.T.rep = function rep(s, v) {\n  var T = numeric.T;\n  if (!(v instanceof T)) v = new T(v);\n  var x = v.x,\n    y = v.y,\n    r = numeric.rep;\n  if (y) return new T(r(s, x), r(s, y));\n  return new T(r(s, x));\n};\nnumeric.T.diag = function diag(d) {\n  if (!(d instanceof numeric.T)) d = new numeric.T(d);\n  var x = d.x,\n    y = d.y,\n    diag = numeric.diag;\n  if (y) return new numeric.T(diag(x), diag(y));\n  return new numeric.T(diag(x));\n};\nnumeric.T.eig = function eig() {\n  if (this.y) {\n    throw new Error('eig: not implemented for complex matrices.');\n  }\n  return numeric.eig(this.x);\n};\nnumeric.T.identity = function identity(n) {\n  return new numeric.T(numeric.identity(n));\n};\nnumeric.T.prototype.getDiag = function getDiag() {\n  var n = numeric;\n  var x = this.x,\n    y = this.y;\n  if (y) {\n    return new n.T(n.getDiag(x), n.getDiag(y));\n  }\n  return new n.T(n.getDiag(x));\n};\n\n// 4. Eigenvalues of real matrices\n\nnumeric.house = function house(x) {\n  var v = numeric.clone(x);\n  var s = x[0] >= 0 ? 1 : -1;\n  var alpha = s * numeric.norm2(x);\n  v[0] += alpha;\n  var foo = numeric.norm2(v);\n  if (foo === 0) {\n    /* this should not happen */throw new Error('eig: internal error');\n  }\n  return numeric.div(v, foo);\n};\nnumeric.toUpperHessenberg = function toUpperHessenberg(me) {\n  var s = numeric.dim(me);\n  if (s.length !== 2 || s[0] !== s[1]) {\n    throw new Error('numeric: toUpperHessenberg() only works on square matrices');\n  }\n  var m = s[0],\n    i,\n    j,\n    k,\n    x,\n    v,\n    A = numeric.clone(me),\n    B,\n    C,\n    Ai,\n    Ci,\n    Q = numeric.identity(m),\n    Qi;\n  for (j = 0; j < m - 2; j++) {\n    x = Array(m - j - 1);\n    for (i = j + 1; i < m; i++) {\n      x[i - j - 1] = A[i][j];\n    }\n    if (numeric.norm2(x) > 0) {\n      v = numeric.house(x);\n      B = numeric.getBlock(A, [j + 1, j], [m - 1, m - 1]);\n      C = numeric.tensor(v, numeric.dot(v, B));\n      for (i = j + 1; i < m; i++) {\n        Ai = A[i];\n        Ci = C[i - j - 1];\n        for (k = j; k < m; k++) Ai[k] -= 2 * Ci[k - j];\n      }\n      B = numeric.getBlock(A, [0, j + 1], [m - 1, m - 1]);\n      C = numeric.tensor(numeric.dot(B, v), v);\n      for (i = 0; i < m; i++) {\n        Ai = A[i];\n        Ci = C[i];\n        for (k = j + 1; k < m; k++) Ai[k] -= 2 * Ci[k - j - 1];\n      }\n      B = Array(m - j - 1);\n      for (i = j + 1; i < m; i++) B[i - j - 1] = Q[i];\n      C = numeric.tensor(v, numeric.dot(v, B));\n      for (i = j + 1; i < m; i++) {\n        Qi = Q[i];\n        Ci = C[i - j - 1];\n        for (k = 0; k < m; k++) Qi[k] -= 2 * Ci[k];\n      }\n    }\n  }\n  return {\n    H: A,\n    Q: Q\n  };\n};\nnumeric.epsilon = 2.220446049250313e-16;\nnumeric.QRFrancis = function (H, maxiter) {\n  if (typeof maxiter === \"undefined\") {\n    maxiter = 10000;\n  }\n  H = numeric.clone(H);\n  var H0 = numeric.clone(H);\n  var s = numeric.dim(H),\n    m = s[0],\n    x,\n    v,\n    a,\n    b,\n    c,\n    d,\n    det,\n    tr,\n    Hloc,\n    Q = numeric.identity(m),\n    Qi,\n    Hi,\n    B,\n    C,\n    Ci,\n    i,\n    j,\n    k,\n    iter;\n  if (m < 3) {\n    return {\n      Q: Q,\n      B: [[0, m - 1]]\n    };\n  }\n  var epsilon = numeric.epsilon;\n  for (iter = 0; iter < maxiter; iter++) {\n    for (j = 0; j < m - 1; j++) {\n      if (Math.abs(H[j + 1][j]) < epsilon * (Math.abs(H[j][j]) + Math.abs(H[j + 1][j + 1]))) {\n        var QH1 = numeric.QRFrancis(numeric.getBlock(H, [0, 0], [j, j]), maxiter);\n        var QH2 = numeric.QRFrancis(numeric.getBlock(H, [j + 1, j + 1], [m - 1, m - 1]), maxiter);\n        B = Array(j + 1);\n        for (i = 0; i <= j; i++) {\n          B[i] = Q[i];\n        }\n        C = numeric.dot(QH1.Q, B);\n        for (i = 0; i <= j; i++) {\n          Q[i] = C[i];\n        }\n        B = Array(m - j - 1);\n        for (i = j + 1; i < m; i++) {\n          B[i - j - 1] = Q[i];\n        }\n        C = numeric.dot(QH2.Q, B);\n        for (i = j + 1; i < m; i++) {\n          Q[i] = C[i - j - 1];\n        }\n        return {\n          Q: Q,\n          B: QH1.B.concat(numeric.add(QH2.B, j + 1))\n        };\n      }\n    }\n    a = H[m - 2][m - 2];\n    b = H[m - 2][m - 1];\n    c = H[m - 1][m - 2];\n    d = H[m - 1][m - 1];\n    tr = a + d;\n    det = a * d - b * c;\n    Hloc = numeric.getBlock(H, [0, 0], [2, 2]);\n    if (tr * tr >= 4 * det) {\n      var s1, s2;\n      s1 = 0.5 * (tr + Math.sqrt(tr * tr - 4 * det));\n      s2 = 0.5 * (tr - Math.sqrt(tr * tr - 4 * det));\n      Hloc = numeric.add(numeric.sub(numeric.dot(Hloc, Hloc), numeric.mul(Hloc, s1 + s2)), numeric.diag(numeric.rep([3], s1 * s2)));\n    } else {\n      Hloc = numeric.add(numeric.sub(numeric.dot(Hloc, Hloc), numeric.mul(Hloc, tr)), numeric.diag(numeric.rep([3], det)));\n    }\n    x = [Hloc[0][0], Hloc[1][0], Hloc[2][0]];\n    v = numeric.house(x);\n    B = [H[0], H[1], H[2]];\n    C = numeric.tensor(v, numeric.dot(v, B));\n    for (i = 0; i < 3; i++) {\n      Hi = H[i];\n      Ci = C[i];\n      for (k = 0; k < m; k++) Hi[k] -= 2 * Ci[k];\n    }\n    B = numeric.getBlock(H, [0, 0], [m - 1, 2]);\n    C = numeric.tensor(numeric.dot(B, v), v);\n    for (i = 0; i < m; i++) {\n      Hi = H[i];\n      Ci = C[i];\n      for (k = 0; k < 3; k++) Hi[k] -= 2 * Ci[k];\n    }\n    B = [Q[0], Q[1], Q[2]];\n    C = numeric.tensor(v, numeric.dot(v, B));\n    for (i = 0; i < 3; i++) {\n      Qi = Q[i];\n      Ci = C[i];\n      for (k = 0; k < m; k++) Qi[k] -= 2 * Ci[k];\n    }\n    var J;\n    for (j = 0; j < m - 2; j++) {\n      for (k = j; k <= j + 1; k++) {\n        if (Math.abs(H[k + 1][k]) < epsilon * (Math.abs(H[k][k]) + Math.abs(H[k + 1][k + 1]))) {\n          var QH1 = numeric.QRFrancis(numeric.getBlock(H, [0, 0], [k, k]), maxiter);\n          var QH2 = numeric.QRFrancis(numeric.getBlock(H, [k + 1, k + 1], [m - 1, m - 1]), maxiter);\n          B = Array(k + 1);\n          for (i = 0; i <= k; i++) {\n            B[i] = Q[i];\n          }\n          C = numeric.dot(QH1.Q, B);\n          for (i = 0; i <= k; i++) {\n            Q[i] = C[i];\n          }\n          B = Array(m - k - 1);\n          for (i = k + 1; i < m; i++) {\n            B[i - k - 1] = Q[i];\n          }\n          C = numeric.dot(QH2.Q, B);\n          for (i = k + 1; i < m; i++) {\n            Q[i] = C[i - k - 1];\n          }\n          return {\n            Q: Q,\n            B: QH1.B.concat(numeric.add(QH2.B, k + 1))\n          };\n        }\n      }\n      J = Math.min(m - 1, j + 3);\n      x = Array(J - j);\n      for (i = j + 1; i <= J; i++) {\n        x[i - j - 1] = H[i][j];\n      }\n      v = numeric.house(x);\n      B = numeric.getBlock(H, [j + 1, j], [J, m - 1]);\n      C = numeric.tensor(v, numeric.dot(v, B));\n      for (i = j + 1; i <= J; i++) {\n        Hi = H[i];\n        Ci = C[i - j - 1];\n        for (k = j; k < m; k++) Hi[k] -= 2 * Ci[k - j];\n      }\n      B = numeric.getBlock(H, [0, j + 1], [m - 1, J]);\n      C = numeric.tensor(numeric.dot(B, v), v);\n      for (i = 0; i < m; i++) {\n        Hi = H[i];\n        Ci = C[i];\n        for (k = j + 1; k <= J; k++) Hi[k] -= 2 * Ci[k - j - 1];\n      }\n      B = Array(J - j);\n      for (i = j + 1; i <= J; i++) B[i - j - 1] = Q[i];\n      C = numeric.tensor(v, numeric.dot(v, B));\n      for (i = j + 1; i <= J; i++) {\n        Qi = Q[i];\n        Ci = C[i - j - 1];\n        for (k = 0; k < m; k++) Qi[k] -= 2 * Ci[k];\n      }\n    }\n  }\n  throw new Error('numeric: eigenvalue iteration does not converge -- increase maxiter?');\n};\nnumeric.eig = function eig(A, maxiter) {\n  var QH = numeric.toUpperHessenberg(A);\n  var QB = numeric.QRFrancis(QH.H, maxiter);\n  var T = numeric.T;\n  var n = A.length,\n    i,\n    k,\n    flag = false,\n    B = QB.B,\n    H = numeric.dot(QB.Q, numeric.dot(QH.H, numeric.transpose(QB.Q)));\n  var Q = new T(numeric.dot(QB.Q, QH.Q)),\n    Q0;\n  var m = B.length,\n    j;\n  var a, b, c, d, p1, p2, disc, x, y, p, q, n1, n2;\n  var sqrt = Math.sqrt;\n  for (k = 0; k < m; k++) {\n    i = B[k][0];\n    if (i === B[k][1]) {\n      // nothing\n    } else {\n      j = i + 1;\n      a = H[i][i];\n      b = H[i][j];\n      c = H[j][i];\n      d = H[j][j];\n      if (b === 0 && c === 0) continue;\n      p1 = -a - d;\n      p2 = a * d - b * c;\n      disc = p1 * p1 - 4 * p2;\n      if (disc >= 0) {\n        if (p1 < 0) x = -0.5 * (p1 - sqrt(disc));else x = -0.5 * (p1 + sqrt(disc));\n        n1 = (a - x) * (a - x) + b * b;\n        n2 = c * c + (d - x) * (d - x);\n        if (n1 > n2) {\n          n1 = sqrt(n1);\n          p = (a - x) / n1;\n          q = b / n1;\n        } else {\n          n2 = sqrt(n2);\n          p = c / n2;\n          q = (d - x) / n2;\n        }\n        Q0 = new T([[q, -p], [p, q]]);\n        Q.setRows(i, j, Q0.dot(Q.getRows(i, j)));\n      } else {\n        x = -0.5 * p1;\n        y = 0.5 * sqrt(-disc);\n        n1 = (a - x) * (a - x) + b * b;\n        n2 = c * c + (d - x) * (d - x);\n        if (n1 > n2) {\n          n1 = sqrt(n1 + y * y);\n          p = (a - x) / n1;\n          q = b / n1;\n          x = 0;\n          y /= n1;\n        } else {\n          n2 = sqrt(n2 + y * y);\n          p = c / n2;\n          q = (d - x) / n2;\n          x = y / n2;\n          y = 0;\n        }\n        Q0 = new T([[q, -p], [p, q]], [[x, y], [y, -x]]);\n        Q.setRows(i, j, Q0.dot(Q.getRows(i, j)));\n      }\n    }\n  }\n  var R = Q.dot(A).dot(Q.transjugate()),\n    n = A.length,\n    E = numeric.T.identity(n);\n  for (j = 0; j < n; j++) {\n    if (j > 0) {\n      for (k = j - 1; k >= 0; k--) {\n        var Rk = R.get([k, k]),\n          Rj = R.get([j, j]);\n        if (numeric.neq(Rk.x, Rj.x) || numeric.neq(Rk.y, Rj.y)) {\n          x = R.getRow(k).getBlock([k], [j - 1]);\n          y = E.getRow(j).getBlock([k], [j - 1]);\n          E.set([j, k], R.get([k, j]).neg().sub(x.dot(y)).div(Rk.sub(Rj)));\n        } else {\n          E.setRow(j, E.getRow(k));\n          continue;\n        }\n      }\n    }\n  }\n  for (j = 0; j < n; j++) {\n    x = E.getRow(j);\n    E.setRow(j, x.div(x.norm2()));\n  }\n  E = E.transpose();\n  E = Q.transjugate().dot(E);\n  return {\n    lambda: R.getDiag(),\n    E: E\n  };\n};\n\n// 5. Compressed Column Storage matrices\nnumeric.ccsSparse = function ccsSparse(A) {\n  var m = A.length,\n    n,\n    foo,\n    i,\n    j,\n    counts = [];\n  for (i = m - 1; i !== -1; --i) {\n    foo = A[i];\n    for (j in foo) {\n      j = parseInt(j);\n      while (j >= counts.length) counts[counts.length] = 0;\n      if (foo[j] !== 0) counts[j]++;\n    }\n  }\n  var n = counts.length;\n  var Ai = Array(n + 1);\n  Ai[0] = 0;\n  for (i = 0; i < n; ++i) Ai[i + 1] = Ai[i] + counts[i];\n  var Aj = Array(Ai[n]),\n    Av = Array(Ai[n]);\n  for (i = m - 1; i !== -1; --i) {\n    foo = A[i];\n    for (j in foo) {\n      if (foo[j] !== 0) {\n        counts[j]--;\n        Aj[Ai[j] + counts[j]] = i;\n        Av[Ai[j] + counts[j]] = foo[j];\n      }\n    }\n  }\n  return [Ai, Aj, Av];\n};\nnumeric.ccsFull = function ccsFull(A) {\n  var Ai = A[0],\n    Aj = A[1],\n    Av = A[2],\n    s = numeric.ccsDim(A),\n    m = s[0],\n    n = s[1],\n    i,\n    j,\n    j0,\n    j1,\n    k;\n  var B = numeric.rep([m, n], 0);\n  for (i = 0; i < n; i++) {\n    j0 = Ai[i];\n    j1 = Ai[i + 1];\n    for (j = j0; j < j1; ++j) {\n      B[Aj[j]][i] = Av[j];\n    }\n  }\n  return B;\n};\nnumeric.ccsTSolve = function ccsTSolve(A, b, x, bj, xj) {\n  var Ai = A[0],\n    Aj = A[1],\n    Av = A[2],\n    m = Ai.length - 1,\n    max = Math.max,\n    n = 0;\n  if (typeof bj === \"undefined\") x = numeric.rep([m], 0);\n  if (typeof bj === \"undefined\") bj = numeric.linspace(0, x.length - 1);\n  if (typeof xj === \"undefined\") xj = [];\n  function dfs(j) {\n    var k;\n    if (x[j] !== 0) return;\n    x[j] = 1;\n    for (k = Ai[j]; k < Ai[j + 1]; ++k) dfs(Aj[k]);\n    xj[n] = j;\n    ++n;\n  }\n  var i, j, j0, j1, k, l, l0, l1, a;\n  for (i = bj.length - 1; i !== -1; --i) {\n    dfs(bj[i]);\n  }\n  xj.length = n;\n  for (i = xj.length - 1; i !== -1; --i) {\n    x[xj[i]] = 0;\n  }\n  for (i = bj.length - 1; i !== -1; --i) {\n    j = bj[i];\n    x[j] = b[j];\n  }\n  for (i = xj.length - 1; i !== -1; --i) {\n    j = xj[i];\n    j0 = Ai[j];\n    j1 = max(Ai[j + 1], j0);\n    for (k = j0; k !== j1; ++k) {\n      if (Aj[k] === j) {\n        x[j] /= Av[k];\n        break;\n      }\n    }\n    a = x[j];\n    for (k = j0; k !== j1; ++k) {\n      l = Aj[k];\n      if (l !== j) x[l] -= a * Av[k];\n    }\n  }\n  return x;\n};\nnumeric.ccsDFS = function ccsDFS(n) {\n  this.k = Array(n);\n  this.k1 = Array(n);\n  this.j = Array(n);\n};\nnumeric.ccsDFS.prototype.dfs = function dfs(J, Ai, Aj, x, xj, Pinv) {\n  var m = 0,\n    foo,\n    n = xj.length;\n  var k = this.k,\n    k1 = this.k1,\n    j = this.j,\n    km,\n    k11;\n  if (x[J] !== 0) return;\n  x[J] = 1;\n  j[0] = J;\n  k[0] = km = Ai[J];\n  k1[0] = k11 = Ai[J + 1];\n  while (1) {\n    if (km >= k11) {\n      xj[n] = j[m];\n      if (m === 0) return;\n      ++n;\n      --m;\n      km = k[m];\n      k11 = k1[m];\n    } else {\n      foo = Pinv[Aj[km]];\n      if (x[foo] === 0) {\n        x[foo] = 1;\n        k[m] = km;\n        ++m;\n        j[m] = foo;\n        km = Ai[foo];\n        k1[m] = k11 = Ai[foo + 1];\n      } else ++km;\n    }\n  }\n};\nnumeric.ccsLPSolve = function ccsLPSolve(A, B, x, xj, I, Pinv, dfs) {\n  var Ai = A[0],\n    Aj = A[1],\n    Av = A[2],\n    m = Ai.length - 1,\n    n = 0;\n  var Bi = B[0],\n    Bj = B[1],\n    Bv = B[2];\n  var i, i0, i1, j, J, j0, j1, k, l, l0, l1, a;\n  i0 = Bi[I];\n  i1 = Bi[I + 1];\n  xj.length = 0;\n  for (i = i0; i < i1; ++i) {\n    dfs.dfs(Pinv[Bj[i]], Ai, Aj, x, xj, Pinv);\n  }\n  for (i = xj.length - 1; i !== -1; --i) {\n    x[xj[i]] = 0;\n  }\n  for (i = i0; i !== i1; ++i) {\n    j = Pinv[Bj[i]];\n    x[j] = Bv[i];\n  }\n  for (i = xj.length - 1; i !== -1; --i) {\n    j = xj[i];\n    j0 = Ai[j];\n    j1 = Ai[j + 1];\n    for (k = j0; k < j1; ++k) {\n      if (Pinv[Aj[k]] === j) {\n        x[j] /= Av[k];\n        break;\n      }\n    }\n    a = x[j];\n    for (k = j0; k < j1; ++k) {\n      l = Pinv[Aj[k]];\n      if (l !== j) x[l] -= a * Av[k];\n    }\n  }\n  return x;\n};\nnumeric.ccsLUP1 = function ccsLUP1(A, threshold) {\n  var m = A[0].length - 1;\n  var L = [numeric.rep([m + 1], 0), [], []],\n    U = [numeric.rep([m + 1], 0), [], []];\n  var Li = L[0],\n    Lj = L[1],\n    Lv = L[2],\n    Ui = U[0],\n    Uj = U[1],\n    Uv = U[2];\n  var x = numeric.rep([m], 0),\n    xj = numeric.rep([m], 0);\n  var i, j, k, j0, j1, a, e, c, d, K;\n  var sol = numeric.ccsLPSolve,\n    max = Math.max,\n    abs = Math.abs;\n  var P = numeric.linspace(0, m - 1),\n    Pinv = numeric.linspace(0, m - 1);\n  var dfs = new numeric.ccsDFS(m);\n  if (typeof threshold === \"undefined\") {\n    threshold = 1;\n  }\n  for (i = 0; i < m; ++i) {\n    sol(L, A, x, xj, i, Pinv, dfs);\n    a = -1;\n    e = -1;\n    for (j = xj.length - 1; j !== -1; --j) {\n      k = xj[j];\n      if (k <= i) continue;\n      c = abs(x[k]);\n      if (c > a) {\n        e = k;\n        a = c;\n      }\n    }\n    if (abs(x[i]) < threshold * a) {\n      j = P[i];\n      a = P[e];\n      P[i] = a;\n      Pinv[a] = i;\n      P[e] = j;\n      Pinv[j] = e;\n      a = x[i];\n      x[i] = x[e];\n      x[e] = a;\n    }\n    a = Li[i];\n    e = Ui[i];\n    d = x[i];\n    Lj[a] = P[i];\n    Lv[a] = 1;\n    ++a;\n    for (j = xj.length - 1; j !== -1; --j) {\n      k = xj[j];\n      c = x[k];\n      xj[j] = 0;\n      x[k] = 0;\n      if (k <= i) {\n        Uj[e] = k;\n        Uv[e] = c;\n        ++e;\n      } else {\n        Lj[a] = P[k];\n        Lv[a] = c / d;\n        ++a;\n      }\n    }\n    Li[i + 1] = a;\n    Ui[i + 1] = e;\n  }\n  for (j = Lj.length - 1; j !== -1; --j) {\n    Lj[j] = Pinv[Lj[j]];\n  }\n  return {\n    L: L,\n    U: U,\n    P: P,\n    Pinv: Pinv\n  };\n};\nnumeric.ccsDFS0 = function ccsDFS0(n) {\n  this.k = Array(n);\n  this.k1 = Array(n);\n  this.j = Array(n);\n};\nnumeric.ccsDFS0.prototype.dfs = function dfs(J, Ai, Aj, x, xj, Pinv, P) {\n  var m = 0,\n    foo,\n    n = xj.length;\n  var k = this.k,\n    k1 = this.k1,\n    j = this.j,\n    km,\n    k11;\n  if (x[J] !== 0) return;\n  x[J] = 1;\n  j[0] = J;\n  k[0] = km = Ai[Pinv[J]];\n  k1[0] = k11 = Ai[Pinv[J] + 1];\n  while (1) {\n    if (isNaN(km)) throw new Error(\"Ow!\");\n    if (km >= k11) {\n      xj[n] = Pinv[j[m]];\n      if (m === 0) return;\n      ++n;\n      --m;\n      km = k[m];\n      k11 = k1[m];\n    } else {\n      foo = Aj[km];\n      if (x[foo] === 0) {\n        x[foo] = 1;\n        k[m] = km;\n        ++m;\n        j[m] = foo;\n        foo = Pinv[foo];\n        km = Ai[foo];\n        k1[m] = k11 = Ai[foo + 1];\n      } else ++km;\n    }\n  }\n};\nnumeric.ccsLPSolve0 = function ccsLPSolve0(A, B, y, xj, I, Pinv, P, dfs) {\n  var Ai = A[0],\n    Aj = A[1],\n    Av = A[2],\n    m = Ai.length - 1,\n    n = 0;\n  var Bi = B[0],\n    Bj = B[1],\n    Bv = B[2];\n  var i, i0, i1, j, J, j0, j1, k, l, l0, l1, a;\n  i0 = Bi[I];\n  i1 = Bi[I + 1];\n  xj.length = 0;\n  for (i = i0; i < i1; ++i) {\n    dfs.dfs(Bj[i], Ai, Aj, y, xj, Pinv, P);\n  }\n  for (i = xj.length - 1; i !== -1; --i) {\n    j = xj[i];\n    y[P[j]] = 0;\n  }\n  for (i = i0; i !== i1; ++i) {\n    j = Bj[i];\n    y[j] = Bv[i];\n  }\n  for (i = xj.length - 1; i !== -1; --i) {\n    j = xj[i];\n    l = P[j];\n    j0 = Ai[j];\n    j1 = Ai[j + 1];\n    for (k = j0; k < j1; ++k) {\n      if (Aj[k] === l) {\n        y[l] /= Av[k];\n        break;\n      }\n    }\n    a = y[l];\n    for (k = j0; k < j1; ++k) y[Aj[k]] -= a * Av[k];\n    y[l] = a;\n  }\n};\nnumeric.ccsLUP0 = function ccsLUP0(A, threshold) {\n  var m = A[0].length - 1;\n  var L = [numeric.rep([m + 1], 0), [], []],\n    U = [numeric.rep([m + 1], 0), [], []];\n  var Li = L[0],\n    Lj = L[1],\n    Lv = L[2],\n    Ui = U[0],\n    Uj = U[1],\n    Uv = U[2];\n  var y = numeric.rep([m], 0),\n    xj = numeric.rep([m], 0);\n  var i, j, k, j0, j1, a, e, c, d, K;\n  var sol = numeric.ccsLPSolve0,\n    max = Math.max,\n    abs = Math.abs;\n  var P = numeric.linspace(0, m - 1),\n    Pinv = numeric.linspace(0, m - 1);\n  var dfs = new numeric.ccsDFS0(m);\n  if (typeof threshold === \"undefined\") {\n    threshold = 1;\n  }\n  for (i = 0; i < m; ++i) {\n    sol(L, A, y, xj, i, Pinv, P, dfs);\n    a = -1;\n    e = -1;\n    for (j = xj.length - 1; j !== -1; --j) {\n      k = xj[j];\n      if (k <= i) continue;\n      c = abs(y[P[k]]);\n      if (c > a) {\n        e = k;\n        a = c;\n      }\n    }\n    if (abs(y[P[i]]) < threshold * a) {\n      j = P[i];\n      a = P[e];\n      P[i] = a;\n      Pinv[a] = i;\n      P[e] = j;\n      Pinv[j] = e;\n    }\n    a = Li[i];\n    e = Ui[i];\n    d = y[P[i]];\n    Lj[a] = P[i];\n    Lv[a] = 1;\n    ++a;\n    for (j = xj.length - 1; j !== -1; --j) {\n      k = xj[j];\n      c = y[P[k]];\n      xj[j] = 0;\n      y[P[k]] = 0;\n      if (k <= i) {\n        Uj[e] = k;\n        Uv[e] = c;\n        ++e;\n      } else {\n        Lj[a] = P[k];\n        Lv[a] = c / d;\n        ++a;\n      }\n    }\n    Li[i + 1] = a;\n    Ui[i + 1] = e;\n  }\n  for (j = Lj.length - 1; j !== -1; --j) {\n    Lj[j] = Pinv[Lj[j]];\n  }\n  return {\n    L: L,\n    U: U,\n    P: P,\n    Pinv: Pinv\n  };\n};\nnumeric.ccsLUP = numeric.ccsLUP0;\nnumeric.ccsDim = function ccsDim(A) {\n  return [numeric.sup(A[1]) + 1, A[0].length - 1];\n};\nnumeric.ccsGetBlock = function ccsGetBlock(A, i, j) {\n  var s = numeric.ccsDim(A),\n    m = s[0],\n    n = s[1];\n  if (typeof i === \"undefined\") {\n    i = numeric.linspace(0, m - 1);\n  } else if (typeof i === \"number\") {\n    i = [i];\n  }\n  if (typeof j === \"undefined\") {\n    j = numeric.linspace(0, n - 1);\n  } else if (typeof j === \"number\") {\n    j = [j];\n  }\n  var p,\n    p0,\n    p1,\n    P = i.length,\n    q,\n    Q = j.length,\n    r,\n    jq,\n    ip;\n  var Bi = numeric.rep([n], 0),\n    Bj = [],\n    Bv = [],\n    B = [Bi, Bj, Bv];\n  var Ai = A[0],\n    Aj = A[1],\n    Av = A[2];\n  var x = numeric.rep([m], 0),\n    count = 0,\n    flags = numeric.rep([m], 0);\n  for (q = 0; q < Q; ++q) {\n    jq = j[q];\n    var q0 = Ai[jq];\n    var q1 = Ai[jq + 1];\n    for (p = q0; p < q1; ++p) {\n      r = Aj[p];\n      flags[r] = 1;\n      x[r] = Av[p];\n    }\n    for (p = 0; p < P; ++p) {\n      ip = i[p];\n      if (flags[ip]) {\n        Bj[count] = p;\n        Bv[count] = x[i[p]];\n        ++count;\n      }\n    }\n    for (p = q0; p < q1; ++p) {\n      r = Aj[p];\n      flags[r] = 0;\n    }\n    Bi[q + 1] = count;\n  }\n  return B;\n};\nnumeric.ccsDot = function ccsDot(A, B) {\n  var Ai = A[0],\n    Aj = A[1],\n    Av = A[2];\n  var Bi = B[0],\n    Bj = B[1],\n    Bv = B[2];\n  var sA = numeric.ccsDim(A),\n    sB = numeric.ccsDim(B);\n  var m = sA[0],\n    n = sA[1],\n    o = sB[1];\n  var x = numeric.rep([m], 0),\n    flags = numeric.rep([m], 0),\n    xj = Array(m);\n  var Ci = numeric.rep([o], 0),\n    Cj = [],\n    Cv = [],\n    C = [Ci, Cj, Cv];\n  var i, j, k, j0, j1, i0, i1, l, p, a, b;\n  for (k = 0; k !== o; ++k) {\n    j0 = Bi[k];\n    j1 = Bi[k + 1];\n    p = 0;\n    for (j = j0; j < j1; ++j) {\n      a = Bj[j];\n      b = Bv[j];\n      i0 = Ai[a];\n      i1 = Ai[a + 1];\n      for (i = i0; i < i1; ++i) {\n        l = Aj[i];\n        if (flags[l] === 0) {\n          xj[p] = l;\n          flags[l] = 1;\n          p = p + 1;\n        }\n        x[l] = x[l] + Av[i] * b;\n      }\n    }\n    j0 = Ci[k];\n    j1 = j0 + p;\n    Ci[k + 1] = j1;\n    for (j = p - 1; j !== -1; --j) {\n      b = j0 + j;\n      i = xj[j];\n      Cj[b] = i;\n      Cv[b] = x[i];\n      flags[i] = 0;\n      x[i] = 0;\n    }\n    Ci[k + 1] = Ci[k] + p;\n  }\n  return C;\n};\nnumeric.ccsLUPSolve = function ccsLUPSolve(LUP, B) {\n  var L = LUP.L,\n    U = LUP.U,\n    P = LUP.P;\n  var Bi = B[0];\n  var flag = false;\n  if (typeof Bi !== \"object\") {\n    B = [[0, B.length], numeric.linspace(0, B.length - 1), B];\n    Bi = B[0];\n    flag = true;\n  }\n  var Bj = B[1],\n    Bv = B[2];\n  var n = L[0].length - 1,\n    m = Bi.length - 1;\n  var x = numeric.rep([n], 0),\n    xj = Array(n);\n  var b = numeric.rep([n], 0),\n    bj = Array(n);\n  var Xi = numeric.rep([m + 1], 0),\n    Xj = [],\n    Xv = [];\n  var sol = numeric.ccsTSolve;\n  var i,\n    j,\n    j0,\n    j1,\n    k,\n    J,\n    N = 0;\n  for (i = 0; i < m; ++i) {\n    k = 0;\n    j0 = Bi[i];\n    j1 = Bi[i + 1];\n    for (j = j0; j < j1; ++j) {\n      J = LUP.Pinv[Bj[j]];\n      bj[k] = J;\n      b[J] = Bv[j];\n      ++k;\n    }\n    bj.length = k;\n    sol(L, b, x, bj, xj);\n    for (j = bj.length - 1; j !== -1; --j) b[bj[j]] = 0;\n    sol(U, x, b, xj, bj);\n    if (flag) return b;\n    for (j = xj.length - 1; j !== -1; --j) x[xj[j]] = 0;\n    for (j = bj.length - 1; j !== -1; --j) {\n      J = bj[j];\n      Xj[N] = J;\n      Xv[N] = b[J];\n      b[J] = 0;\n      ++N;\n    }\n    Xi[i + 1] = N;\n  }\n  return [Xi, Xj, Xv];\n};\nnumeric.ccsbinop = function ccsbinop(body, setup) {\n  if (typeof setup === \"undefined\") setup = '';\n  return Function('X', 'Y', 'var Xi = X[0], Xj = X[1], Xv = X[2];\\n' + 'var Yi = Y[0], Yj = Y[1], Yv = Y[2];\\n' + 'var n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\\n' + 'var Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\\n' + 'var x = numeric.rep([m],0),y = numeric.rep([m],0);\\n' + 'var xk,yk,zk;\\n' + 'var i,j,j0,j1,k,p=0;\\n' + setup + 'for(i=0;i<n;++i) {\\n' + '  j0 = Xi[i]; j1 = Xi[i+1];\\n' + '  for(j=j0;j!==j1;++j) {\\n' + '    k = Xj[j];\\n' + '    x[k] = 1;\\n' + '    Zj[p] = k;\\n' + '    ++p;\\n' + '  }\\n' + '  j0 = Yi[i]; j1 = Yi[i+1];\\n' + '  for(j=j0;j!==j1;++j) {\\n' + '    k = Yj[j];\\n' + '    y[k] = Yv[j];\\n' + '    if(x[k] === 0) {\\n' + '      Zj[p] = k;\\n' + '      ++p;\\n' + '    }\\n' + '  }\\n' + '  Zi[i+1] = p;\\n' + '  j0 = Xi[i]; j1 = Xi[i+1];\\n' + '  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\\n' + '  j0 = Zi[i]; j1 = Zi[i+1];\\n' + '  for(j=j0;j!==j1;++j) {\\n' + '    k = Zj[j];\\n' + '    xk = x[k];\\n' + '    yk = y[k];\\n' + body + '\\n' + '    Zv[j] = zk;\\n' + '  }\\n' + '  j0 = Xi[i]; j1 = Xi[i+1];\\n' + '  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\\n' + '  j0 = Yi[i]; j1 = Yi[i+1];\\n' + '  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\\n' + '}\\n' + 'return [Zi,Zj,Zv];');\n};\n(function () {\n  var k, A, B, C;\n  for (k in numeric.ops2) {\n    if (isFinite(eval('1' + numeric.ops2[k] + '0'))) A = '[Y[0],Y[1],numeric.' + k + '(X,Y[2])]';else A = 'NaN';\n    if (isFinite(eval('0' + numeric.ops2[k] + '1'))) B = '[X[0],X[1],numeric.' + k + '(X[2],Y)]';else B = 'NaN';\n    if (isFinite(eval('1' + numeric.ops2[k] + '0')) && isFinite(eval('0' + numeric.ops2[k] + '1'))) C = 'numeric.ccs' + k + 'MM(X,Y)';else C = 'NaN';\n    numeric['ccs' + k + 'MM'] = numeric.ccsbinop('zk = xk ' + numeric.ops2[k] + 'yk;');\n    numeric['ccs' + k] = Function('X', 'Y', 'if(typeof X === \"number\") return ' + A + ';\\n' + 'if(typeof Y === \"number\") return ' + B + ';\\n' + 'return ' + C + ';\\n');\n  }\n})();\nnumeric.ccsScatter = function ccsScatter(A) {\n  var Ai = A[0],\n    Aj = A[1],\n    Av = A[2];\n  var n = numeric.sup(Aj) + 1,\n    m = Ai.length;\n  var Ri = numeric.rep([n], 0),\n    Rj = Array(m),\n    Rv = Array(m);\n  var counts = numeric.rep([n], 0),\n    i;\n  for (i = 0; i < m; ++i) counts[Aj[i]]++;\n  for (i = 0; i < n; ++i) Ri[i + 1] = Ri[i] + counts[i];\n  var ptr = Ri.slice(0),\n    k,\n    Aii;\n  for (i = 0; i < m; ++i) {\n    Aii = Aj[i];\n    k = ptr[Aii];\n    Rj[k] = Ai[i];\n    Rv[k] = Av[i];\n    ptr[Aii] = ptr[Aii] + 1;\n  }\n  return [Ri, Rj, Rv];\n};\nnumeric.ccsGather = function ccsGather(A) {\n  var Ai = A[0],\n    Aj = A[1],\n    Av = A[2];\n  var n = Ai.length - 1,\n    m = Aj.length;\n  var Ri = Array(m),\n    Rj = Array(m),\n    Rv = Array(m);\n  var i, j, j0, j1, p;\n  p = 0;\n  for (i = 0; i < n; ++i) {\n    j0 = Ai[i];\n    j1 = Ai[i + 1];\n    for (j = j0; j !== j1; ++j) {\n      Rj[p] = i;\n      Ri[p] = Aj[j];\n      Rv[p] = Av[j];\n      ++p;\n    }\n  }\n  return [Ri, Rj, Rv];\n};\n\n// The following sparse linear algebra routines are deprecated.\n\nnumeric.sdim = function dim(A, ret, k) {\n  if (typeof ret === \"undefined\") {\n    ret = [];\n  }\n  if (typeof A !== \"object\") return ret;\n  if (typeof k === \"undefined\") {\n    k = 0;\n  }\n  if (!(k in ret)) {\n    ret[k] = 0;\n  }\n  if (A.length > ret[k]) ret[k] = A.length;\n  var i;\n  for (i in A) {\n    if (A.hasOwnProperty(i)) dim(A[i], ret, k + 1);\n  }\n  return ret;\n};\nnumeric.sclone = function clone(A, k, n) {\n  if (typeof k === \"undefined\") {\n    k = 0;\n  }\n  if (typeof n === \"undefined\") {\n    n = numeric.sdim(A).length;\n  }\n  var i,\n    ret = Array(A.length);\n  if (k === n - 1) {\n    for (i in A) {\n      if (A.hasOwnProperty(i)) ret[i] = A[i];\n    }\n    return ret;\n  }\n  for (i in A) {\n    if (A.hasOwnProperty(i)) ret[i] = clone(A[i], k + 1, n);\n  }\n  return ret;\n};\nnumeric.sdiag = function diag(d) {\n  var n = d.length,\n    i,\n    ret = Array(n),\n    i1,\n    i2,\n    i3;\n  for (i = n - 1; i >= 1; i -= 2) {\n    i1 = i - 1;\n    ret[i] = [];\n    ret[i][i] = d[i];\n    ret[i1] = [];\n    ret[i1][i1] = d[i1];\n  }\n  if (i === 0) {\n    ret[0] = [];\n    ret[0][0] = d[i];\n  }\n  return ret;\n};\nnumeric.sidentity = function identity(n) {\n  return numeric.sdiag(numeric.rep([n], 1));\n};\nnumeric.stranspose = function transpose(A) {\n  var ret = [],\n    n = A.length,\n    i,\n    j,\n    Ai;\n  for (i in A) {\n    if (!A.hasOwnProperty(i)) continue;\n    Ai = A[i];\n    for (j in Ai) {\n      if (!Ai.hasOwnProperty(j)) continue;\n      if (typeof ret[j] !== \"object\") {\n        ret[j] = [];\n      }\n      ret[j][i] = Ai[j];\n    }\n  }\n  return ret;\n};\nnumeric.sLUP = function LUP(A, tol) {\n  throw new Error(\"The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.\");\n};\nnumeric.sdotMM = function dotMM(A, B) {\n  var p = A.length,\n    q = B.length,\n    BT = numeric.stranspose(B),\n    r = BT.length,\n    Ai,\n    BTk;\n  var i, j, k, accum;\n  var ret = Array(p),\n    reti;\n  for (i = p - 1; i >= 0; i--) {\n    reti = [];\n    Ai = A[i];\n    for (k = r - 1; k >= 0; k--) {\n      accum = 0;\n      BTk = BT[k];\n      for (j in Ai) {\n        if (!Ai.hasOwnProperty(j)) continue;\n        if (j in BTk) {\n          accum += Ai[j] * BTk[j];\n        }\n      }\n      if (accum) reti[k] = accum;\n    }\n    ret[i] = reti;\n  }\n  return ret;\n};\nnumeric.sdotMV = function dotMV(A, x) {\n  var p = A.length,\n    Ai,\n    i,\n    j;\n  var ret = Array(p),\n    accum;\n  for (i = p - 1; i >= 0; i--) {\n    Ai = A[i];\n    accum = 0;\n    for (j in Ai) {\n      if (!Ai.hasOwnProperty(j)) continue;\n      if (x[j]) accum += Ai[j] * x[j];\n    }\n    if (accum) ret[i] = accum;\n  }\n  return ret;\n};\nnumeric.sdotVM = function dotMV(x, A) {\n  var i, j, Ai, alpha;\n  var ret = [],\n    accum;\n  for (i in x) {\n    if (!x.hasOwnProperty(i)) continue;\n    Ai = A[i];\n    alpha = x[i];\n    for (j in Ai) {\n      if (!Ai.hasOwnProperty(j)) continue;\n      if (!ret[j]) {\n        ret[j] = 0;\n      }\n      ret[j] += alpha * Ai[j];\n    }\n  }\n  return ret;\n};\nnumeric.sdotVV = function dotVV(x, y) {\n  var i,\n    ret = 0;\n  for (i in x) {\n    if (x[i] && y[i]) ret += x[i] * y[i];\n  }\n  return ret;\n};\nnumeric.sdot = function dot(A, B) {\n  var m = numeric.sdim(A).length,\n    n = numeric.sdim(B).length;\n  var k = m * 1000 + n;\n  switch (k) {\n    case 0:\n      return A * B;\n    case 1001:\n      return numeric.sdotVV(A, B);\n    case 2001:\n      return numeric.sdotMV(A, B);\n    case 1002:\n      return numeric.sdotVM(A, B);\n    case 2002:\n      return numeric.sdotMM(A, B);\n    default:\n      throw new Error('numeric.sdot not implemented for tensors of order ' + m + ' and ' + n);\n  }\n};\nnumeric.sscatter = function scatter(V) {\n  var n = V[0].length,\n    Vij,\n    i,\n    j,\n    m = V.length,\n    A = [],\n    Aj;\n  for (i = n - 1; i >= 0; --i) {\n    if (!V[m - 1][i]) continue;\n    Aj = A;\n    for (j = 0; j < m - 2; j++) {\n      Vij = V[j][i];\n      if (!Aj[Vij]) Aj[Vij] = [];\n      Aj = Aj[Vij];\n    }\n    Aj[V[j][i]] = V[j + 1][i];\n  }\n  return A;\n};\nnumeric.sgather = function gather(A, ret, k) {\n  if (typeof ret === \"undefined\") ret = [];\n  if (typeof k === \"undefined\") k = [];\n  var n, i, Ai;\n  n = k.length;\n  for (i in A) {\n    if (A.hasOwnProperty(i)) {\n      k[n] = parseInt(i);\n      Ai = A[i];\n      if (typeof Ai === \"number\") {\n        if (Ai) {\n          if (ret.length === 0) {\n            for (i = n + 1; i >= 0; --i) ret[i] = [];\n          }\n          for (i = n; i >= 0; --i) ret[i].push(k[i]);\n          ret[n + 1].push(Ai);\n        }\n      } else gather(Ai, ret, k);\n    }\n  }\n  if (k.length > n) k.pop();\n  return ret;\n};\n\n// 6. Coordinate matrices\nnumeric.cLU = function LU(A) {\n  var I = A[0],\n    J = A[1],\n    V = A[2];\n  var p = I.length,\n    m = 0,\n    i,\n    j,\n    k,\n    a,\n    b,\n    c;\n  for (i = 0; i < p; i++) if (I[i] > m) m = I[i];\n  m++;\n  var L = Array(m),\n    U = Array(m),\n    left = numeric.rep([m], Infinity),\n    right = numeric.rep([m], -Infinity);\n  var Ui, Uj, alpha;\n  for (k = 0; k < p; k++) {\n    i = I[k];\n    j = J[k];\n    if (j < left[i]) left[i] = j;\n    if (j > right[i]) right[i] = j;\n  }\n  for (i = 0; i < m - 1; i++) {\n    if (right[i] > right[i + 1]) right[i + 1] = right[i];\n  }\n  for (i = m - 1; i >= 1; i--) {\n    if (left[i] < left[i - 1]) left[i - 1] = left[i];\n  }\n  var countL = 0,\n    countU = 0;\n  for (i = 0; i < m; i++) {\n    U[i] = numeric.rep([right[i] - left[i] + 1], 0);\n    L[i] = numeric.rep([i - left[i]], 0);\n    countL += i - left[i] + 1;\n    countU += right[i] - i + 1;\n  }\n  for (k = 0; k < p; k++) {\n    i = I[k];\n    U[i][J[k] - left[i]] = V[k];\n  }\n  for (i = 0; i < m - 1; i++) {\n    a = i - left[i];\n    Ui = U[i];\n    for (j = i + 1; left[j] <= i && j < m; j++) {\n      b = i - left[j];\n      c = right[i] - i;\n      Uj = U[j];\n      alpha = Uj[b] / Ui[a];\n      if (alpha) {\n        for (k = 1; k <= c; k++) {\n          Uj[k + b] -= alpha * Ui[k + a];\n        }\n        L[j][i - left[j]] = alpha;\n      }\n    }\n  }\n  var Ui = [],\n    Uj = [],\n    Uv = [],\n    Li = [],\n    Lj = [],\n    Lv = [];\n  var p, q, foo;\n  p = 0;\n  q = 0;\n  for (i = 0; i < m; i++) {\n    a = left[i];\n    b = right[i];\n    foo = U[i];\n    for (j = i; j <= b; j++) {\n      if (foo[j - a]) {\n        Ui[p] = i;\n        Uj[p] = j;\n        Uv[p] = foo[j - a];\n        p++;\n      }\n    }\n    foo = L[i];\n    for (j = a; j < i; j++) {\n      if (foo[j - a]) {\n        Li[q] = i;\n        Lj[q] = j;\n        Lv[q] = foo[j - a];\n        q++;\n      }\n    }\n    Li[q] = i;\n    Lj[q] = i;\n    Lv[q] = 1;\n    q++;\n  }\n  return {\n    U: [Ui, Uj, Uv],\n    L: [Li, Lj, Lv]\n  };\n};\nnumeric.cLUsolve = function LUsolve(lu, b) {\n  var L = lu.L,\n    U = lu.U,\n    ret = numeric.clone(b);\n  var Li = L[0],\n    Lj = L[1],\n    Lv = L[2];\n  var Ui = U[0],\n    Uj = U[1],\n    Uv = U[2];\n  var p = Ui.length,\n    q = Li.length;\n  var m = ret.length,\n    i,\n    j,\n    k;\n  k = 0;\n  for (i = 0; i < m; i++) {\n    while (Lj[k] < i) {\n      ret[i] -= Lv[k] * ret[Lj[k]];\n      k++;\n    }\n    k++;\n  }\n  k = p - 1;\n  for (i = m - 1; i >= 0; i--) {\n    while (Uj[k] > i) {\n      ret[i] -= Uv[k] * ret[Uj[k]];\n      k--;\n    }\n    ret[i] /= Uv[k];\n    k--;\n  }\n  return ret;\n};\nnumeric.cgrid = function grid(n, shape) {\n  if (typeof n === \"number\") n = [n, n];\n  var ret = numeric.rep(n, -1);\n  var i, j, count;\n  if (typeof shape !== \"function\") {\n    switch (shape) {\n      case 'L':\n        shape = function (i, j) {\n          return i >= n[0] / 2 || j < n[1] / 2;\n        };\n        break;\n      default:\n        shape = function (i, j) {\n          return true;\n        };\n        break;\n    }\n  }\n  count = 0;\n  for (i = 1; i < n[0] - 1; i++) for (j = 1; j < n[1] - 1; j++) if (shape(i, j)) {\n    ret[i][j] = count;\n    count++;\n  }\n  return ret;\n};\nnumeric.cdelsq = function delsq(g) {\n  var dir = [[-1, 0], [0, -1], [0, 1], [1, 0]];\n  var s = numeric.dim(g),\n    m = s[0],\n    n = s[1],\n    i,\n    j,\n    k,\n    p,\n    q;\n  var Li = [],\n    Lj = [],\n    Lv = [];\n  for (i = 1; i < m - 1; i++) for (j = 1; j < n - 1; j++) {\n    if (g[i][j] < 0) continue;\n    for (k = 0; k < 4; k++) {\n      p = i + dir[k][0];\n      q = j + dir[k][1];\n      if (g[p][q] < 0) continue;\n      Li.push(g[i][j]);\n      Lj.push(g[p][q]);\n      Lv.push(-1);\n    }\n    Li.push(g[i][j]);\n    Lj.push(g[i][j]);\n    Lv.push(4);\n  }\n  return [Li, Lj, Lv];\n};\nnumeric.cdotMV = function dotMV(A, x) {\n  var ret,\n    Ai = A[0],\n    Aj = A[1],\n    Av = A[2],\n    k,\n    p = Ai.length,\n    N;\n  N = 0;\n  for (k = 0; k < p; k++) {\n    if (Ai[k] > N) N = Ai[k];\n  }\n  N++;\n  ret = numeric.rep([N], 0);\n  for (k = 0; k < p; k++) {\n    ret[Ai[k]] += Av[k] * x[Aj[k]];\n  }\n  return ret;\n};\n\n// 7. Splines\n\nnumeric.Spline = function Spline(x, yl, yr, kl, kr) {\n  this.x = x;\n  this.yl = yl;\n  this.yr = yr;\n  this.kl = kl;\n  this.kr = kr;\n};\nnumeric.Spline.prototype._at = function _at(x1, p) {\n  var x = this.x;\n  var yl = this.yl;\n  var yr = this.yr;\n  var kl = this.kl;\n  var kr = this.kr;\n  var x1, a, b, t;\n  var add = numeric.add,\n    sub = numeric.sub,\n    mul = numeric.mul;\n  a = sub(mul(kl[p], x[p + 1] - x[p]), sub(yr[p + 1], yl[p]));\n  b = add(mul(kr[p + 1], x[p] - x[p + 1]), sub(yr[p + 1], yl[p]));\n  t = (x1 - x[p]) / (x[p + 1] - x[p]);\n  var s = t * (1 - t);\n  return add(add(add(mul(1 - t, yl[p]), mul(t, yr[p + 1])), mul(a, s * (1 - t))), mul(b, s * t));\n};\nnumeric.Spline.prototype.at = function at(x0) {\n  if (typeof x0 === \"number\") {\n    var x = this.x;\n    var n = x.length;\n    var p,\n      q,\n      mid,\n      floor = Math.floor,\n      a,\n      b,\n      t;\n    p = 0;\n    q = n - 1;\n    while (q - p > 1) {\n      mid = floor((p + q) / 2);\n      if (x[mid] <= x0) p = mid;else q = mid;\n    }\n    return this._at(x0, p);\n  }\n  var n = x0.length,\n    i,\n    ret = Array(n);\n  for (i = n - 1; i !== -1; --i) ret[i] = this.at(x0[i]);\n  return ret;\n};\nnumeric.Spline.prototype.diff = function diff() {\n  var x = this.x;\n  var yl = this.yl;\n  var yr = this.yr;\n  var kl = this.kl;\n  var kr = this.kr;\n  var n = yl.length;\n  var i, dx, dy;\n  var zl = kl,\n    zr = kr,\n    pl = Array(n),\n    pr = Array(n);\n  var add = numeric.add,\n    mul = numeric.mul,\n    div = numeric.div,\n    sub = numeric.sub;\n  for (i = n - 1; i !== -1; --i) {\n    dx = x[i + 1] - x[i];\n    dy = sub(yr[i + 1], yl[i]);\n    pl[i] = div(add(mul(dy, 6), mul(kl[i], -4 * dx), mul(kr[i + 1], -2 * dx)), dx * dx);\n    pr[i + 1] = div(add(mul(dy, -6), mul(kl[i], 2 * dx), mul(kr[i + 1], 4 * dx)), dx * dx);\n  }\n  return new numeric.Spline(x, zl, zr, pl, pr);\n};\nnumeric.Spline.prototype.roots = function roots() {\n  function sqr(x) {\n    return x * x;\n  }\n  function heval(y0, y1, k0, k1, x) {\n    var A = k0 * 2 - (y1 - y0);\n    var B = -k1 * 2 + (y1 - y0);\n    var t = (x + 1) * 0.5;\n    var s = t * (1 - t);\n    return (1 - t) * y0 + t * y1 + A * s * (1 - t) + B * s * t;\n  }\n  var ret = [];\n  var x = this.x,\n    yl = this.yl,\n    yr = this.yr,\n    kl = this.kl,\n    kr = this.kr;\n  if (typeof yl[0] === \"number\") {\n    yl = [yl];\n    yr = [yr];\n    kl = [kl];\n    kr = [kr];\n  }\n  var m = yl.length,\n    n = x.length - 1,\n    i,\n    j,\n    k,\n    y,\n    s,\n    t;\n  var ai,\n    bi,\n    ci,\n    di,\n    ret = Array(m),\n    ri,\n    k0,\n    k1,\n    y0,\n    y1,\n    A,\n    B,\n    D,\n    dx,\n    cx,\n    stops,\n    z0,\n    z1,\n    zm,\n    t0,\n    t1,\n    tm;\n  var sqrt = Math.sqrt;\n  for (i = 0; i !== m; ++i) {\n    ai = yl[i];\n    bi = yr[i];\n    ci = kl[i];\n    di = kr[i];\n    ri = [];\n    for (j = 0; j !== n; j++) {\n      if (j > 0 && bi[j] * ai[j] < 0) ri.push(x[j]);\n      dx = x[j + 1] - x[j];\n      cx = x[j];\n      y0 = ai[j];\n      y1 = bi[j + 1];\n      k0 = ci[j] / dx;\n      k1 = di[j + 1] / dx;\n      D = sqr(k0 - k1 + 3 * (y0 - y1)) + 12 * k1 * y0;\n      A = k1 + 3 * y0 + 2 * k0 - 3 * y1;\n      B = 3 * (k1 + k0 + 2 * (y0 - y1));\n      if (D <= 0) {\n        z0 = A / B;\n        if (z0 > x[j] && z0 < x[j + 1]) stops = [x[j], z0, x[j + 1]];else stops = [x[j], x[j + 1]];\n      } else {\n        z0 = (A - sqrt(D)) / B;\n        z1 = (A + sqrt(D)) / B;\n        stops = [x[j]];\n        if (z0 > x[j] && z0 < x[j + 1]) stops.push(z0);\n        if (z1 > x[j] && z1 < x[j + 1]) stops.push(z1);\n        stops.push(x[j + 1]);\n      }\n      t0 = stops[0];\n      z0 = this._at(t0, j);\n      for (k = 0; k < stops.length - 1; k++) {\n        t1 = stops[k + 1];\n        z1 = this._at(t1, j);\n        if (z0 === 0) {\n          ri.push(t0);\n          t0 = t1;\n          z0 = z1;\n          continue;\n        }\n        if (z1 === 0 || z0 * z1 > 0) {\n          t0 = t1;\n          z0 = z1;\n          continue;\n        }\n        var side = 0;\n        while (1) {\n          tm = (z0 * t1 - z1 * t0) / (z0 - z1);\n          if (tm <= t0 || tm >= t1) {\n            break;\n          }\n          zm = this._at(tm, j);\n          if (zm * z1 > 0) {\n            t1 = tm;\n            z1 = zm;\n            if (side === -1) z0 *= 0.5;\n            side = -1;\n          } else if (zm * z0 > 0) {\n            t0 = tm;\n            z0 = zm;\n            if (side === 1) z1 *= 0.5;\n            side = 1;\n          } else break;\n        }\n        ri.push(tm);\n        t0 = stops[k + 1];\n        z0 = this._at(t0, j);\n      }\n      if (z1 === 0) ri.push(t1);\n    }\n    ret[i] = ri;\n  }\n  if (typeof this.yl[0] === \"number\") return ret[0];\n  return ret;\n};\nnumeric.spline = function spline(x, y, k1, kn) {\n  var n = x.length,\n    b = [],\n    dx = [],\n    dy = [];\n  var i;\n  var sub = numeric.sub,\n    mul = numeric.mul,\n    add = numeric.add;\n  for (i = n - 2; i >= 0; i--) {\n    dx[i] = x[i + 1] - x[i];\n    dy[i] = sub(y[i + 1], y[i]);\n  }\n  if (typeof k1 === \"string\" || typeof kn === \"string\") {\n    k1 = kn = \"periodic\";\n  }\n  // Build sparse tridiagonal system\n  var T = [[], [], []];\n  switch (typeof k1) {\n    case \"undefined\":\n      b[0] = mul(3 / (dx[0] * dx[0]), dy[0]);\n      T[0].push(0, 0);\n      T[1].push(0, 1);\n      T[2].push(2 / dx[0], 1 / dx[0]);\n      break;\n    case \"string\":\n      b[0] = add(mul(3 / (dx[n - 2] * dx[n - 2]), dy[n - 2]), mul(3 / (dx[0] * dx[0]), dy[0]));\n      T[0].push(0, 0, 0);\n      T[1].push(n - 2, 0, 1);\n      T[2].push(1 / dx[n - 2], 2 / dx[n - 2] + 2 / dx[0], 1 / dx[0]);\n      break;\n    default:\n      b[0] = k1;\n      T[0].push(0);\n      T[1].push(0);\n      T[2].push(1);\n      break;\n  }\n  for (i = 1; i < n - 1; i++) {\n    b[i] = add(mul(3 / (dx[i - 1] * dx[i - 1]), dy[i - 1]), mul(3 / (dx[i] * dx[i]), dy[i]));\n    T[0].push(i, i, i);\n    T[1].push(i - 1, i, i + 1);\n    T[2].push(1 / dx[i - 1], 2 / dx[i - 1] + 2 / dx[i], 1 / dx[i]);\n  }\n  switch (typeof kn) {\n    case \"undefined\":\n      b[n - 1] = mul(3 / (dx[n - 2] * dx[n - 2]), dy[n - 2]);\n      T[0].push(n - 1, n - 1);\n      T[1].push(n - 2, n - 1);\n      T[2].push(1 / dx[n - 2], 2 / dx[n - 2]);\n      break;\n    case \"string\":\n      T[1][T[1].length - 1] = 0;\n      break;\n    default:\n      b[n - 1] = kn;\n      T[0].push(n - 1);\n      T[1].push(n - 1);\n      T[2].push(1);\n      break;\n  }\n  if (typeof b[0] !== \"number\") b = numeric.transpose(b);else b = [b];\n  var k = Array(b.length);\n  if (typeof k1 === \"string\") {\n    for (i = k.length - 1; i !== -1; --i) {\n      k[i] = numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(T)), b[i]);\n      k[i][n - 1] = k[i][0];\n    }\n  } else {\n    for (i = k.length - 1; i !== -1; --i) {\n      k[i] = numeric.cLUsolve(numeric.cLU(T), b[i]);\n    }\n  }\n  if (typeof y[0] === \"number\") k = k[0];else k = numeric.transpose(k);\n  return new numeric.Spline(x, y, y, k, k);\n};\n\n// 8. FFT\nnumeric.fftpow2 = function fftpow2(x, y) {\n  var n = x.length;\n  if (n === 1) return;\n  var cos = Math.cos,\n    sin = Math.sin,\n    i,\n    j;\n  var xe = Array(n / 2),\n    ye = Array(n / 2),\n    xo = Array(n / 2),\n    yo = Array(n / 2);\n  j = n / 2;\n  for (i = n - 1; i !== -1; --i) {\n    --j;\n    xo[j] = x[i];\n    yo[j] = y[i];\n    --i;\n    xe[j] = x[i];\n    ye[j] = y[i];\n  }\n  fftpow2(xe, ye);\n  fftpow2(xo, yo);\n  j = n / 2;\n  var t,\n    k = -6.2831853071795864769252867665590057683943387987502116419 / n,\n    ci,\n    si;\n  for (i = n - 1; i !== -1; --i) {\n    --j;\n    if (j === -1) j = n / 2 - 1;\n    t = k * i;\n    ci = cos(t);\n    si = sin(t);\n    x[i] = xe[j] + ci * xo[j] - si * yo[j];\n    y[i] = ye[j] + ci * yo[j] + si * xo[j];\n  }\n};\nnumeric._ifftpow2 = function _ifftpow2(x, y) {\n  var n = x.length;\n  if (n === 1) return;\n  var cos = Math.cos,\n    sin = Math.sin,\n    i,\n    j;\n  var xe = Array(n / 2),\n    ye = Array(n / 2),\n    xo = Array(n / 2),\n    yo = Array(n / 2);\n  j = n / 2;\n  for (i = n - 1; i !== -1; --i) {\n    --j;\n    xo[j] = x[i];\n    yo[j] = y[i];\n    --i;\n    xe[j] = x[i];\n    ye[j] = y[i];\n  }\n  _ifftpow2(xe, ye);\n  _ifftpow2(xo, yo);\n  j = n / 2;\n  var t,\n    k = 6.2831853071795864769252867665590057683943387987502116419 / n,\n    ci,\n    si;\n  for (i = n - 1; i !== -1; --i) {\n    --j;\n    if (j === -1) j = n / 2 - 1;\n    t = k * i;\n    ci = cos(t);\n    si = sin(t);\n    x[i] = xe[j] + ci * xo[j] - si * yo[j];\n    y[i] = ye[j] + ci * yo[j] + si * xo[j];\n  }\n};\nnumeric.ifftpow2 = function ifftpow2(x, y) {\n  numeric._ifftpow2(x, y);\n  numeric.diveq(x, x.length);\n  numeric.diveq(y, y.length);\n};\nnumeric.convpow2 = function convpow2(ax, ay, bx, by) {\n  numeric.fftpow2(ax, ay);\n  numeric.fftpow2(bx, by);\n  var i,\n    n = ax.length,\n    axi,\n    bxi,\n    ayi,\n    byi;\n  for (i = n - 1; i !== -1; --i) {\n    axi = ax[i];\n    ayi = ay[i];\n    bxi = bx[i];\n    byi = by[i];\n    ax[i] = axi * bxi - ayi * byi;\n    ay[i] = axi * byi + ayi * bxi;\n  }\n  numeric.ifftpow2(ax, ay);\n};\nnumeric.T.prototype.fft = function fft() {\n  var x = this.x,\n    y = this.y;\n  var n = x.length,\n    log = Math.log,\n    log2 = log(2),\n    p = Math.ceil(log(2 * n - 1) / log2),\n    m = Math.pow(2, p);\n  var cx = numeric.rep([m], 0),\n    cy = numeric.rep([m], 0),\n    cos = Math.cos,\n    sin = Math.sin;\n  var k,\n    c = -3.141592653589793238462643383279502884197169399375105820 / n,\n    t;\n  var a = numeric.rep([m], 0),\n    b = numeric.rep([m], 0),\n    nhalf = Math.floor(n / 2);\n  for (k = 0; k < n; k++) a[k] = x[k];\n  if (typeof y !== \"undefined\") for (k = 0; k < n; k++) b[k] = y[k];\n  cx[0] = 1;\n  for (k = 1; k <= m / 2; k++) {\n    t = c * k * k;\n    cx[k] = cos(t);\n    cy[k] = sin(t);\n    cx[m - k] = cos(t);\n    cy[m - k] = sin(t);\n  }\n  var X = new numeric.T(a, b),\n    Y = new numeric.T(cx, cy);\n  X = X.mul(Y);\n  numeric.convpow2(X.x, X.y, numeric.clone(Y.x), numeric.neg(Y.y));\n  X = X.mul(Y);\n  X.x.length = n;\n  X.y.length = n;\n  return X;\n};\nnumeric.T.prototype.ifft = function ifft() {\n  var x = this.x,\n    y = this.y;\n  var n = x.length,\n    log = Math.log,\n    log2 = log(2),\n    p = Math.ceil(log(2 * n - 1) / log2),\n    m = Math.pow(2, p);\n  var cx = numeric.rep([m], 0),\n    cy = numeric.rep([m], 0),\n    cos = Math.cos,\n    sin = Math.sin;\n  var k,\n    c = 3.141592653589793238462643383279502884197169399375105820 / n,\n    t;\n  var a = numeric.rep([m], 0),\n    b = numeric.rep([m], 0),\n    nhalf = Math.floor(n / 2);\n  for (k = 0; k < n; k++) a[k] = x[k];\n  if (typeof y !== \"undefined\") for (k = 0; k < n; k++) b[k] = y[k];\n  cx[0] = 1;\n  for (k = 1; k <= m / 2; k++) {\n    t = c * k * k;\n    cx[k] = cos(t);\n    cy[k] = sin(t);\n    cx[m - k] = cos(t);\n    cy[m - k] = sin(t);\n  }\n  var X = new numeric.T(a, b),\n    Y = new numeric.T(cx, cy);\n  X = X.mul(Y);\n  numeric.convpow2(X.x, X.y, numeric.clone(Y.x), numeric.neg(Y.y));\n  X = X.mul(Y);\n  X.x.length = n;\n  X.y.length = n;\n  return X.div(n);\n};\n\n//9. Unconstrained optimization\nnumeric.gradient = function gradient(f, x) {\n  var n = x.length;\n  var f0 = f(x);\n  if (isNaN(f0)) throw new Error('gradient: f(x) is a NaN!');\n  var max = Math.max;\n  var i,\n    x0 = numeric.clone(x),\n    f1,\n    f2,\n    J = Array(n);\n  var div = numeric.div,\n    sub = numeric.sub,\n    errest,\n    roundoff,\n    max = Math.max,\n    eps = 1e-3,\n    abs = Math.abs,\n    min = Math.min;\n  var t0,\n    t1,\n    t2,\n    it = 0,\n    d1,\n    d2,\n    N;\n  for (i = 0; i < n; i++) {\n    var h = max(1e-6 * f0, 1e-8);\n    while (1) {\n      ++it;\n      if (it > 20) {\n        throw new Error(\"Numerical gradient fails\");\n      }\n      x0[i] = x[i] + h;\n      f1 = f(x0);\n      x0[i] = x[i] - h;\n      f2 = f(x0);\n      x0[i] = x[i];\n      if (isNaN(f1) || isNaN(f2)) {\n        h /= 16;\n        continue;\n      }\n      J[i] = (f1 - f2) / (2 * h);\n      t0 = x[i] - h;\n      t1 = x[i];\n      t2 = x[i] + h;\n      d1 = (f1 - f0) / h;\n      d2 = (f0 - f2) / h;\n      N = max(abs(J[i]), abs(f0), abs(f1), abs(f2), abs(t0), abs(t1), abs(t2), 1e-8);\n      errest = min(max(abs(d1 - J[i]), abs(d2 - J[i]), abs(d1 - d2)) / N, h / N);\n      if (errest > eps) {\n        h /= 16;\n      } else break;\n    }\n  }\n  return J;\n};\nnumeric.uncmin = function uncmin(f, x0, tol, gradient, maxit, callback, options) {\n  var grad = numeric.gradient;\n  if (typeof options === \"undefined\") {\n    options = {};\n  }\n  if (typeof tol === \"undefined\") {\n    tol = 1e-8;\n  }\n  if (typeof gradient === \"undefined\") {\n    gradient = function (x) {\n      return grad(f, x);\n    };\n  }\n  if (typeof maxit === \"undefined\") maxit = 1000;\n  x0 = numeric.clone(x0);\n  var n = x0.length;\n  var f0 = f(x0),\n    f1,\n    df0;\n  if (isNaN(f0)) throw new Error('uncmin: f(x0) is a NaN!');\n  var max = Math.max,\n    norm2 = numeric.norm2;\n  tol = max(tol, numeric.epsilon);\n  var step,\n    g0,\n    g1,\n    H1 = options.Hinv || numeric.identity(n);\n  var dot = numeric.dot,\n    inv = numeric.inv,\n    sub = numeric.sub,\n    add = numeric.add,\n    ten = numeric.tensor,\n    div = numeric.div,\n    mul = numeric.mul;\n  var all = numeric.all,\n    isfinite = numeric.isFinite,\n    neg = numeric.neg;\n  var it = 0,\n    i,\n    s,\n    x1,\n    y,\n    Hy,\n    Hs,\n    ys,\n    i0,\n    t,\n    nstep,\n    t1,\n    t2;\n  var msg = \"\";\n  g0 = gradient(x0);\n  while (it < maxit) {\n    if (typeof callback === \"function\") {\n      if (callback(it, x0, f0, g0, H1)) {\n        msg = \"Callback returned true\";\n        break;\n      }\n    }\n    if (!all(isfinite(g0))) {\n      msg = \"Gradient has Infinity or NaN\";\n      break;\n    }\n    step = neg(dot(H1, g0));\n    if (!all(isfinite(step))) {\n      msg = \"Search direction has Infinity or NaN\";\n      break;\n    }\n    nstep = norm2(step);\n    if (nstep < tol) {\n      msg = \"Newton step smaller than tol\";\n      break;\n    }\n    t = 1;\n    df0 = dot(g0, step);\n    // line search\n    x1 = x0;\n    while (it < maxit) {\n      if (t * nstep < tol) {\n        break;\n      }\n      s = mul(step, t);\n      x1 = add(x0, s);\n      f1 = f(x1);\n      if (f1 - f0 >= 0.1 * t * df0 || isNaN(f1)) {\n        t *= 0.5;\n        ++it;\n        continue;\n      }\n      break;\n    }\n    if (t * nstep < tol) {\n      msg = \"Line search step size smaller than tol\";\n      break;\n    }\n    if (it === maxit) {\n      msg = \"maxit reached during line search\";\n      break;\n    }\n    g1 = gradient(x1);\n    y = sub(g1, g0);\n    ys = dot(y, s);\n    Hy = dot(H1, y);\n    H1 = sub(add(H1, mul((ys + dot(y, Hy)) / (ys * ys), ten(s, s))), div(add(ten(Hy, s), ten(s, Hy)), ys));\n    x0 = x1;\n    f0 = f1;\n    g0 = g1;\n    ++it;\n  }\n  return {\n    solution: x0,\n    f: f0,\n    gradient: g0,\n    invHessian: H1,\n    iterations: it,\n    message: msg\n  };\n};\n\n// 10. Ode solver (Dormand-Prince)\nnumeric.Dopri = function Dopri(x, y, f, ymid, iterations, msg, events) {\n  this.x = x;\n  this.y = y;\n  this.f = f;\n  this.ymid = ymid;\n  this.iterations = iterations;\n  this.events = events;\n  this.message = msg;\n};\nnumeric.Dopri.prototype._at = function _at(xi, j) {\n  function sqr(x) {\n    return x * x;\n  }\n  var sol = this;\n  var xs = sol.x;\n  var ys = sol.y;\n  var k1 = sol.f;\n  var ymid = sol.ymid;\n  var n = xs.length;\n  var x0, x1, xh, y0, y1, yh, xi;\n  var floor = Math.floor,\n    h;\n  var c = 0.5;\n  var add = numeric.add,\n    mul = numeric.mul,\n    sub = numeric.sub,\n    p,\n    q,\n    w;\n  x0 = xs[j];\n  x1 = xs[j + 1];\n  y0 = ys[j];\n  y1 = ys[j + 1];\n  h = x1 - x0;\n  xh = x0 + c * h;\n  yh = ymid[j];\n  p = sub(k1[j], mul(y0, 1 / (x0 - xh) + 2 / (x0 - x1)));\n  q = sub(k1[j + 1], mul(y1, 1 / (x1 - xh) + 2 / (x1 - x0)));\n  w = [sqr(xi - x1) * (xi - xh) / sqr(x0 - x1) / (x0 - xh), sqr(xi - x0) * sqr(xi - x1) / sqr(x0 - xh) / sqr(x1 - xh), sqr(xi - x0) * (xi - xh) / sqr(x1 - x0) / (x1 - xh), (xi - x0) * sqr(xi - x1) * (xi - xh) / sqr(x0 - x1) / (x0 - xh), (xi - x1) * sqr(xi - x0) * (xi - xh) / sqr(x0 - x1) / (x1 - xh)];\n  return add(add(add(add(mul(y0, w[0]), mul(yh, w[1])), mul(y1, w[2])), mul(p, w[3])), mul(q, w[4]));\n};\nnumeric.Dopri.prototype.at = function at(x) {\n  var i,\n    j,\n    k,\n    floor = Math.floor;\n  if (typeof x !== \"number\") {\n    var n = x.length,\n      ret = Array(n);\n    for (i = n - 1; i !== -1; --i) {\n      ret[i] = this.at(x[i]);\n    }\n    return ret;\n  }\n  var x0 = this.x;\n  i = 0;\n  j = x0.length - 1;\n  while (j - i > 1) {\n    k = floor(0.5 * (i + j));\n    if (x0[k] <= x) i = k;else j = k;\n  }\n  return this._at(x, i);\n};\nnumeric.dopri = function dopri(x0, x1, y0, f, tol, maxit, event) {\n  if (typeof tol === \"undefined\") {\n    tol = 1e-6;\n  }\n  if (typeof maxit === \"undefined\") {\n    maxit = 1000;\n  }\n  var xs = [x0],\n    ys = [y0],\n    k1 = [f(x0, y0)],\n    k2,\n    k3,\n    k4,\n    k5,\n    k6,\n    k7,\n    ymid = [];\n  var A2 = 1 / 5;\n  var A3 = [3 / 40, 9 / 40];\n  var A4 = [44 / 45, -56 / 15, 32 / 9];\n  var A5 = [19372 / 6561, -25360 / 2187, 64448 / 6561, -212 / 729];\n  var A6 = [9017 / 3168, -355 / 33, 46732 / 5247, 49 / 176, -5103 / 18656];\n  var b = [35 / 384, 0, 500 / 1113, 125 / 192, -2187 / 6784, 11 / 84];\n  var bm = [0.5 * 6025192743 / 30085553152, 0, 0.5 * 51252292925 / 65400821598, 0.5 * -2691868925 / 45128329728, 0.5 * 187940372067 / 1594534317056, 0.5 * -1776094331 / 19743644256, 0.5 * 11237099 / 235043384];\n  var c = [1 / 5, 3 / 10, 4 / 5, 8 / 9, 1, 1];\n  var e = [-71 / 57600, 0, 71 / 16695, -71 / 1920, 17253 / 339200, -22 / 525, 1 / 40];\n  var i = 0,\n    er,\n    j;\n  var h = (x1 - x0) / 10;\n  var it = 0;\n  var add = numeric.add,\n    mul = numeric.mul,\n    y1,\n    erinf;\n  var max = Math.max,\n    min = Math.min,\n    abs = Math.abs,\n    norminf = numeric.norminf,\n    pow = Math.pow;\n  var any = numeric.any,\n    lt = numeric.lt,\n    and = numeric.and,\n    sub = numeric.sub;\n  var e0, e1, ev;\n  var ret = new numeric.Dopri(xs, ys, k1, ymid, -1, \"\");\n  if (typeof event === \"function\") e0 = event(x0, y0);\n  while (x0 < x1 && it < maxit) {\n    ++it;\n    if (x0 + h > x1) h = x1 - x0;\n    k2 = f(x0 + c[0] * h, add(y0, mul(A2 * h, k1[i])));\n    k3 = f(x0 + c[1] * h, add(add(y0, mul(A3[0] * h, k1[i])), mul(A3[1] * h, k2)));\n    k4 = f(x0 + c[2] * h, add(add(add(y0, mul(A4[0] * h, k1[i])), mul(A4[1] * h, k2)), mul(A4[2] * h, k3)));\n    k5 = f(x0 + c[3] * h, add(add(add(add(y0, mul(A5[0] * h, k1[i])), mul(A5[1] * h, k2)), mul(A5[2] * h, k3)), mul(A5[3] * h, k4)));\n    k6 = f(x0 + c[4] * h, add(add(add(add(add(y0, mul(A6[0] * h, k1[i])), mul(A6[1] * h, k2)), mul(A6[2] * h, k3)), mul(A6[3] * h, k4)), mul(A6[4] * h, k5)));\n    y1 = add(add(add(add(add(y0, mul(k1[i], h * b[0])), mul(k3, h * b[2])), mul(k4, h * b[3])), mul(k5, h * b[4])), mul(k6, h * b[5]));\n    k7 = f(x0 + h, y1);\n    er = add(add(add(add(add(mul(k1[i], h * e[0]), mul(k3, h * e[2])), mul(k4, h * e[3])), mul(k5, h * e[4])), mul(k6, h * e[5])), mul(k7, h * e[6]));\n    if (typeof er === \"number\") erinf = abs(er);else erinf = norminf(er);\n    if (erinf > tol) {\n      // reject\n      h = 0.2 * h * pow(tol / erinf, 0.25);\n      if (x0 + h === x0) {\n        ret.msg = \"Step size became too small\";\n        break;\n      }\n      continue;\n    }\n    ymid[i] = add(add(add(add(add(add(y0, mul(k1[i], h * bm[0])), mul(k3, h * bm[2])), mul(k4, h * bm[3])), mul(k5, h * bm[4])), mul(k6, h * bm[5])), mul(k7, h * bm[6]));\n    ++i;\n    xs[i] = x0 + h;\n    ys[i] = y1;\n    k1[i] = k7;\n    if (typeof event === \"function\") {\n      var yi,\n        xl = x0,\n        xr = x0 + 0.5 * h,\n        xi;\n      e1 = event(xr, ymid[i - 1]);\n      ev = and(lt(e0, 0), lt(0, e1));\n      if (!any(ev)) {\n        xl = xr;\n        xr = x0 + h;\n        e0 = e1;\n        e1 = event(xr, y1);\n        ev = and(lt(e0, 0), lt(0, e1));\n      }\n      if (any(ev)) {\n        var xc, yc, en, ei;\n        var side = 0,\n          sl = 1.0,\n          sr = 1.0;\n        while (1) {\n          if (typeof e0 === \"number\") xi = (sr * e1 * xl - sl * e0 * xr) / (sr * e1 - sl * e0);else {\n            xi = xr;\n            for (j = e0.length - 1; j !== -1; --j) {\n              if (e0[j] < 0 && e1[j] > 0) xi = min(xi, (sr * e1[j] * xl - sl * e0[j] * xr) / (sr * e1[j] - sl * e0[j]));\n            }\n          }\n          if (xi <= xl || xi >= xr) break;\n          yi = ret._at(xi, i - 1);\n          ei = event(xi, yi);\n          en = and(lt(e0, 0), lt(0, ei));\n          if (any(en)) {\n            xr = xi;\n            e1 = ei;\n            ev = en;\n            sr = 1.0;\n            if (side === -1) sl *= 0.5;else sl = 1.0;\n            side = -1;\n          } else {\n            xl = xi;\n            e0 = ei;\n            sl = 1.0;\n            if (side === 1) sr *= 0.5;else sr = 1.0;\n            side = 1;\n          }\n        }\n        y1 = ret._at(0.5 * (x0 + xi), i - 1);\n        ret.f[i] = f(xi, yi);\n        ret.x[i] = xi;\n        ret.y[i] = yi;\n        ret.ymid[i - 1] = y1;\n        ret.events = ev;\n        ret.iterations = it;\n        return ret;\n      }\n    }\n    x0 += h;\n    y0 = y1;\n    e0 = e1;\n    h = min(0.8 * h * pow(tol / erinf, 0.25), 4 * h);\n  }\n  ret.iterations = it;\n  return ret;\n};\n\n// 11. Ax = b\nnumeric.LU = function (A, fast) {\n  fast = fast || false;\n  var abs = Math.abs;\n  var i, j, k, absAjk, Akk, Ak, Pk, Ai;\n  var max;\n  var n = A.length,\n    n1 = n - 1;\n  var P = new Array(n);\n  if (!fast) A = numeric.clone(A);\n  for (k = 0; k < n; ++k) {\n    Pk = k;\n    Ak = A[k];\n    max = abs(Ak[k]);\n    for (j = k + 1; j < n; ++j) {\n      absAjk = abs(A[j][k]);\n      if (max < absAjk) {\n        max = absAjk;\n        Pk = j;\n      }\n    }\n    P[k] = Pk;\n    if (Pk != k) {\n      A[k] = A[Pk];\n      A[Pk] = Ak;\n      Ak = A[k];\n    }\n    Akk = Ak[k];\n    for (i = k + 1; i < n; ++i) {\n      A[i][k] /= Akk;\n    }\n    for (i = k + 1; i < n; ++i) {\n      Ai = A[i];\n      for (j = k + 1; j < n1; ++j) {\n        Ai[j] -= Ai[k] * Ak[j];\n        ++j;\n        Ai[j] -= Ai[k] * Ak[j];\n      }\n      if (j === n1) Ai[j] -= Ai[k] * Ak[j];\n    }\n  }\n  return {\n    LU: A,\n    P: P\n  };\n};\nnumeric.LUsolve = function LUsolve(LUP, b) {\n  var i, j;\n  var LU = LUP.LU;\n  var n = LU.length;\n  var x = numeric.clone(b);\n  var P = LUP.P;\n  var Pi, LUi, LUii, tmp;\n  for (i = n - 1; i !== -1; --i) x[i] = b[i];\n  for (i = 0; i < n; ++i) {\n    Pi = P[i];\n    if (P[i] !== i) {\n      tmp = x[i];\n      x[i] = x[Pi];\n      x[Pi] = tmp;\n    }\n    LUi = LU[i];\n    for (j = 0; j < i; ++j) {\n      x[i] -= x[j] * LUi[j];\n    }\n  }\n  for (i = n - 1; i >= 0; --i) {\n    LUi = LU[i];\n    for (j = i + 1; j < n; ++j) {\n      x[i] -= x[j] * LUi[j];\n    }\n    x[i] /= LUi[i];\n  }\n  return x;\n};\nnumeric.solve = function solve(A, b, fast) {\n  return numeric.LUsolve(numeric.LU(A, fast), b);\n};\n\n// 12. Linear programming\nnumeric.echelonize = function echelonize(A) {\n  var s = numeric.dim(A),\n    m = s[0],\n    n = s[1];\n  var I = numeric.identity(m);\n  var P = Array(m);\n  var i, j, k, l, Ai, Ii, Z, a;\n  var abs = Math.abs;\n  var diveq = numeric.diveq;\n  A = numeric.clone(A);\n  for (i = 0; i < m; ++i) {\n    k = 0;\n    Ai = A[i];\n    Ii = I[i];\n    for (j = 1; j < n; ++j) if (abs(Ai[k]) < abs(Ai[j])) k = j;\n    P[i] = k;\n    diveq(Ii, Ai[k]);\n    diveq(Ai, Ai[k]);\n    for (j = 0; j < m; ++j) if (j !== i) {\n      Z = A[j];\n      a = Z[k];\n      for (l = n - 1; l !== -1; --l) Z[l] -= Ai[l] * a;\n      Z = I[j];\n      for (l = m - 1; l !== -1; --l) Z[l] -= Ii[l] * a;\n    }\n  }\n  return {\n    I: I,\n    A: A,\n    P: P\n  };\n};\nnumeric.__solveLP = function __solveLP(c, A, b, tol, maxit, x, flag) {\n  var sum = numeric.sum,\n    log = numeric.log,\n    mul = numeric.mul,\n    sub = numeric.sub,\n    dot = numeric.dot,\n    div = numeric.div,\n    add = numeric.add;\n  var m = c.length,\n    n = b.length,\n    y;\n  var unbounded = false,\n    cb,\n    i0 = 0;\n  var alpha = 1.0;\n  var f0,\n    df0,\n    AT = numeric.transpose(A),\n    svd = numeric.svd,\n    transpose = numeric.transpose,\n    leq = numeric.leq,\n    sqrt = Math.sqrt,\n    abs = Math.abs;\n  var muleq = numeric.muleq;\n  var norm = numeric.norminf,\n    any = numeric.any,\n    min = Math.min;\n  var all = numeric.all,\n    gt = numeric.gt;\n  var p = Array(m),\n    A0 = Array(n),\n    e = numeric.rep([n], 1),\n    H;\n  var solve = numeric.solve,\n    z = sub(b, dot(A, x)),\n    count;\n  var dotcc = dot(c, c);\n  var g;\n  for (count = i0; count < maxit; ++count) {\n    var i, j, d;\n    for (i = n - 1; i !== -1; --i) A0[i] = div(A[i], z[i]);\n    var A1 = transpose(A0);\n    for (i = m - 1; i !== -1; --i) p[i] = /*x[i]+*/sum(A1[i]);\n    alpha = 0.25 * abs(dotcc / dot(c, p));\n    var a1 = 100 * sqrt(dotcc / dot(p, p));\n    if (!isFinite(alpha) || alpha > a1) alpha = a1;\n    g = add(c, mul(alpha, p));\n    H = dot(A1, A0);\n    for (i = m - 1; i !== -1; --i) H[i][i] += 1;\n    d = solve(H, div(g, alpha), true);\n    var t0 = div(z, dot(A, d));\n    var t = 1.0;\n    for (i = n - 1; i !== -1; --i) if (t0[i] < 0) t = min(t, -0.999 * t0[i]);\n    y = sub(x, mul(d, t));\n    z = sub(b, dot(A, y));\n    if (!all(gt(z, 0))) return {\n      solution: x,\n      message: \"\",\n      iterations: count\n    };\n    x = y;\n    if (alpha < tol) return {\n      solution: y,\n      message: \"\",\n      iterations: count\n    };\n    if (flag) {\n      var s = dot(c, g),\n        Ag = dot(A, g);\n      unbounded = true;\n      for (i = n - 1; i !== -1; --i) if (s * Ag[i] < 0) {\n        unbounded = false;\n        break;\n      }\n    } else {\n      if (x[m - 1] >= 0) unbounded = false;else unbounded = true;\n    }\n    if (unbounded) return {\n      solution: y,\n      message: \"Unbounded\",\n      iterations: count\n    };\n  }\n  return {\n    solution: x,\n    message: \"maximum iteration count exceeded\",\n    iterations: count\n  };\n};\nnumeric._solveLP = function _solveLP(c, A, b, tol, maxit) {\n  var m = c.length,\n    n = b.length,\n    y;\n  var sum = numeric.sum,\n    log = numeric.log,\n    mul = numeric.mul,\n    sub = numeric.sub,\n    dot = numeric.dot,\n    div = numeric.div,\n    add = numeric.add;\n  var c0 = numeric.rep([m], 0).concat([1]);\n  var J = numeric.rep([n, 1], -1);\n  var A0 = numeric.blockMatrix([[A, J]]);\n  var b0 = b;\n  var y = numeric.rep([m], 0).concat(Math.max(0, numeric.sup(numeric.neg(b))) + 1);\n  var x0 = numeric.__solveLP(c0, A0, b0, tol, maxit, y, false);\n  var x = numeric.clone(x0.solution);\n  x.length = m;\n  var foo = numeric.inf(sub(b, dot(A, x)));\n  if (foo < 0) {\n    return {\n      solution: NaN,\n      message: \"Infeasible\",\n      iterations: x0.iterations\n    };\n  }\n  var ret = numeric.__solveLP(c, A, b, tol, maxit - x0.iterations, x, true);\n  ret.iterations += x0.iterations;\n  return ret;\n};\nnumeric.solveLP = function solveLP(c, A, b, Aeq, beq, tol, maxit) {\n  if (typeof maxit === \"undefined\") maxit = 1000;\n  if (typeof tol === \"undefined\") tol = numeric.epsilon;\n  if (typeof Aeq === \"undefined\") return numeric._solveLP(c, A, b, tol, maxit);\n  var m = Aeq.length,\n    n = Aeq[0].length,\n    o = A.length;\n  var B = numeric.echelonize(Aeq);\n  var flags = numeric.rep([n], 0);\n  var P = B.P;\n  var Q = [];\n  var i;\n  for (i = P.length - 1; i !== -1; --i) flags[P[i]] = 1;\n  for (i = n - 1; i !== -1; --i) if (flags[i] === 0) Q.push(i);\n  var g = numeric.getRange;\n  var I = numeric.linspace(0, m - 1),\n    J = numeric.linspace(0, o - 1);\n  var Aeq2 = g(Aeq, I, Q),\n    A1 = g(A, J, P),\n    A2 = g(A, J, Q),\n    dot = numeric.dot,\n    sub = numeric.sub;\n  var A3 = dot(A1, B.I);\n  var A4 = sub(A2, dot(A3, Aeq2)),\n    b4 = sub(b, dot(A3, beq));\n  var c1 = Array(P.length),\n    c2 = Array(Q.length);\n  for (i = P.length - 1; i !== -1; --i) c1[i] = c[P[i]];\n  for (i = Q.length - 1; i !== -1; --i) c2[i] = c[Q[i]];\n  var c4 = sub(c2, dot(c1, dot(B.I, Aeq2)));\n  var S = numeric._solveLP(c4, A4, b4, tol, maxit);\n  var x2 = S.solution;\n  if (x2 !== x2) return S;\n  var x1 = dot(B.I, sub(beq, dot(Aeq2, x2)));\n  var x = Array(c.length);\n  for (i = P.length - 1; i !== -1; --i) x[P[i]] = x1[i];\n  for (i = Q.length - 1; i !== -1; --i) x[Q[i]] = x2[i];\n  return {\n    solution: x,\n    message: S.message,\n    iterations: S.iterations\n  };\n};\nnumeric.MPStoLP = function MPStoLP(MPS) {\n  if (MPS instanceof String) {\n    MPS.split('\\n');\n  }\n  var state = 0;\n  var states = ['Initial state', 'NAME', 'ROWS', 'COLUMNS', 'RHS', 'BOUNDS', 'ENDATA'];\n  var n = MPS.length;\n  var i,\n    j,\n    z,\n    N = 0,\n    rows = {},\n    sign = [],\n    rl = 0,\n    vars = {},\n    nv = 0;\n  var name;\n  var c = [],\n    A = [],\n    b = [];\n  function err(e) {\n    throw new Error('MPStoLP: ' + e + '\\nLine ' + i + ': ' + MPS[i] + '\\nCurrent state: ' + states[state] + '\\n');\n  }\n  for (i = 0; i < n; ++i) {\n    z = MPS[i];\n    var w0 = z.match(/\\S*/g);\n    var w = [];\n    for (j = 0; j < w0.length; ++j) if (w0[j] !== \"\") w.push(w0[j]);\n    if (w.length === 0) continue;\n    for (j = 0; j < states.length; ++j) if (z.substr(0, states[j].length) === states[j]) break;\n    if (j < states.length) {\n      state = j;\n      if (j === 1) {\n        name = w[1];\n      }\n      if (j === 6) return {\n        name: name,\n        c: c,\n        A: numeric.transpose(A),\n        b: b,\n        rows: rows,\n        vars: vars\n      };\n      continue;\n    }\n    switch (state) {\n      case 0:\n      case 1:\n        err('Unexpected line');\n      case 2:\n        switch (w[0]) {\n          case 'N':\n            if (N === 0) N = w[1];else err('Two or more N rows');\n            break;\n          case 'L':\n            rows[w[1]] = rl;\n            sign[rl] = 1;\n            b[rl] = 0;\n            ++rl;\n            break;\n          case 'G':\n            rows[w[1]] = rl;\n            sign[rl] = -1;\n            b[rl] = 0;\n            ++rl;\n            break;\n          case 'E':\n            rows[w[1]] = rl;\n            sign[rl] = 0;\n            b[rl] = 0;\n            ++rl;\n            break;\n          default:\n            err('Parse error ' + numeric.prettyPrint(w));\n        }\n        break;\n      case 3:\n        if (!vars.hasOwnProperty(w[0])) {\n          vars[w[0]] = nv;\n          c[nv] = 0;\n          A[nv] = numeric.rep([rl], 0);\n          ++nv;\n        }\n        var p = vars[w[0]];\n        for (j = 1; j < w.length; j += 2) {\n          if (w[j] === N) {\n            c[p] = parseFloat(w[j + 1]);\n            continue;\n          }\n          var q = rows[w[j]];\n          A[p][q] = (sign[q] < 0 ? -1 : 1) * parseFloat(w[j + 1]);\n        }\n        break;\n      case 4:\n        for (j = 1; j < w.length; j += 2) b[rows[w[j]]] = (sign[rows[w[j]]] < 0 ? -1 : 1) * parseFloat(w[j + 1]);\n        break;\n      case 5:\n        /*FIXME*/break;\n      case 6:\n        err('Internal error');\n    }\n  }\n  err('Reached end of file without ENDATA');\n};\n// seedrandom.js version 2.0.\n// Author: David Bau 4/2/2011\n//\n// Defines a method Math.seedrandom() that, when called, substitutes\n// an explicitly seeded RC4-based algorithm for Math.random().  Also\n// supports automatic seeding from local or network sources of entropy.\n//\n// Usage:\n//\n//   <script src=http://davidbau.com/encode/seedrandom-min.js></script>\n//\n//   Math.seedrandom('yipee'); Sets Math.random to a function that is\n//                             initialized using the given explicit seed.\n//\n//   Math.seedrandom();        Sets Math.random to a function that is\n//                             seeded using the current time, dom state,\n//                             and other accumulated local entropy.\n//                             The generated seed string is returned.\n//\n//   Math.seedrandom('yowza', true);\n//                             Seeds using the given explicit seed mixed\n//                             together with accumulated entropy.\n//\n//   <script src=\"http://bit.ly/srandom-512\"></script>\n//                             Seeds using physical random bits downloaded\n//                             from random.org.\n//\n//   <script src=\"https://jsonlib.appspot.com/urandom?callback=Math.seedrandom\">\n//   </script>                 Seeds using urandom bits from call.jsonlib.com,\n//                             which is faster than random.org.\n//\n// Examples:\n//\n//   Math.seedrandom(\"hello\");            // Use \"hello\" as the seed.\n//   document.write(Math.random());       // Always 0.5463663768140734\n//   document.write(Math.random());       // Always 0.43973793770592234\n//   var rng1 = Math.random;              // Remember the current prng.\n//\n//   var autoseed = Math.seedrandom();    // New prng with an automatic seed.\n//   document.write(Math.random());       // Pretty much unpredictable.\n//\n//   Math.random = rng1;                  // Continue \"hello\" prng sequence.\n//   document.write(Math.random());       // Always 0.554769432473455\n//\n//   Math.seedrandom(autoseed);           // Restart at the previous seed.\n//   document.write(Math.random());       // Repeat the 'unpredictable' value.\n//\n// Notes:\n//\n// Each time seedrandom('arg') is called, entropy from the passed seed\n// is accumulated in a pool to help generate future seeds for the\n// zero-argument form of Math.seedrandom, so entropy can be injected over\n// time by calling seedrandom with explicit data repeatedly.\n//\n// On speed - This javascript implementation of Math.random() is about\n// 3-10x slower than the built-in Math.random() because it is not native\n// code, but this is typically fast enough anyway.  Seeding is more expensive,\n// especially if you use auto-seeding.  Some details (timings on Chrome 4):\n//\n// Our Math.random()            - avg less than 0.002 milliseconds per call\n// seedrandom('explicit')       - avg less than 0.5 milliseconds per call\n// seedrandom('explicit', true) - avg less than 2 milliseconds per call\n// seedrandom()                 - avg about 38 milliseconds per call\n//\n// LICENSE (BSD):\n//\n// Copyright 2010 David Bau, all rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n// \n//   1. Redistributions of source code must retain the above copyright\n//      notice, this list of conditions and the following disclaimer.\n//\n//   2. Redistributions in binary form must reproduce the above copyright\n//      notice, this list of conditions and the following disclaimer in the\n//      documentation and/or other materials provided with the distribution.\n// \n//   3. Neither the name of this module nor the names of its contributors may\n//      be used to endorse or promote products derived from this software\n//      without specific prior written permission.\n// \n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n/**\n * All code is in an anonymous closure to keep the global namespace clean.\n *\n * @param {number=} overflow \n * @param {number=} startdenom\n */\n\n// Patched by Seb so that seedrandom.js does not pollute the Math object.\n// My tests suggest that doing Math.trouble = 1 makes Math lookups about 5%\n// slower.\nnumeric.seedrandom = {\n  pow: Math.pow,\n  random: Math.random\n};\n(function (pool, math, width, chunks, significance, overflow, startdenom) {\n  //\n  // seedrandom()\n  // This is the seedrandom function described above.\n  //\n  math['seedrandom'] = function seedrandom(seed, use_entropy) {\n    var key = [];\n    var arc4;\n\n    // Flatten the seed string or build one from local entropy if needed.\n    seed = mixkey(flatten(use_entropy ? [seed, pool] : arguments.length ? seed : [new Date().getTime(), pool, window], 3), key);\n\n    // Use the seed to initialize an ARC4 generator.\n    arc4 = new ARC4(key);\n\n    // Mix the randomness into accumulated entropy.\n    mixkey(arc4.S, pool);\n\n    // Override Math.random\n\n    // This function returns a random double in [0, 1) that contains\n    // randomness in every bit of the mantissa of the IEEE 754 value.\n\n    math['random'] = function random() {\n      // Closure to return a random double:\n      var n = arc4.g(chunks); // Start with a numerator n < 2 ^ 48\n      var d = startdenom; //   and denominator d = 2 ^ 48.\n      var x = 0; //   and no 'extra last byte'.\n      while (n < significance) {\n        // Fill up all significant digits by\n        n = (n + x) * width; //   shifting numerator and\n        d *= width; //   denominator and generating a\n        x = arc4.g(1); //   new least-significant-byte.\n      }\n      while (n >= overflow) {\n        // To avoid rounding up, before adding\n        n /= 2; //   last byte, shift everything\n        d /= 2; //   right using integer math until\n        x >>>= 1; //   we have exactly the desired bits.\n      }\n      return (n + x) / d; // Form the number within [0, 1).\n    };\n\n    // Return the seed that was used\n    return seed;\n  };\n\n  //\n  // ARC4\n  //\n  // An ARC4 implementation.  The constructor takes a key in the form of\n  // an array of at most (width) integers that should be 0 <= x < (width).\n  //\n  // The g(count) method returns a pseudorandom integer that concatenates\n  // the next (count) outputs from ARC4.  Its return value is a number x\n  // that is in the range 0 <= x < (width ^ count).\n  //\n  /** @constructor */\n  function ARC4(key) {\n    var t,\n      u,\n      me = this,\n      keylen = key.length;\n    var i = 0,\n      j = me.i = me.j = me.m = 0;\n    me.S = [];\n    me.c = [];\n\n    // The empty key [] is treated as [0].\n    if (!keylen) {\n      key = [keylen++];\n    }\n\n    // Set up S using the standard key scheduling algorithm.\n    while (i < width) {\n      me.S[i] = i++;\n    }\n    for (i = 0; i < width; i++) {\n      t = me.S[i];\n      j = lowbits(j + t + key[i % keylen]);\n      u = me.S[j];\n      me.S[i] = u;\n      me.S[j] = t;\n    }\n\n    // The \"g\" method returns the next (count) outputs as one number.\n    me.g = function getnext(count) {\n      var s = me.S;\n      var i = lowbits(me.i + 1);\n      var t = s[i];\n      var j = lowbits(me.j + t);\n      var u = s[j];\n      s[i] = u;\n      s[j] = t;\n      var r = s[lowbits(t + u)];\n      while (--count) {\n        i = lowbits(i + 1);\n        t = s[i];\n        j = lowbits(j + t);\n        u = s[j];\n        s[i] = u;\n        s[j] = t;\n        r = r * width + s[lowbits(t + u)];\n      }\n      me.i = i;\n      me.j = j;\n      return r;\n    };\n    // For robust unpredictability discard an initial batch of values.\n    // See http://www.rsa.com/rsalabs/node.asp?id=2009\n    me.g(width);\n  }\n\n  //\n  // flatten()\n  // Converts an object tree to nested arrays of strings.\n  //\n  /** @param {Object=} result \n    * @param {string=} prop\n    * @param {string=} typ */\n  function flatten(obj, depth, result, prop, typ) {\n    result = [];\n    typ = typeof obj;\n    if (depth && typ == 'object') {\n      for (prop in obj) {\n        if (prop.indexOf('S') < 5) {\n          // Avoid FF3 bug (local/sessionStorage)\n          try {\n            result.push(flatten(obj[prop], depth - 1));\n          } catch (e) {}\n        }\n      }\n    }\n    return result.length ? result : obj + (typ != 'string' ? '\\0' : '');\n  }\n\n  //\n  // mixkey()\n  // Mixes a string seed into a key that is an array of integers, and\n  // returns a shortened string seed that is equivalent to the result key.\n  //\n  /** @param {number=} smear \n    * @param {number=} j */\n  function mixkey(seed, key, smear, j) {\n    seed += ''; // Ensure the seed is a string\n    smear = 0;\n    for (j = 0; j < seed.length; j++) {\n      key[lowbits(j)] = lowbits((smear ^= key[lowbits(j)] * 19) + seed.charCodeAt(j));\n    }\n    seed = '';\n    for (j in key) {\n      seed += String.fromCharCode(key[j]);\n    }\n    return seed;\n  }\n\n  //\n  // lowbits()\n  // A quick \"n mod width\" for width a power of 2.\n  //\n  function lowbits(n) {\n    return n & width - 1;\n  }\n\n  //\n  // The following constants are related to IEEE 754 limits.\n  //\n  startdenom = math.pow(width, chunks);\n  significance = math.pow(2, significance);\n  overflow = significance * 2;\n\n  //\n  // When seedrandom.js is loaded, we immediately mix a few bits\n  // from the built-in RNG into the entropy pool.  Because we do\n  // not want to intefere with determinstic PRNG state later,\n  // seedrandom will not call math.random on its own again after\n  // initialization.\n  //\n  mixkey(math.random(), pool);\n\n  // End anonymous scope, and pass initial values.\n})([],\n// pool: entropy pool starts empty\nnumeric.seedrandom,\n// math: package containing random, pow, and seedrandom\n256,\n// width: each RC4 output is 0 <= x < 256\n6,\n// chunks: at least six RC4 outputs for each double\n52 // significance: there are 52 significant digits in a double\n);\n/* This file is a slightly modified version of quadprog.js from Alberto Santini.\n * It has been slightly modified by Sbastien Loisel to make sure that it handles\n * 0-based Arrays instead of 1-based Arrays.\n * License is in resources/LICENSE.quadprog */\n(function (exports) {\n  function base0to1(A) {\n    if (typeof A !== \"object\") {\n      return A;\n    }\n    var ret = [],\n      i,\n      n = A.length;\n    for (i = 0; i < n; i++) ret[i + 1] = base0to1(A[i]);\n    return ret;\n  }\n  function base1to0(A) {\n    if (typeof A !== \"object\") {\n      return A;\n    }\n    var ret = [],\n      i,\n      n = A.length;\n    for (i = 1; i < n; i++) ret[i - 1] = base1to0(A[i]);\n    return ret;\n  }\n  function dpori(a, lda, n) {\n    var i, j, k, kp1, t;\n    for (k = 1; k <= n; k = k + 1) {\n      a[k][k] = 1 / a[k][k];\n      t = -a[k][k];\n      //~ dscal(k - 1, t, a[1][k], 1);\n      for (i = 1; i < k; i = i + 1) {\n        a[i][k] = t * a[i][k];\n      }\n      kp1 = k + 1;\n      if (n < kp1) {\n        break;\n      }\n      for (j = kp1; j <= n; j = j + 1) {\n        t = a[k][j];\n        a[k][j] = 0;\n        //~ daxpy(k, t, a[1][k], 1, a[1][j], 1);\n        for (i = 1; i <= k; i = i + 1) {\n          a[i][j] = a[i][j] + t * a[i][k];\n        }\n      }\n    }\n  }\n  function dposl(a, lda, n, b) {\n    var i, k, kb, t;\n    for (k = 1; k <= n; k = k + 1) {\n      //~ t = ddot(k - 1, a[1][k], 1, b[1], 1);\n      t = 0;\n      for (i = 1; i < k; i = i + 1) {\n        t = t + a[i][k] * b[i];\n      }\n      b[k] = (b[k] - t) / a[k][k];\n    }\n    for (kb = 1; kb <= n; kb = kb + 1) {\n      k = n + 1 - kb;\n      b[k] = b[k] / a[k][k];\n      t = -b[k];\n      //~ daxpy(k - 1, t, a[1][k], 1, b[1], 1);\n      for (i = 1; i < k; i = i + 1) {\n        b[i] = b[i] + t * a[i][k];\n      }\n    }\n  }\n  function dpofa(a, lda, n, info) {\n    var i, j, jm1, k, t, s;\n    for (j = 1; j <= n; j = j + 1) {\n      info[1] = j;\n      s = 0;\n      jm1 = j - 1;\n      if (jm1 < 1) {\n        s = a[j][j] - s;\n        if (s <= 0) {\n          break;\n        }\n        a[j][j] = Math.sqrt(s);\n      } else {\n        for (k = 1; k <= jm1; k = k + 1) {\n          //~ t = a[k][j] - ddot(k - 1, a[1][k], 1, a[1][j], 1);\n          t = a[k][j];\n          for (i = 1; i < k; i = i + 1) {\n            t = t - a[i][j] * a[i][k];\n          }\n          t = t / a[k][k];\n          a[k][j] = t;\n          s = s + t * t;\n        }\n        s = a[j][j] - s;\n        if (s <= 0) {\n          break;\n        }\n        a[j][j] = Math.sqrt(s);\n      }\n      info[1] = 0;\n    }\n  }\n  function qpgen2(dmat, dvec, fddmat, n, sol, crval, amat, bvec, fdamat, q, meq, iact, nact, iter, work, ierr) {\n    var i, j, l, l1, info, it1, iwzv, iwrv, iwrm, iwsv, iwuv, nvl, r, iwnbv, temp, sum, t1, tt, gc, gs, nu, t1inf, t2min, vsmall, tmpa, tmpb, go;\n    r = Math.min(n, q);\n    l = 2 * n + r * (r + 5) / 2 + 2 * q + 1;\n    vsmall = 1.0e-60;\n    do {\n      vsmall = vsmall + vsmall;\n      tmpa = 1 + 0.1 * vsmall;\n      tmpb = 1 + 0.2 * vsmall;\n    } while (tmpa <= 1 || tmpb <= 1);\n    for (i = 1; i <= n; i = i + 1) {\n      work[i] = dvec[i];\n    }\n    for (i = n + 1; i <= l; i = i + 1) {\n      work[i] = 0;\n    }\n    for (i = 1; i <= q; i = i + 1) {\n      iact[i] = 0;\n    }\n    info = [];\n    if (ierr[1] === 0) {\n      dpofa(dmat, fddmat, n, info);\n      if (info[1] !== 0) {\n        ierr[1] = 2;\n        return;\n      }\n      dposl(dmat, fddmat, n, dvec);\n      dpori(dmat, fddmat, n);\n    } else {\n      for (j = 1; j <= n; j = j + 1) {\n        sol[j] = 0;\n        for (i = 1; i <= j; i = i + 1) {\n          sol[j] = sol[j] + dmat[i][j] * dvec[i];\n        }\n      }\n      for (j = 1; j <= n; j = j + 1) {\n        dvec[j] = 0;\n        for (i = j; i <= n; i = i + 1) {\n          dvec[j] = dvec[j] + dmat[j][i] * sol[i];\n        }\n      }\n    }\n    crval[1] = 0;\n    for (j = 1; j <= n; j = j + 1) {\n      sol[j] = dvec[j];\n      crval[1] = crval[1] + work[j] * sol[j];\n      work[j] = 0;\n      for (i = j + 1; i <= n; i = i + 1) {\n        dmat[i][j] = 0;\n      }\n    }\n    crval[1] = -crval[1] / 2;\n    ierr[1] = 0;\n    iwzv = n;\n    iwrv = iwzv + n;\n    iwuv = iwrv + r;\n    iwrm = iwuv + r + 1;\n    iwsv = iwrm + r * (r + 1) / 2;\n    iwnbv = iwsv + q;\n    for (i = 1; i <= q; i = i + 1) {\n      sum = 0;\n      for (j = 1; j <= n; j = j + 1) {\n        sum = sum + amat[j][i] * amat[j][i];\n      }\n      work[iwnbv + i] = Math.sqrt(sum);\n    }\n    nact = 0;\n    iter[1] = 0;\n    iter[2] = 0;\n    function fn_goto_50() {\n      iter[1] = iter[1] + 1;\n      l = iwsv;\n      for (i = 1; i <= q; i = i + 1) {\n        l = l + 1;\n        sum = -bvec[i];\n        for (j = 1; j <= n; j = j + 1) {\n          sum = sum + amat[j][i] * sol[j];\n        }\n        if (Math.abs(sum) < vsmall) {\n          sum = 0;\n        }\n        if (i > meq) {\n          work[l] = sum;\n        } else {\n          work[l] = -Math.abs(sum);\n          if (sum > 0) {\n            for (j = 1; j <= n; j = j + 1) {\n              amat[j][i] = -amat[j][i];\n            }\n            bvec[i] = -bvec[i];\n          }\n        }\n      }\n      for (i = 1; i <= nact; i = i + 1) {\n        work[iwsv + iact[i]] = 0;\n      }\n      nvl = 0;\n      temp = 0;\n      for (i = 1; i <= q; i = i + 1) {\n        if (work[iwsv + i] < temp * work[iwnbv + i]) {\n          nvl = i;\n          temp = work[iwsv + i] / work[iwnbv + i];\n        }\n      }\n      if (nvl === 0) {\n        return 999;\n      }\n      return 0;\n    }\n    function fn_goto_55() {\n      for (i = 1; i <= n; i = i + 1) {\n        sum = 0;\n        for (j = 1; j <= n; j = j + 1) {\n          sum = sum + dmat[j][i] * amat[j][nvl];\n        }\n        work[i] = sum;\n      }\n      l1 = iwzv;\n      for (i = 1; i <= n; i = i + 1) {\n        work[l1 + i] = 0;\n      }\n      for (j = nact + 1; j <= n; j = j + 1) {\n        for (i = 1; i <= n; i = i + 1) {\n          work[l1 + i] = work[l1 + i] + dmat[i][j] * work[j];\n        }\n      }\n      t1inf = true;\n      for (i = nact; i >= 1; i = i - 1) {\n        sum = work[i];\n        l = iwrm + i * (i + 3) / 2;\n        l1 = l - i;\n        for (j = i + 1; j <= nact; j = j + 1) {\n          sum = sum - work[l] * work[iwrv + j];\n          l = l + j;\n        }\n        sum = sum / work[l1];\n        work[iwrv + i] = sum;\n        if (iact[i] < meq) {\n          // continue;\n          break;\n        }\n        if (sum < 0) {\n          // continue;\n          break;\n        }\n        t1inf = false;\n        it1 = i;\n      }\n      if (!t1inf) {\n        t1 = work[iwuv + it1] / work[iwrv + it1];\n        for (i = 1; i <= nact; i = i + 1) {\n          if (iact[i] < meq) {\n            // continue;\n            break;\n          }\n          if (work[iwrv + i] < 0) {\n            // continue;\n            break;\n          }\n          temp = work[iwuv + i] / work[iwrv + i];\n          if (temp < t1) {\n            t1 = temp;\n            it1 = i;\n          }\n        }\n      }\n      sum = 0;\n      for (i = iwzv + 1; i <= iwzv + n; i = i + 1) {\n        sum = sum + work[i] * work[i];\n      }\n      if (Math.abs(sum) <= vsmall) {\n        if (t1inf) {\n          ierr[1] = 1;\n          // GOTO 999\n          return 999;\n        } else {\n          for (i = 1; i <= nact; i = i + 1) {\n            work[iwuv + i] = work[iwuv + i] - t1 * work[iwrv + i];\n          }\n          work[iwuv + nact + 1] = work[iwuv + nact + 1] + t1;\n          // GOTO 700\n          return 700;\n        }\n      } else {\n        sum = 0;\n        for (i = 1; i <= n; i = i + 1) {\n          sum = sum + work[iwzv + i] * amat[i][nvl];\n        }\n        tt = -work[iwsv + nvl] / sum;\n        t2min = true;\n        if (!t1inf) {\n          if (t1 < tt) {\n            tt = t1;\n            t2min = false;\n          }\n        }\n        for (i = 1; i <= n; i = i + 1) {\n          sol[i] = sol[i] + tt * work[iwzv + i];\n          if (Math.abs(sol[i]) < vsmall) {\n            sol[i] = 0;\n          }\n        }\n        crval[1] = crval[1] + tt * sum * (tt / 2 + work[iwuv + nact + 1]);\n        for (i = 1; i <= nact; i = i + 1) {\n          work[iwuv + i] = work[iwuv + i] - tt * work[iwrv + i];\n        }\n        work[iwuv + nact + 1] = work[iwuv + nact + 1] + tt;\n        if (t2min) {\n          nact = nact + 1;\n          iact[nact] = nvl;\n          l = iwrm + (nact - 1) * nact / 2 + 1;\n          for (i = 1; i <= nact - 1; i = i + 1) {\n            work[l] = work[i];\n            l = l + 1;\n          }\n          if (nact === n) {\n            work[l] = work[n];\n          } else {\n            for (i = n; i >= nact + 1; i = i - 1) {\n              if (work[i] === 0) {\n                // continue;\n                break;\n              }\n              gc = Math.max(Math.abs(work[i - 1]), Math.abs(work[i]));\n              gs = Math.min(Math.abs(work[i - 1]), Math.abs(work[i]));\n              if (work[i - 1] >= 0) {\n                temp = Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n              } else {\n                temp = -Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n              }\n              gc = work[i - 1] / temp;\n              gs = work[i] / temp;\n              if (gc === 1) {\n                // continue;\n                break;\n              }\n              if (gc === 0) {\n                work[i - 1] = gs * temp;\n                for (j = 1; j <= n; j = j + 1) {\n                  temp = dmat[j][i - 1];\n                  dmat[j][i - 1] = dmat[j][i];\n                  dmat[j][i] = temp;\n                }\n              } else {\n                work[i - 1] = temp;\n                nu = gs / (1 + gc);\n                for (j = 1; j <= n; j = j + 1) {\n                  temp = gc * dmat[j][i - 1] + gs * dmat[j][i];\n                  dmat[j][i] = nu * (dmat[j][i - 1] + temp) - dmat[j][i];\n                  dmat[j][i - 1] = temp;\n                }\n              }\n            }\n            work[l] = work[nact];\n          }\n        } else {\n          sum = -bvec[nvl];\n          for (j = 1; j <= n; j = j + 1) {\n            sum = sum + sol[j] * amat[j][nvl];\n          }\n          if (nvl > meq) {\n            work[iwsv + nvl] = sum;\n          } else {\n            work[iwsv + nvl] = -Math.abs(sum);\n            if (sum > 0) {\n              for (j = 1; j <= n; j = j + 1) {\n                amat[j][nvl] = -amat[j][nvl];\n              }\n              bvec[nvl] = -bvec[nvl];\n            }\n          }\n          // GOTO 700\n          return 700;\n        }\n      }\n      return 0;\n    }\n    function fn_goto_797() {\n      l = iwrm + it1 * (it1 + 1) / 2 + 1;\n      l1 = l + it1;\n      if (work[l1] === 0) {\n        // GOTO 798\n        return 798;\n      }\n      gc = Math.max(Math.abs(work[l1 - 1]), Math.abs(work[l1]));\n      gs = Math.min(Math.abs(work[l1 - 1]), Math.abs(work[l1]));\n      if (work[l1 - 1] >= 0) {\n        temp = Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n      } else {\n        temp = -Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n      }\n      gc = work[l1 - 1] / temp;\n      gs = work[l1] / temp;\n      if (gc === 1) {\n        // GOTO 798\n        return 798;\n      }\n      if (gc === 0) {\n        for (i = it1 + 1; i <= nact; i = i + 1) {\n          temp = work[l1 - 1];\n          work[l1 - 1] = work[l1];\n          work[l1] = temp;\n          l1 = l1 + i;\n        }\n        for (i = 1; i <= n; i = i + 1) {\n          temp = dmat[i][it1];\n          dmat[i][it1] = dmat[i][it1 + 1];\n          dmat[i][it1 + 1] = temp;\n        }\n      } else {\n        nu = gs / (1 + gc);\n        for (i = it1 + 1; i <= nact; i = i + 1) {\n          temp = gc * work[l1 - 1] + gs * work[l1];\n          work[l1] = nu * (work[l1 - 1] + temp) - work[l1];\n          work[l1 - 1] = temp;\n          l1 = l1 + i;\n        }\n        for (i = 1; i <= n; i = i + 1) {\n          temp = gc * dmat[i][it1] + gs * dmat[i][it1 + 1];\n          dmat[i][it1 + 1] = nu * (dmat[i][it1] + temp) - dmat[i][it1 + 1];\n          dmat[i][it1] = temp;\n        }\n      }\n      return 0;\n    }\n    function fn_goto_798() {\n      l1 = l - it1;\n      for (i = 1; i <= it1; i = i + 1) {\n        work[l1] = work[l];\n        l = l + 1;\n        l1 = l1 + 1;\n      }\n      work[iwuv + it1] = work[iwuv + it1 + 1];\n      iact[it1] = iact[it1 + 1];\n      it1 = it1 + 1;\n      if (it1 < nact) {\n        // GOTO 797\n        return 797;\n      }\n      return 0;\n    }\n    function fn_goto_799() {\n      work[iwuv + nact] = work[iwuv + nact + 1];\n      work[iwuv + nact + 1] = 0;\n      iact[nact] = 0;\n      nact = nact - 1;\n      iter[2] = iter[2] + 1;\n      return 0;\n    }\n    go = 0;\n    while (true) {\n      go = fn_goto_50();\n      if (go === 999) {\n        return;\n      }\n      while (true) {\n        go = fn_goto_55();\n        if (go === 0) {\n          break;\n        }\n        if (go === 999) {\n          return;\n        }\n        if (go === 700) {\n          if (it1 === nact) {\n            fn_goto_799();\n          } else {\n            while (true) {\n              fn_goto_797();\n              go = fn_goto_798();\n              if (go !== 797) {\n                break;\n              }\n            }\n            fn_goto_799();\n          }\n        }\n      }\n    }\n  }\n  function solveQP(Dmat, dvec, Amat, bvec, meq, factorized) {\n    Dmat = base0to1(Dmat);\n    dvec = base0to1(dvec);\n    Amat = base0to1(Amat);\n    var i,\n      n,\n      q,\n      nact,\n      r,\n      crval = [],\n      iact = [],\n      sol = [],\n      work = [],\n      iter = [],\n      message;\n    meq = meq || 0;\n    factorized = factorized ? base0to1(factorized) : [undefined, 0];\n    bvec = bvec ? base0to1(bvec) : [];\n\n    // In Fortran the array index starts from 1\n    n = Dmat.length - 1;\n    q = Amat[1].length - 1;\n    if (!bvec) {\n      for (i = 1; i <= q; i = i + 1) {\n        bvec[i] = 0;\n      }\n    }\n    for (i = 1; i <= q; i = i + 1) {\n      iact[i] = 0;\n    }\n    nact = 0;\n    r = Math.min(n, q);\n    for (i = 1; i <= n; i = i + 1) {\n      sol[i] = 0;\n    }\n    crval[1] = 0;\n    for (i = 1; i <= 2 * n + r * (r + 5) / 2 + 2 * q + 1; i = i + 1) {\n      work[i] = 0;\n    }\n    for (i = 1; i <= 2; i = i + 1) {\n      iter[i] = 0;\n    }\n    qpgen2(Dmat, dvec, n, n, sol, crval, Amat, bvec, n, q, meq, iact, nact, iter, work, factorized);\n    message = \"\";\n    if (factorized[1] === 1) {\n      message = \"constraints are inconsistent, no solution!\";\n    }\n    if (factorized[1] === 2) {\n      message = \"matrix D in quadratic function is not positive definite!\";\n    }\n    return {\n      solution: base1to0(sol),\n      value: base1to0(crval),\n      unconstrained_solution: base1to0(dvec),\n      iterations: base1to0(iter),\n      iact: base1to0(iact),\n      message: message\n    };\n  }\n  exports.solveQP = solveQP;\n})(numeric);\n/*\r\nShanti Rao sent me this routine by private email. I had to modify it\r\nslightly to work on Arrays instead of using a Matrix object.\r\nIt is apparently translated from http://stitchpanorama.sourceforge.net/Python/svd.py\r\n*/\n\nnumeric.svd = function svd(A) {\n  var temp;\n  //Compute the thin SVD from G. H. Golub and C. Reinsch, Numer. Math. 14, 403-420 (1970)\n  var prec = numeric.epsilon; //Math.pow(2,-52) // assumes double prec\n  var tolerance = 1.e-64 / prec;\n  var itmax = 50;\n  var c = 0;\n  var i = 0;\n  var j = 0;\n  var k = 0;\n  var l = 0;\n  var u = numeric.clone(A);\n  var m = u.length;\n  var n = u[0].length;\n  if (m < n) throw \"Need more rows than columns\";\n  var e = new Array(n);\n  var q = new Array(n);\n  for (i = 0; i < n; i++) e[i] = q[i] = 0.0;\n  var v = numeric.rep([n, n], 0);\n  //\tv.zero();\n\n  function pythag(a, b) {\n    a = Math.abs(a);\n    b = Math.abs(b);\n    if (a > b) return a * Math.sqrt(1.0 + b * b / a / a);else if (b == 0.0) return a;\n    return b * Math.sqrt(1.0 + a * a / b / b);\n  }\n\n  //Householder's reduction to bidiagonal form\n\n  var f = 0.0;\n  var g = 0.0;\n  var h = 0.0;\n  var x = 0.0;\n  var y = 0.0;\n  var z = 0.0;\n  var s = 0.0;\n  for (i = 0; i < n; i++) {\n    e[i] = g;\n    s = 0.0;\n    l = i + 1;\n    for (j = i; j < m; j++) s += u[j][i] * u[j][i];\n    if (s <= tolerance) g = 0.0;else {\n      f = u[i][i];\n      g = Math.sqrt(s);\n      if (f >= 0.0) g = -g;\n      h = f * g - s;\n      u[i][i] = f - g;\n      for (j = l; j < n; j++) {\n        s = 0.0;\n        for (k = i; k < m; k++) s += u[k][i] * u[k][j];\n        f = s / h;\n        for (k = i; k < m; k++) u[k][j] += f * u[k][i];\n      }\n    }\n    q[i] = g;\n    s = 0.0;\n    for (j = l; j < n; j++) s = s + u[i][j] * u[i][j];\n    if (s <= tolerance) g = 0.0;else {\n      f = u[i][i + 1];\n      g = Math.sqrt(s);\n      if (f >= 0.0) g = -g;\n      h = f * g - s;\n      u[i][i + 1] = f - g;\n      for (j = l; j < n; j++) e[j] = u[i][j] / h;\n      for (j = l; j < m; j++) {\n        s = 0.0;\n        for (k = l; k < n; k++) s += u[j][k] * u[i][k];\n        for (k = l; k < n; k++) u[j][k] += s * e[k];\n      }\n    }\n    y = Math.abs(q[i]) + Math.abs(e[i]);\n    if (y > x) x = y;\n  }\n\n  // accumulation of right hand gtransformations\n  for (i = n - 1; i != -1; i += -1) {\n    if (g != 0.0) {\n      h = g * u[i][i + 1];\n      for (j = l; j < n; j++) v[j][i] = u[i][j] / h;\n      for (j = l; j < n; j++) {\n        s = 0.0;\n        for (k = l; k < n; k++) s += u[i][k] * v[k][j];\n        for (k = l; k < n; k++) v[k][j] += s * v[k][i];\n      }\n    }\n    for (j = l; j < n; j++) {\n      v[i][j] = 0;\n      v[j][i] = 0;\n    }\n    v[i][i] = 1;\n    g = e[i];\n    l = i;\n  }\n\n  // accumulation of left hand transformations\n  for (i = n - 1; i != -1; i += -1) {\n    l = i + 1;\n    g = q[i];\n    for (j = l; j < n; j++) u[i][j] = 0;\n    if (g != 0.0) {\n      h = u[i][i] * g;\n      for (j = l; j < n; j++) {\n        s = 0.0;\n        for (k = l; k < m; k++) s += u[k][i] * u[k][j];\n        f = s / h;\n        for (k = i; k < m; k++) u[k][j] += f * u[k][i];\n      }\n      for (j = i; j < m; j++) u[j][i] = u[j][i] / g;\n    } else for (j = i; j < m; j++) u[j][i] = 0;\n    u[i][i] += 1;\n  }\n\n  // diagonalization of the bidiagonal form\n  prec = prec * x;\n  for (k = n - 1; k != -1; k += -1) {\n    for (var iteration = 0; iteration < itmax; iteration++) {\n      // test f splitting\n      var test_convergence = false;\n      for (l = k; l != -1; l += -1) {\n        if (Math.abs(e[l]) <= prec) {\n          test_convergence = true;\n          break;\n        }\n        if (Math.abs(q[l - 1]) <= prec) break;\n      }\n      if (!test_convergence) {\n        // cancellation of e[l] if l>0\n        c = 0.0;\n        s = 1.0;\n        var l1 = l - 1;\n        for (i = l; i < k + 1; i++) {\n          f = s * e[i];\n          e[i] = c * e[i];\n          if (Math.abs(f) <= prec) break;\n          g = q[i];\n          h = pythag(f, g);\n          q[i] = h;\n          c = g / h;\n          s = -f / h;\n          for (j = 0; j < m; j++) {\n            y = u[j][l1];\n            z = u[j][i];\n            u[j][l1] = y * c + z * s;\n            u[j][i] = -y * s + z * c;\n          }\n        }\n      }\n      // test f convergence\n      z = q[k];\n      if (l == k) {\n        //convergence\n        if (z < 0.0) {\n          //q[k] is made non-negative\n          q[k] = -z;\n          for (j = 0; j < n; j++) v[j][k] = -v[j][k];\n        }\n        break; //break out of iteration loop and move on to next k value\n      }\n      if (iteration >= itmax - 1) throw 'Error: no convergence.';\n      // shift from bottom 2x2 minor\n      x = q[l];\n      y = q[k - 1];\n      g = e[k - 1];\n      h = e[k];\n      f = ((y - z) * (y + z) + (g - h) * (g + h)) / (2.0 * h * y);\n      g = pythag(f, 1.0);\n      if (f < 0.0) f = ((x - z) * (x + z) + h * (y / (f - g) - h)) / x;else f = ((x - z) * (x + z) + h * (y / (f + g) - h)) / x;\n      // next QR transformation\n      c = 1.0;\n      s = 1.0;\n      for (i = l + 1; i < k + 1; i++) {\n        g = e[i];\n        y = q[i];\n        h = s * g;\n        g = c * g;\n        z = pythag(f, h);\n        e[i - 1] = z;\n        c = f / z;\n        s = h / z;\n        f = x * c + g * s;\n        g = -x * s + g * c;\n        h = y * s;\n        y = y * c;\n        for (j = 0; j < n; j++) {\n          x = v[j][i - 1];\n          z = v[j][i];\n          v[j][i - 1] = x * c + z * s;\n          v[j][i] = -x * s + z * c;\n        }\n        z = pythag(f, h);\n        q[i - 1] = z;\n        c = f / z;\n        s = h / z;\n        f = c * g + s * y;\n        x = -s * g + c * y;\n        for (j = 0; j < m; j++) {\n          y = u[j][i - 1];\n          z = u[j][i];\n          u[j][i - 1] = y * c + z * s;\n          u[j][i] = -y * s + z * c;\n        }\n      }\n      e[l] = 0.0;\n      e[k] = f;\n      q[k] = x;\n    }\n  }\n\n  //vt= transpose(v)\n  //return (u,q,vt)\n  for (i = 0; i < q.length; i++) if (q[i] < prec) q[i] = 0;\n\n  //sort eigenvalues\t\n  for (i = 0; i < n; i++) {\n    //writeln(q)\n    for (j = i - 1; j >= 0; j--) {\n      if (q[j] < q[i]) {\n        //  writeln(i,'-',j)\n        c = q[j];\n        q[j] = q[i];\n        q[i] = c;\n        for (k = 0; k < u.length; k++) {\n          temp = u[k][i];\n          u[k][i] = u[k][j];\n          u[k][j] = temp;\n        }\n        for (k = 0; k < v.length; k++) {\n          temp = v[k][i];\n          v[k][i] = v[k][j];\n          v[k][j] = temp;\n        }\n        //\t   u.swapCols(i,j)\n        //\t   v.swapCols(i,j)\n        i = j;\n      }\n    }\n  }\n  return {\n    U: u,\n    S: q,\n    V: v\n  };\n};","map":{"version":3,"names":["numeric","exports","global","version","bench","f","interval","t1","t2","n","i","Date","_myIndexOf","w","length","k","myIndexOf","Array","prototype","indexOf","Function","precision","largeArray","prettyPrint","x","fmtnum","isNaN","isFinite","scale","Math","floor","log","normalized","pow","basic","toPrecision","parseFloat","toString","ret","foo","push","join","a","b","c","d","flag","hasOwnProperty","parseDate","parse","replace","Error","parseFloat_","parseCSV","t","split","j","pat","patnum","stripper","substr","count","bar","match","baz","test","toCSV","A","s","dim","m","row","getURL","url","client","XMLHttpRequest","open","send","imageURL","img","base64","y","z","p","q","r","key","charAt","crc32Array","from","to","table","crc","h","s1","s2","next","adler32","crc32","stream","round","_dim","mapreduce","body","init","mapreduce2","setup","same","rep","v","dotMMsmall","woo","i0","k0","p0","r0","_getCol","dotMMbig","gc","xj","VV","dotVV","dotMV","dotVM","s3","accum","i1","dot","mulVS","mulSV","diag","Ai","getDiag","min","identity","pointwise","params","fun","avec","thevec","haveret","substring","apply","pointwise2","_biforeach","_biforeach2","_foreach","_foreach2","ops2","add","sub","mul","div","mod","and","or","eq","neq","lt","gt","leq","geq","band","bor","bxor","lshift","rshift","rrshift","opseq","addeq","subeq","muleq","diveq","modeq","lshifteq","rshifteq","rrshifteq","bandeq","boreq","bxoreq","mathfuns","mathfuns2","ops1","neg","not","bnot","clone","mapreducers","any","all","sum","prod","norm2Squared","norminf","norm1","sup","inf","o","code","codeeq","call","truncVV","truncVS","truncSV","trunc","inv","abs","Aj","I","Ii","Ij","v0","det","alpha","temp","k1","k2","k3","transpose","A0","A1","Bj","negtranspose","_random","rnd","random","norm2","sqrt","linspace","max","getBlock","setBlock","B","getRange","J","Bi","AI","blockMatrix","X","M","N","Xij","Z","ZI","l","Xijk","tensor","xi","T","Tbinop","rr","rc","cr","cc","io","reciprocal","transjugate","Tunop","exp","conj","sin","cos","Rx","Ry","Ax","Ay","Aix","Aiy","Ajx","Ajy","Rix","Riy","Rjx","Rjy","d1","ax","ay","bx","by","get","ik","set","vx","vy","undefined","getRows","rx","ry","setRows","getRow","setRow","eig","house","toUpperHessenberg","me","C","Ci","Q","Qi","H","epsilon","QRFrancis","maxiter","H0","tr","Hloc","Hi","iter","QH1","QH2","concat","QH","QB","Q0","p1","p2","disc","n1","n2","R","E","Rk","Rj","lambda","ccsSparse","counts","parseInt","Av","ccsFull","ccsDim","j0","j1","ccsTSolve","bj","dfs","l0","l1","ccsDFS","Pinv","km","k11","ccsLPSolve","Bv","ccsLUP1","threshold","L","U","Li","Lj","Lv","Ui","Uj","Uv","e","K","sol","P","ccsDFS0","ccsLPSolve0","ccsLUP0","ccsLUP","ccsGetBlock","jq","ip","flags","q0","q1","ccsDot","sA","sB","Cj","Cv","ccsLUPSolve","LUP","Xi","Xj","Xv","ccsbinop","eval","ccsScatter","Ri","Rv","ptr","slice","Aii","ccsGather","sdim","sclone","sdiag","i2","i3","sidentity","stranspose","sLUP","tol","sdotMM","dotMM","BT","BTk","reti","sdotMV","sdotVM","sdotVV","sdot","sscatter","scatter","V","Vij","sgather","gather","pop","cLU","LU","left","Infinity","right","countL","countU","cLUsolve","LUsolve","lu","cgrid","grid","shape","cdelsq","delsq","g","dir","cdotMV","Spline","yl","yr","kl","kr","_at","x1","at","x0","mid","diff","dx","dy","zl","zr","pl","pr","roots","sqr","heval","y0","y1","ai","bi","ci","di","ri","D","cx","stops","z0","z1","zm","t0","tm","side","spline","kn","fftpow2","xe","ye","xo","yo","si","_ifftpow2","ifftpow2","convpow2","axi","bxi","ayi","byi","fft","log2","ceil","cy","nhalf","Y","ifft","gradient","f0","f1","f2","errest","roundoff","eps","it","d2","uncmin","maxit","callback","options","grad","df0","step","g0","g1","H1","Hinv","ten","isfinite","Hy","Hs","ys","nstep","msg","solution","invHessian","iterations","message","Dopri","ymid","events","xs","xh","yh","dopri","event","k4","k5","k6","k7","A2","A3","A4","A5","A6","bm","er","erinf","e0","e1","ev","yi","xl","xr","xc","yc","en","ei","sl","sr","fast","absAjk","Akk","Ak","Pk","Pi","LUi","LUii","tmp","solve","echelonize","__solveLP","unbounded","cb","AT","svd","norm","dotcc","a1","Ag","_solveLP","c0","b0","NaN","solveLP","Aeq","beq","Aeq2","b4","c1","c2","c4","S","x2","MPStoLP","MPS","String","state","states","rows","sign","rl","vars","nv","name","err","w0","seedrandom","pool","math","width","chunks","significance","overflow","startdenom","seed","use_entropy","arc4","mixkey","flatten","arguments","getTime","window","ARC4","u","keylen","lowbits","getnext","obj","depth","result","prop","typ","smear","charCodeAt","fromCharCode","base0to1","base1to0","dpori","lda","kp1","dposl","kb","dpofa","info","jm1","qpgen2","dmat","dvec","fddmat","crval","amat","bvec","fdamat","meq","iact","nact","work","ierr","it1","iwzv","iwrv","iwrm","iwsv","iwuv","nvl","iwnbv","tt","gs","nu","t1inf","t2min","vsmall","tmpa","tmpb","go","fn_goto_50","fn_goto_55","fn_goto_797","fn_goto_798","fn_goto_799","solveQP","Dmat","Amat","factorized","value","unconstrained_solution","prec","tolerance","itmax","pythag","iteration","test_convergence"],"sources":["/Users/rohit/College/Spring2025/CSE6242/RecomViz/node_modules/numeric/numeric-1.2.6.js"],"sourcesContent":["\"use strict\";\n\nvar numeric = (typeof exports === \"undefined\")?(function numeric() {}):(exports);\nif(typeof global !== \"undefined\") { global.numeric = numeric; }\n\nnumeric.version = \"1.2.6\";\n\n// 1. Utility functions\nnumeric.bench = function bench (f,interval) {\n    var t1,t2,n,i;\n    if(typeof interval === \"undefined\") { interval = 15; }\n    n = 0.5;\n    t1 = new Date();\n    while(1) {\n        n*=2;\n        for(i=n;i>3;i-=4) { f(); f(); f(); f(); }\n        while(i>0) { f(); i--; }\n        t2 = new Date();\n        if(t2-t1 > interval) break;\n    }\n    for(i=n;i>3;i-=4) { f(); f(); f(); f(); }\n    while(i>0) { f(); i--; }\n    t2 = new Date();\n    return 1000*(3*n-1)/(t2-t1);\n}\n\nnumeric._myIndexOf = (function _myIndexOf(w) {\n    var n = this.length,k;\n    for(k=0;k<n;++k) if(this[k]===w) return k;\n    return -1;\n});\nnumeric.myIndexOf = (Array.prototype.indexOf)?Array.prototype.indexOf:numeric._myIndexOf;\n\nnumeric.Function = Function;\nnumeric.precision = 4;\nnumeric.largeArray = 50;\n\nnumeric.prettyPrint = function prettyPrint(x) {\n    function fmtnum(x) {\n        if(x === 0) { return '0'; }\n        if(isNaN(x)) { return 'NaN'; }\n        if(x<0) { return '-'+fmtnum(-x); }\n        if(isFinite(x)) {\n            var scale = Math.floor(Math.log(x) / Math.log(10));\n            var normalized = x / Math.pow(10,scale);\n            var basic = normalized.toPrecision(numeric.precision);\n            if(parseFloat(basic) === 10) { scale++; normalized = 1; basic = normalized.toPrecision(numeric.precision); }\n            return parseFloat(basic).toString()+'e'+scale.toString();\n        }\n        return 'Infinity';\n    }\n    var ret = [];\n    function foo(x) {\n        var k;\n        if(typeof x === \"undefined\") { ret.push(Array(numeric.precision+8).join(' ')); return false; }\n        if(typeof x === \"string\") { ret.push('\"'+x+'\"'); return false; }\n        if(typeof x === \"boolean\") { ret.push(x.toString()); return false; }\n        if(typeof x === \"number\") {\n            var a = fmtnum(x);\n            var b = x.toPrecision(numeric.precision);\n            var c = parseFloat(x.toString()).toString();\n            var d = [a,b,c,parseFloat(b).toString(),parseFloat(c).toString()];\n            for(k=1;k<d.length;k++) { if(d[k].length < a.length) a = d[k]; }\n            ret.push(Array(numeric.precision+8-a.length).join(' ')+a);\n            return false;\n        }\n        if(x === null) { ret.push(\"null\"); return false; }\n        if(typeof x === \"function\") { \n            ret.push(x.toString());\n            var flag = false;\n            for(k in x) { if(x.hasOwnProperty(k)) { \n                if(flag) ret.push(',\\n');\n                else ret.push('\\n{');\n                flag = true; \n                ret.push(k); \n                ret.push(': \\n'); \n                foo(x[k]); \n            } }\n            if(flag) ret.push('}\\n');\n            return true;\n        }\n        if(x instanceof Array) {\n            if(x.length > numeric.largeArray) { ret.push('...Large Array...'); return true; }\n            var flag = false;\n            ret.push('[');\n            for(k=0;k<x.length;k++) { if(k>0) { ret.push(','); if(flag) ret.push('\\n '); } flag = foo(x[k]); }\n            ret.push(']');\n            return true;\n        }\n        ret.push('{');\n        var flag = false;\n        for(k in x) { if(x.hasOwnProperty(k)) { if(flag) ret.push(',\\n'); flag = true; ret.push(k); ret.push(': \\n'); foo(x[k]); } }\n        ret.push('}');\n        return true;\n    }\n    foo(x);\n    return ret.join('');\n}\n\nnumeric.parseDate = function parseDate(d) {\n    function foo(d) {\n        if(typeof d === 'string') { return Date.parse(d.replace(/-/g,'/')); }\n        if(!(d instanceof Array)) { throw new Error(\"parseDate: parameter must be arrays of strings\"); }\n        var ret = [],k;\n        for(k=0;k<d.length;k++) { ret[k] = foo(d[k]); }\n        return ret;\n    }\n    return foo(d);\n}\n\nnumeric.parseFloat = function parseFloat_(d) {\n    function foo(d) {\n        if(typeof d === 'string') { return parseFloat(d); }\n        if(!(d instanceof Array)) { throw new Error(\"parseFloat: parameter must be arrays of strings\"); }\n        var ret = [],k;\n        for(k=0;k<d.length;k++) { ret[k] = foo(d[k]); }\n        return ret;\n    }\n    return foo(d);\n}\n\nnumeric.parseCSV = function parseCSV(t) {\n    var foo = t.split('\\n');\n    var j,k;\n    var ret = [];\n    var pat = /(([^'\",]*)|('[^']*')|(\"[^\"]*\")),/g;\n    var patnum = /^\\s*(([+-]?[0-9]+(\\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\\.[0-9]+)?(e[+-]?[0-9]+)?))\\s*$/;\n    var stripper = function(n) { return n.substr(0,n.length-1); }\n    var count = 0;\n    for(k=0;k<foo.length;k++) {\n      var bar = (foo[k]+\",\").match(pat),baz;\n      if(bar.length>0) {\n          ret[count] = [];\n          for(j=0;j<bar.length;j++) {\n              baz = stripper(bar[j]);\n              if(patnum.test(baz)) { ret[count][j] = parseFloat(baz); }\n              else ret[count][j] = baz;\n          }\n          count++;\n      }\n    }\n    return ret;\n}\n\nnumeric.toCSV = function toCSV(A) {\n    var s = numeric.dim(A);\n    var i,j,m,n,row,ret;\n    m = s[0];\n    n = s[1];\n    ret = [];\n    for(i=0;i<m;i++) {\n        row = [];\n        for(j=0;j<m;j++) { row[j] = A[i][j].toString(); }\n        ret[i] = row.join(', ');\n    }\n    return ret.join('\\n')+'\\n';\n}\n\nnumeric.getURL = function getURL(url) {\n    var client = new XMLHttpRequest();\n    client.open(\"GET\",url,false);\n    client.send();\n    return client;\n}\n\nnumeric.imageURL = function imageURL(img) {\n    function base64(A) {\n        var n = A.length, i,x,y,z,p,q,r,s;\n        var key = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n        var ret = \"\";\n        for(i=0;i<n;i+=3) {\n            x = A[i];\n            y = A[i+1];\n            z = A[i+2];\n            p = x >> 2;\n            q = ((x & 3) << 4) + (y >> 4);\n            r = ((y & 15) << 2) + (z >> 6);\n            s = z & 63;\n            if(i+1>=n) { r = s = 64; }\n            else if(i+2>=n) { s = 64; }\n            ret += key.charAt(p) + key.charAt(q) + key.charAt(r) + key.charAt(s);\n            }\n        return ret;\n    }\n    function crc32Array (a,from,to) {\n        if(typeof from === \"undefined\") { from = 0; }\n        if(typeof to === \"undefined\") { to = a.length; }\n        var table = [0x00000000, 0x77073096, 0xEE0E612C, 0x990951BA, 0x076DC419, 0x706AF48F, 0xE963A535, 0x9E6495A3,\n                     0x0EDB8832, 0x79DCB8A4, 0xE0D5E91E, 0x97D2D988, 0x09B64C2B, 0x7EB17CBD, 0xE7B82D07, 0x90BF1D91, \n                     0x1DB71064, 0x6AB020F2, 0xF3B97148, 0x84BE41DE, 0x1ADAD47D, 0x6DDDE4EB, 0xF4D4B551, 0x83D385C7,\n                     0x136C9856, 0x646BA8C0, 0xFD62F97A, 0x8A65C9EC, 0x14015C4F, 0x63066CD9, 0xFA0F3D63, 0x8D080DF5, \n                     0x3B6E20C8, 0x4C69105E, 0xD56041E4, 0xA2677172, 0x3C03E4D1, 0x4B04D447, 0xD20D85FD, 0xA50AB56B, \n                     0x35B5A8FA, 0x42B2986C, 0xDBBBC9D6, 0xACBCF940, 0x32D86CE3, 0x45DF5C75, 0xDCD60DCF, 0xABD13D59, \n                     0x26D930AC, 0x51DE003A, 0xC8D75180, 0xBFD06116, 0x21B4F4B5, 0x56B3C423, 0xCFBA9599, 0xB8BDA50F,\n                     0x2802B89E, 0x5F058808, 0xC60CD9B2, 0xB10BE924, 0x2F6F7C87, 0x58684C11, 0xC1611DAB, 0xB6662D3D,\n                     0x76DC4190, 0x01DB7106, 0x98D220BC, 0xEFD5102A, 0x71B18589, 0x06B6B51F, 0x9FBFE4A5, 0xE8B8D433,\n                     0x7807C9A2, 0x0F00F934, 0x9609A88E, 0xE10E9818, 0x7F6A0DBB, 0x086D3D2D, 0x91646C97, 0xE6635C01, \n                     0x6B6B51F4, 0x1C6C6162, 0x856530D8, 0xF262004E, 0x6C0695ED, 0x1B01A57B, 0x8208F4C1, 0xF50FC457, \n                     0x65B0D9C6, 0x12B7E950, 0x8BBEB8EA, 0xFCB9887C, 0x62DD1DDF, 0x15DA2D49, 0x8CD37CF3, 0xFBD44C65, \n                     0x4DB26158, 0x3AB551CE, 0xA3BC0074, 0xD4BB30E2, 0x4ADFA541, 0x3DD895D7, 0xA4D1C46D, 0xD3D6F4FB, \n                     0x4369E96A, 0x346ED9FC, 0xAD678846, 0xDA60B8D0, 0x44042D73, 0x33031DE5, 0xAA0A4C5F, 0xDD0D7CC9, \n                     0x5005713C, 0x270241AA, 0xBE0B1010, 0xC90C2086, 0x5768B525, 0x206F85B3, 0xB966D409, 0xCE61E49F, \n                     0x5EDEF90E, 0x29D9C998, 0xB0D09822, 0xC7D7A8B4, 0x59B33D17, 0x2EB40D81, 0xB7BD5C3B, 0xC0BA6CAD, \n                     0xEDB88320, 0x9ABFB3B6, 0x03B6E20C, 0x74B1D29A, 0xEAD54739, 0x9DD277AF, 0x04DB2615, 0x73DC1683, \n                     0xE3630B12, 0x94643B84, 0x0D6D6A3E, 0x7A6A5AA8, 0xE40ECF0B, 0x9309FF9D, 0x0A00AE27, 0x7D079EB1, \n                     0xF00F9344, 0x8708A3D2, 0x1E01F268, 0x6906C2FE, 0xF762575D, 0x806567CB, 0x196C3671, 0x6E6B06E7, \n                     0xFED41B76, 0x89D32BE0, 0x10DA7A5A, 0x67DD4ACC, 0xF9B9DF6F, 0x8EBEEFF9, 0x17B7BE43, 0x60B08ED5, \n                     0xD6D6A3E8, 0xA1D1937E, 0x38D8C2C4, 0x4FDFF252, 0xD1BB67F1, 0xA6BC5767, 0x3FB506DD, 0x48B2364B, \n                     0xD80D2BDA, 0xAF0A1B4C, 0x36034AF6, 0x41047A60, 0xDF60EFC3, 0xA867DF55, 0x316E8EEF, 0x4669BE79, \n                     0xCB61B38C, 0xBC66831A, 0x256FD2A0, 0x5268E236, 0xCC0C7795, 0xBB0B4703, 0x220216B9, 0x5505262F, \n                     0xC5BA3BBE, 0xB2BD0B28, 0x2BB45A92, 0x5CB36A04, 0xC2D7FFA7, 0xB5D0CF31, 0x2CD99E8B, 0x5BDEAE1D, \n                     0x9B64C2B0, 0xEC63F226, 0x756AA39C, 0x026D930A, 0x9C0906A9, 0xEB0E363F, 0x72076785, 0x05005713, \n                     0x95BF4A82, 0xE2B87A14, 0x7BB12BAE, 0x0CB61B38, 0x92D28E9B, 0xE5D5BE0D, 0x7CDCEFB7, 0x0BDBDF21, \n                     0x86D3D2D4, 0xF1D4E242, 0x68DDB3F8, 0x1FDA836E, 0x81BE16CD, 0xF6B9265B, 0x6FB077E1, 0x18B74777, \n                     0x88085AE6, 0xFF0F6A70, 0x66063BCA, 0x11010B5C, 0x8F659EFF, 0xF862AE69, 0x616BFFD3, 0x166CCF45, \n                     0xA00AE278, 0xD70DD2EE, 0x4E048354, 0x3903B3C2, 0xA7672661, 0xD06016F7, 0x4969474D, 0x3E6E77DB, \n                     0xAED16A4A, 0xD9D65ADC, 0x40DF0B66, 0x37D83BF0, 0xA9BCAE53, 0xDEBB9EC5, 0x47B2CF7F, 0x30B5FFE9, \n                     0xBDBDF21C, 0xCABAC28A, 0x53B39330, 0x24B4A3A6, 0xBAD03605, 0xCDD70693, 0x54DE5729, 0x23D967BF, \n                     0xB3667A2E, 0xC4614AB8, 0x5D681B02, 0x2A6F2B94, 0xB40BBE37, 0xC30C8EA1, 0x5A05DF1B, 0x2D02EF8D];\n     \n        var crc = -1, y = 0, n = a.length,i;\n\n        for (i = from; i < to; i++) {\n            y = (crc ^ a[i]) & 0xFF;\n            crc = (crc >>> 8) ^ table[y];\n        }\n     \n        return crc ^ (-1);\n    }\n\n    var h = img[0].length, w = img[0][0].length, s1, s2, next,k,length,a,b,i,j,adler32,crc32;\n    var stream = [\n                  137, 80, 78, 71, 13, 10, 26, 10,                           //  0: PNG signature\n                  0,0,0,13,                                                  //  8: IHDR Chunk length\n                  73, 72, 68, 82,                                            // 12: \"IHDR\" \n                  (w >> 24) & 255, (w >> 16) & 255, (w >> 8) & 255, w&255,   // 16: Width\n                  (h >> 24) & 255, (h >> 16) & 255, (h >> 8) & 255, h&255,   // 20: Height\n                  8,                                                         // 24: bit depth\n                  2,                                                         // 25: RGB\n                  0,                                                         // 26: deflate\n                  0,                                                         // 27: no filter\n                  0,                                                         // 28: no interlace\n                  -1,-2,-3,-4,                                               // 29: CRC\n                  -5,-6,-7,-8,                                               // 33: IDAT Chunk length\n                  73, 68, 65, 84,                                            // 37: \"IDAT\"\n                  // RFC 1950 header starts here\n                  8,                                                         // 41: RFC1950 CMF\n                  29                                                         // 42: RFC1950 FLG\n                  ];\n    crc32 = crc32Array(stream,12,29);\n    stream[29] = (crc32>>24)&255;\n    stream[30] = (crc32>>16)&255;\n    stream[31] = (crc32>>8)&255;\n    stream[32] = (crc32)&255;\n    s1 = 1;\n    s2 = 0;\n    for(i=0;i<h;i++) {\n        if(i<h-1) { stream.push(0); }\n        else { stream.push(1); }\n        a = (3*w+1+(i===0))&255; b = ((3*w+1+(i===0))>>8)&255;\n        stream.push(a); stream.push(b);\n        stream.push((~a)&255); stream.push((~b)&255);\n        if(i===0) stream.push(0);\n        for(j=0;j<w;j++) {\n            for(k=0;k<3;k++) {\n                a = img[k][i][j];\n                if(a>255) a = 255;\n                else if(a<0) a=0;\n                else a = Math.round(a);\n                s1 = (s1 + a )%65521;\n                s2 = (s2 + s1)%65521;\n                stream.push(a);\n            }\n        }\n        stream.push(0);\n    }\n    adler32 = (s2<<16)+s1;\n    stream.push((adler32>>24)&255);\n    stream.push((adler32>>16)&255);\n    stream.push((adler32>>8)&255);\n    stream.push((adler32)&255);\n    length = stream.length - 41;\n    stream[33] = (length>>24)&255;\n    stream[34] = (length>>16)&255;\n    stream[35] = (length>>8)&255;\n    stream[36] = (length)&255;\n    crc32 = crc32Array(stream,37);\n    stream.push((crc32>>24)&255);\n    stream.push((crc32>>16)&255);\n    stream.push((crc32>>8)&255);\n    stream.push((crc32)&255);\n    stream.push(0);\n    stream.push(0);\n    stream.push(0);\n    stream.push(0);\n//    a = stream.length;\n    stream.push(73);  // I\n    stream.push(69);  // E\n    stream.push(78);  // N\n    stream.push(68);  // D\n    stream.push(174); // CRC1\n    stream.push(66);  // CRC2\n    stream.push(96);  // CRC3\n    stream.push(130); // CRC4\n    return 'data:image/png;base64,'+base64(stream);\n}\n\n// 2. Linear algebra with Arrays.\nnumeric._dim = function _dim(x) {\n    var ret = [];\n    while(typeof x === \"object\") { ret.push(x.length); x = x[0]; }\n    return ret;\n}\n\nnumeric.dim = function dim(x) {\n    var y,z;\n    if(typeof x === \"object\") {\n        y = x[0];\n        if(typeof y === \"object\") {\n            z = y[0];\n            if(typeof z === \"object\") {\n                return numeric._dim(x);\n            }\n            return [x.length,y.length];\n        }\n        return [x.length];\n    }\n    return [];\n}\n\nnumeric.mapreduce = function mapreduce(body,init) {\n    return Function('x','accum','_s','_k',\n            'if(typeof accum === \"undefined\") accum = '+init+';\\n'+\n            'if(typeof x === \"number\") { var xi = x; '+body+'; return accum; }\\n'+\n            'if(typeof _s === \"undefined\") _s = numeric.dim(x);\\n'+\n            'if(typeof _k === \"undefined\") _k = 0;\\n'+\n            'var _n = _s[_k];\\n'+\n            'var i,xi;\\n'+\n            'if(_k < _s.length-1) {\\n'+\n            '    for(i=_n-1;i>=0;i--) {\\n'+\n            '        accum = arguments.callee(x[i],accum,_s,_k+1);\\n'+\n            '    }'+\n            '    return accum;\\n'+\n            '}\\n'+\n            'for(i=_n-1;i>=1;i-=2) { \\n'+\n            '    xi = x[i];\\n'+\n            '    '+body+';\\n'+\n            '    xi = x[i-1];\\n'+\n            '    '+body+';\\n'+\n            '}\\n'+\n            'if(i === 0) {\\n'+\n            '    xi = x[i];\\n'+\n            '    '+body+'\\n'+\n            '}\\n'+\n            'return accum;'\n            );\n}\nnumeric.mapreduce2 = function mapreduce2(body,setup) {\n    return Function('x',\n            'var n = x.length;\\n'+\n            'var i,xi;\\n'+setup+';\\n'+\n            'for(i=n-1;i!==-1;--i) { \\n'+\n            '    xi = x[i];\\n'+\n            '    '+body+';\\n'+\n            '}\\n'+\n            'return accum;'\n            );\n}\n\n\nnumeric.same = function same(x,y) {\n    var i,n;\n    if(!(x instanceof Array) || !(y instanceof Array)) { return false; }\n    n = x.length;\n    if(n !== y.length) { return false; }\n    for(i=0;i<n;i++) {\n        if(x[i] === y[i]) { continue; }\n        if(typeof x[i] === \"object\") { if(!same(x[i],y[i])) return false; }\n        else { return false; }\n    }\n    return true;\n}\n\nnumeric.rep = function rep(s,v,k) {\n    if(typeof k === \"undefined\") { k=0; }\n    var n = s[k], ret = Array(n), i;\n    if(k === s.length-1) {\n        for(i=n-2;i>=0;i-=2) { ret[i+1] = v; ret[i] = v; }\n        if(i===-1) { ret[0] = v; }\n        return ret;\n    }\n    for(i=n-1;i>=0;i--) { ret[i] = numeric.rep(s,v,k+1); }\n    return ret;\n}\n\n\nnumeric.dotMMsmall = function dotMMsmall(x,y) {\n    var i,j,k,p,q,r,ret,foo,bar,woo,i0,k0,p0,r0;\n    p = x.length; q = y.length; r = y[0].length;\n    ret = Array(p);\n    for(i=p-1;i>=0;i--) {\n        foo = Array(r);\n        bar = x[i];\n        for(k=r-1;k>=0;k--) {\n            woo = bar[q-1]*y[q-1][k];\n            for(j=q-2;j>=1;j-=2) {\n                i0 = j-1;\n                woo += bar[j]*y[j][k] + bar[i0]*y[i0][k];\n            }\n            if(j===0) { woo += bar[0]*y[0][k]; }\n            foo[k] = woo;\n        }\n        ret[i] = foo;\n    }\n    return ret;\n}\nnumeric._getCol = function _getCol(A,j,x) {\n    var n = A.length, i;\n    for(i=n-1;i>0;--i) {\n        x[i] = A[i][j];\n        --i;\n        x[i] = A[i][j];\n    }\n    if(i===0) x[0] = A[0][j];\n}\nnumeric.dotMMbig = function dotMMbig(x,y){\n    var gc = numeric._getCol, p = y.length, v = Array(p);\n    var m = x.length, n = y[0].length, A = new Array(m), xj;\n    var VV = numeric.dotVV;\n    var i,j,k,z;\n    --p;\n    --m;\n    for(i=m;i!==-1;--i) A[i] = Array(n);\n    --n;\n    for(i=n;i!==-1;--i) {\n        gc(y,i,v);\n        for(j=m;j!==-1;--j) {\n            z=0;\n            xj = x[j];\n            A[j][i] = VV(xj,v);\n        }\n    }\n    return A;\n}\n\nnumeric.dotMV = function dotMV(x,y) {\n    var p = x.length, q = y.length,i;\n    var ret = Array(p), dotVV = numeric.dotVV;\n    for(i=p-1;i>=0;i--) { ret[i] = dotVV(x[i],y); }\n    return ret;\n}\n\nnumeric.dotVM = function dotVM(x,y) {\n    var i,j,k,p,q,r,ret,foo,bar,woo,i0,k0,p0,r0,s1,s2,s3,baz,accum;\n    p = x.length; q = y[0].length;\n    ret = Array(q);\n    for(k=q-1;k>=0;k--) {\n        woo = x[p-1]*y[p-1][k];\n        for(j=p-2;j>=1;j-=2) {\n            i0 = j-1;\n            woo += x[j]*y[j][k] + x[i0]*y[i0][k];\n        }\n        if(j===0) { woo += x[0]*y[0][k]; }\n        ret[k] = woo;\n    }\n    return ret;\n}\n\nnumeric.dotVV = function dotVV(x,y) {\n    var i,n=x.length,i1,ret = x[n-1]*y[n-1];\n    for(i=n-2;i>=1;i-=2) {\n        i1 = i-1;\n        ret += x[i]*y[i] + x[i1]*y[i1];\n    }\n    if(i===0) { ret += x[0]*y[0]; }\n    return ret;\n}\n\nnumeric.dot = function dot(x,y) {\n    var d = numeric.dim;\n    switch(d(x).length*1000+d(y).length) {\n    case 2002:\n        if(y.length < 10) return numeric.dotMMsmall(x,y);\n        else return numeric.dotMMbig(x,y);\n    case 2001: return numeric.dotMV(x,y);\n    case 1002: return numeric.dotVM(x,y);\n    case 1001: return numeric.dotVV(x,y);\n    case 1000: return numeric.mulVS(x,y);\n    case 1: return numeric.mulSV(x,y);\n    case 0: return x*y;\n    default: throw new Error('numeric.dot only works on vectors and matrices');\n    }\n}\n\nnumeric.diag = function diag(d) {\n    var i,i1,j,n = d.length, A = Array(n), Ai;\n    for(i=n-1;i>=0;i--) {\n        Ai = Array(n);\n        i1 = i+2;\n        for(j=n-1;j>=i1;j-=2) {\n            Ai[j] = 0;\n            Ai[j-1] = 0;\n        }\n        if(j>i) { Ai[j] = 0; }\n        Ai[i] = d[i];\n        for(j=i-1;j>=1;j-=2) {\n            Ai[j] = 0;\n            Ai[j-1] = 0;\n        }\n        if(j===0) { Ai[0] = 0; }\n        A[i] = Ai;\n    }\n    return A;\n}\nnumeric.getDiag = function(A) {\n    var n = Math.min(A.length,A[0].length),i,ret = Array(n);\n    for(i=n-1;i>=1;--i) {\n        ret[i] = A[i][i];\n        --i;\n        ret[i] = A[i][i];\n    }\n    if(i===0) {\n        ret[0] = A[0][0];\n    }\n    return ret;\n}\n\nnumeric.identity = function identity(n) { return numeric.diag(numeric.rep([n],1)); }\nnumeric.pointwise = function pointwise(params,body,setup) {\n    if(typeof setup === \"undefined\") { setup = \"\"; }\n    var fun = [];\n    var k;\n    var avec = /\\[i\\]$/,p,thevec = '';\n    var haveret = false;\n    for(k=0;k<params.length;k++) {\n        if(avec.test(params[k])) {\n            p = params[k].substring(0,params[k].length-3);\n            thevec = p;\n        } else { p = params[k]; }\n        if(p==='ret') haveret = true;\n        fun.push(p);\n    }\n    fun[params.length] = '_s';\n    fun[params.length+1] = '_k';\n    fun[params.length+2] = (\n            'if(typeof _s === \"undefined\") _s = numeric.dim('+thevec+');\\n'+\n            'if(typeof _k === \"undefined\") _k = 0;\\n'+\n            'var _n = _s[_k];\\n'+\n            'var i'+(haveret?'':', ret = Array(_n)')+';\\n'+\n            'if(_k < _s.length-1) {\\n'+\n            '    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee('+params.join(',')+',_s,_k+1);\\n'+\n            '    return ret;\\n'+\n            '}\\n'+\n            setup+'\\n'+\n            'for(i=_n-1;i!==-1;--i) {\\n'+\n            '    '+body+'\\n'+\n            '}\\n'+\n            'return ret;'\n            );\n    return Function.apply(null,fun);\n}\nnumeric.pointwise2 = function pointwise2(params,body,setup) {\n    if(typeof setup === \"undefined\") { setup = \"\"; }\n    var fun = [];\n    var k;\n    var avec = /\\[i\\]$/,p,thevec = '';\n    var haveret = false;\n    for(k=0;k<params.length;k++) {\n        if(avec.test(params[k])) {\n            p = params[k].substring(0,params[k].length-3);\n            thevec = p;\n        } else { p = params[k]; }\n        if(p==='ret') haveret = true;\n        fun.push(p);\n    }\n    fun[params.length] = (\n            'var _n = '+thevec+'.length;\\n'+\n            'var i'+(haveret?'':', ret = Array(_n)')+';\\n'+\n            setup+'\\n'+\n            'for(i=_n-1;i!==-1;--i) {\\n'+\n            body+'\\n'+\n            '}\\n'+\n            'return ret;'\n            );\n    return Function.apply(null,fun);\n}\nnumeric._biforeach = (function _biforeach(x,y,s,k,f) {\n    if(k === s.length-1) { f(x,y); return; }\n    var i,n=s[k];\n    for(i=n-1;i>=0;i--) { _biforeach(typeof x===\"object\"?x[i]:x,typeof y===\"object\"?y[i]:y,s,k+1,f); }\n});\nnumeric._biforeach2 = (function _biforeach2(x,y,s,k,f) {\n    if(k === s.length-1) { return f(x,y); }\n    var i,n=s[k],ret = Array(n);\n    for(i=n-1;i>=0;--i) { ret[i] = _biforeach2(typeof x===\"object\"?x[i]:x,typeof y===\"object\"?y[i]:y,s,k+1,f); }\n    return ret;\n});\nnumeric._foreach = (function _foreach(x,s,k,f) {\n    if(k === s.length-1) { f(x); return; }\n    var i,n=s[k];\n    for(i=n-1;i>=0;i--) { _foreach(x[i],s,k+1,f); }\n});\nnumeric._foreach2 = (function _foreach2(x,s,k,f) {\n    if(k === s.length-1) { return f(x); }\n    var i,n=s[k], ret = Array(n);\n    for(i=n-1;i>=0;i--) { ret[i] = _foreach2(x[i],s,k+1,f); }\n    return ret;\n});\n\n/*numeric.anyV = numeric.mapreduce('if(xi) return true;','false');\nnumeric.allV = numeric.mapreduce('if(!xi) return false;','true');\nnumeric.any = function(x) { if(typeof x.length === \"undefined\") return x; return numeric.anyV(x); }\nnumeric.all = function(x) { if(typeof x.length === \"undefined\") return x; return numeric.allV(x); }*/\n\nnumeric.ops2 = {\n        add: '+',\n        sub: '-',\n        mul: '*',\n        div: '/',\n        mod: '%',\n        and: '&&',\n        or:  '||',\n        eq:  '===',\n        neq: '!==',\n        lt:  '<',\n        gt:  '>',\n        leq: '<=',\n        geq: '>=',\n        band: '&',\n        bor: '|',\n        bxor: '^',\n        lshift: '<<',\n        rshift: '>>',\n        rrshift: '>>>'\n};\nnumeric.opseq = {\n        addeq: '+=',\n        subeq: '-=',\n        muleq: '*=',\n        diveq: '/=',\n        modeq: '%=',\n        lshifteq: '<<=',\n        rshifteq: '>>=',\n        rrshifteq: '>>>=',\n        bandeq: '&=',\n        boreq: '|=',\n        bxoreq: '^='\n};\nnumeric.mathfuns = ['abs','acos','asin','atan','ceil','cos',\n                    'exp','floor','log','round','sin','sqrt','tan',\n                    'isNaN','isFinite'];\nnumeric.mathfuns2 = ['atan2','pow','max','min'];\nnumeric.ops1 = {\n        neg: '-',\n        not: '!',\n        bnot: '~',\n        clone: ''\n};\nnumeric.mapreducers = {\n        any: ['if(xi) return true;','var accum = false;'],\n        all: ['if(!xi) return false;','var accum = true;'],\n        sum: ['accum += xi;','var accum = 0;'],\n        prod: ['accum *= xi;','var accum = 1;'],\n        norm2Squared: ['accum += xi*xi;','var accum = 0;'],\n        norminf: ['accum = max(accum,abs(xi));','var accum = 0, max = Math.max, abs = Math.abs;'],\n        norm1: ['accum += abs(xi)','var accum = 0, abs = Math.abs;'],\n        sup: ['accum = max(accum,xi);','var accum = -Infinity, max = Math.max;'],\n        inf: ['accum = min(accum,xi);','var accum = Infinity, min = Math.min;']\n};\n\n(function () {\n    var i,o;\n    for(i=0;i<numeric.mathfuns2.length;++i) {\n        o = numeric.mathfuns2[i];\n        numeric.ops2[o] = o;\n    }\n    for(i in numeric.ops2) {\n        if(numeric.ops2.hasOwnProperty(i)) {\n            o = numeric.ops2[i];\n            var code, codeeq, setup = '';\n            if(numeric.myIndexOf.call(numeric.mathfuns2,i)!==-1) {\n                setup = 'var '+o+' = Math.'+o+';\\n';\n                code = function(r,x,y) { return r+' = '+o+'('+x+','+y+')'; };\n                codeeq = function(x,y) { return x+' = '+o+'('+x+','+y+')'; };\n            } else {\n                code = function(r,x,y) { return r+' = '+x+' '+o+' '+y; };\n                if(numeric.opseq.hasOwnProperty(i+'eq')) {\n                    codeeq = function(x,y) { return x+' '+o+'= '+y; };\n                } else {\n                    codeeq = function(x,y) { return x+' = '+x+' '+o+' '+y; };                    \n                }\n            }\n            numeric[i+'VV'] = numeric.pointwise2(['x[i]','y[i]'],code('ret[i]','x[i]','y[i]'),setup);\n            numeric[i+'SV'] = numeric.pointwise2(['x','y[i]'],code('ret[i]','x','y[i]'),setup);\n            numeric[i+'VS'] = numeric.pointwise2(['x[i]','y'],code('ret[i]','x[i]','y'),setup);\n            numeric[i] = Function(\n                    'var n = arguments.length, i, x = arguments[0], y;\\n'+\n                    'var VV = numeric.'+i+'VV, VS = numeric.'+i+'VS, SV = numeric.'+i+'SV;\\n'+\n                    'var dim = numeric.dim;\\n'+\n                    'for(i=1;i!==n;++i) { \\n'+\n                    '  y = arguments[i];\\n'+\n                    '  if(typeof x === \"object\") {\\n'+\n                    '      if(typeof y === \"object\") x = numeric._biforeach2(x,y,dim(x),0,VV);\\n'+\n                    '      else x = numeric._biforeach2(x,y,dim(x),0,VS);\\n'+\n                    '  } else if(typeof y === \"object\") x = numeric._biforeach2(x,y,dim(y),0,SV);\\n'+\n                    '  else '+codeeq('x','y')+'\\n'+\n                    '}\\nreturn x;\\n');\n            numeric[o] = numeric[i];\n            numeric[i+'eqV'] = numeric.pointwise2(['ret[i]','x[i]'], codeeq('ret[i]','x[i]'),setup);\n            numeric[i+'eqS'] = numeric.pointwise2(['ret[i]','x'], codeeq('ret[i]','x'),setup);\n            numeric[i+'eq'] = Function(\n                    'var n = arguments.length, i, x = arguments[0], y;\\n'+\n                    'var V = numeric.'+i+'eqV, S = numeric.'+i+'eqS\\n'+\n                    'var s = numeric.dim(x);\\n'+\n                    'for(i=1;i!==n;++i) { \\n'+\n                    '  y = arguments[i];\\n'+\n                    '  if(typeof y === \"object\") numeric._biforeach(x,y,s,0,V);\\n'+\n                    '  else numeric._biforeach(x,y,s,0,S);\\n'+\n                    '}\\nreturn x;\\n');\n        }\n    }\n    for(i=0;i<numeric.mathfuns2.length;++i) {\n        o = numeric.mathfuns2[i];\n        delete numeric.ops2[o];\n    }\n    for(i=0;i<numeric.mathfuns.length;++i) {\n        o = numeric.mathfuns[i];\n        numeric.ops1[o] = o;\n    }\n    for(i in numeric.ops1) {\n        if(numeric.ops1.hasOwnProperty(i)) {\n            setup = '';\n            o = numeric.ops1[i];\n            if(numeric.myIndexOf.call(numeric.mathfuns,i)!==-1) {\n                if(Math.hasOwnProperty(o)) setup = 'var '+o+' = Math.'+o+';\\n';\n            }\n            numeric[i+'eqV'] = numeric.pointwise2(['ret[i]'],'ret[i] = '+o+'(ret[i]);',setup);\n            numeric[i+'eq'] = Function('x',\n                    'if(typeof x !== \"object\") return '+o+'x\\n'+\n                    'var i;\\n'+\n                    'var V = numeric.'+i+'eqV;\\n'+\n                    'var s = numeric.dim(x);\\n'+\n                    'numeric._foreach(x,s,0,V);\\n'+\n                    'return x;\\n');\n            numeric[i+'V'] = numeric.pointwise2(['x[i]'],'ret[i] = '+o+'(x[i]);',setup);\n            numeric[i] = Function('x',\n                    'if(typeof x !== \"object\") return '+o+'(x)\\n'+\n                    'var i;\\n'+\n                    'var V = numeric.'+i+'V;\\n'+\n                    'var s = numeric.dim(x);\\n'+\n                    'return numeric._foreach2(x,s,0,V);\\n');\n        }\n    }\n    for(i=0;i<numeric.mathfuns.length;++i) {\n        o = numeric.mathfuns[i];\n        delete numeric.ops1[o];\n    }\n    for(i in numeric.mapreducers) {\n        if(numeric.mapreducers.hasOwnProperty(i)) {\n            o = numeric.mapreducers[i];\n            numeric[i+'V'] = numeric.mapreduce2(o[0],o[1]);\n            numeric[i] = Function('x','s','k',\n                    o[1]+\n                    'if(typeof x !== \"object\") {'+\n                    '    xi = x;\\n'+\n                    o[0]+';\\n'+\n                    '    return accum;\\n'+\n                    '}'+\n                    'if(typeof s === \"undefined\") s = numeric.dim(x);\\n'+\n                    'if(typeof k === \"undefined\") k = 0;\\n'+\n                    'if(k === s.length-1) return numeric.'+i+'V(x);\\n'+\n                    'var xi;\\n'+\n                    'var n = x.length, i;\\n'+\n                    'for(i=n-1;i!==-1;--i) {\\n'+\n                    '   xi = arguments.callee(x[i]);\\n'+\n                    o[0]+';\\n'+\n                    '}\\n'+\n                    'return accum;\\n');\n        }\n    }\n}());\n\nnumeric.truncVV = numeric.pointwise(['x[i]','y[i]'],'ret[i] = round(x[i]/y[i])*y[i];','var round = Math.round;');\nnumeric.truncVS = numeric.pointwise(['x[i]','y'],'ret[i] = round(x[i]/y)*y;','var round = Math.round;');\nnumeric.truncSV = numeric.pointwise(['x','y[i]'],'ret[i] = round(x/y[i])*y[i];','var round = Math.round;');\nnumeric.trunc = function trunc(x,y) {\n    if(typeof x === \"object\") {\n        if(typeof y === \"object\") return numeric.truncVV(x,y);\n        return numeric.truncVS(x,y);\n    }\n    if (typeof y === \"object\") return numeric.truncSV(x,y);\n    return Math.round(x/y)*y;\n}\n\nnumeric.inv = function inv(x) {\n    var s = numeric.dim(x), abs = Math.abs, m = s[0], n = s[1];\n    var A = numeric.clone(x), Ai, Aj;\n    var I = numeric.identity(m), Ii, Ij;\n    var i,j,k,x;\n    for(j=0;j<n;++j) {\n        var i0 = -1;\n        var v0 = -1;\n        for(i=j;i!==m;++i) { k = abs(A[i][j]); if(k>v0) { i0 = i; v0 = k; } }\n        Aj = A[i0]; A[i0] = A[j]; A[j] = Aj;\n        Ij = I[i0]; I[i0] = I[j]; I[j] = Ij;\n        x = Aj[j];\n        for(k=j;k!==n;++k)    Aj[k] /= x; \n        for(k=n-1;k!==-1;--k) Ij[k] /= x;\n        for(i=m-1;i!==-1;--i) {\n            if(i!==j) {\n                Ai = A[i];\n                Ii = I[i];\n                x = Ai[j];\n                for(k=j+1;k!==n;++k)  Ai[k] -= Aj[k]*x;\n                for(k=n-1;k>0;--k) { Ii[k] -= Ij[k]*x; --k; Ii[k] -= Ij[k]*x; }\n                if(k===0) Ii[0] -= Ij[0]*x;\n            }\n        }\n    }\n    return I;\n}\n\nnumeric.det = function det(x) {\n    var s = numeric.dim(x);\n    if(s.length !== 2 || s[0] !== s[1]) { throw new Error('numeric: det() only works on square matrices'); }\n    var n = s[0], ret = 1,i,j,k,A = numeric.clone(x),Aj,Ai,alpha,temp,k1,k2,k3;\n    for(j=0;j<n-1;j++) {\n        k=j;\n        for(i=j+1;i<n;i++) { if(Math.abs(A[i][j]) > Math.abs(A[k][j])) { k = i; } }\n        if(k !== j) {\n            temp = A[k]; A[k] = A[j]; A[j] = temp;\n            ret *= -1;\n        }\n        Aj = A[j];\n        for(i=j+1;i<n;i++) {\n            Ai = A[i];\n            alpha = Ai[j]/Aj[j];\n            for(k=j+1;k<n-1;k+=2) {\n                k1 = k+1;\n                Ai[k] -= Aj[k]*alpha;\n                Ai[k1] -= Aj[k1]*alpha;\n            }\n            if(k!==n) { Ai[k] -= Aj[k]*alpha; }\n        }\n        if(Aj[j] === 0) { return 0; }\n        ret *= Aj[j];\n    }\n    return ret*A[j][j];\n}\n\nnumeric.transpose = function transpose(x) {\n    var i,j,m = x.length,n = x[0].length, ret=Array(n),A0,A1,Bj;\n    for(j=0;j<n;j++) ret[j] = Array(m);\n    for(i=m-1;i>=1;i-=2) {\n        A1 = x[i];\n        A0 = x[i-1];\n        for(j=n-1;j>=1;--j) {\n            Bj = ret[j]; Bj[i] = A1[j]; Bj[i-1] = A0[j];\n            --j;\n            Bj = ret[j]; Bj[i] = A1[j]; Bj[i-1] = A0[j];\n        }\n        if(j===0) {\n            Bj = ret[0]; Bj[i] = A1[0]; Bj[i-1] = A0[0];\n        }\n    }\n    if(i===0) {\n        A0 = x[0];\n        for(j=n-1;j>=1;--j) {\n            ret[j][0] = A0[j];\n            --j;\n            ret[j][0] = A0[j];\n        }\n        if(j===0) { ret[0][0] = A0[0]; }\n    }\n    return ret;\n}\nnumeric.negtranspose = function negtranspose(x) {\n    var i,j,m = x.length,n = x[0].length, ret=Array(n),A0,A1,Bj;\n    for(j=0;j<n;j++) ret[j] = Array(m);\n    for(i=m-1;i>=1;i-=2) {\n        A1 = x[i];\n        A0 = x[i-1];\n        for(j=n-1;j>=1;--j) {\n            Bj = ret[j]; Bj[i] = -A1[j]; Bj[i-1] = -A0[j];\n            --j;\n            Bj = ret[j]; Bj[i] = -A1[j]; Bj[i-1] = -A0[j];\n        }\n        if(j===0) {\n            Bj = ret[0]; Bj[i] = -A1[0]; Bj[i-1] = -A0[0];\n        }\n    }\n    if(i===0) {\n        A0 = x[0];\n        for(j=n-1;j>=1;--j) {\n            ret[j][0] = -A0[j];\n            --j;\n            ret[j][0] = -A0[j];\n        }\n        if(j===0) { ret[0][0] = -A0[0]; }\n    }\n    return ret;\n}\n\nnumeric._random = function _random(s,k) {\n    var i,n=s[k],ret=Array(n), rnd;\n    if(k === s.length-1) {\n        rnd = Math.random;\n        for(i=n-1;i>=1;i-=2) {\n            ret[i] = rnd();\n            ret[i-1] = rnd();\n        }\n        if(i===0) { ret[0] = rnd(); }\n        return ret;\n    }\n    for(i=n-1;i>=0;i--) ret[i] = _random(s,k+1);\n    return ret;\n}\nnumeric.random = function random(s) { return numeric._random(s,0); }\n\nnumeric.norm2 = function norm2(x) { return Math.sqrt(numeric.norm2Squared(x)); }\n\nnumeric.linspace = function linspace(a,b,n) {\n    if(typeof n === \"undefined\") n = Math.max(Math.round(b-a)+1,1);\n    if(n<2) { return n===1?[a]:[]; }\n    var i,ret = Array(n);\n    n--;\n    for(i=n;i>=0;i--) { ret[i] = (i*b+(n-i)*a)/n; }\n    return ret;\n}\n\nnumeric.getBlock = function getBlock(x,from,to) {\n    var s = numeric.dim(x);\n    function foo(x,k) {\n        var i,a = from[k], n = to[k]-a, ret = Array(n);\n        if(k === s.length-1) {\n            for(i=n;i>=0;i--) { ret[i] = x[i+a]; }\n            return ret;\n        }\n        for(i=n;i>=0;i--) { ret[i] = foo(x[i+a],k+1); }\n        return ret;\n    }\n    return foo(x,0);\n}\n\nnumeric.setBlock = function setBlock(x,from,to,B) {\n    var s = numeric.dim(x);\n    function foo(x,y,k) {\n        var i,a = from[k], n = to[k]-a;\n        if(k === s.length-1) { for(i=n;i>=0;i--) { x[i+a] = y[i]; } }\n        for(i=n;i>=0;i--) { foo(x[i+a],y[i],k+1); }\n    }\n    foo(x,B,0);\n    return x;\n}\n\nnumeric.getRange = function getRange(A,I,J) {\n    var m = I.length, n = J.length;\n    var i,j;\n    var B = Array(m), Bi, AI;\n    for(i=m-1;i!==-1;--i) {\n        B[i] = Array(n);\n        Bi = B[i];\n        AI = A[I[i]];\n        for(j=n-1;j!==-1;--j) Bi[j] = AI[J[j]];\n    }\n    return B;\n}\n\nnumeric.blockMatrix = function blockMatrix(X) {\n    var s = numeric.dim(X);\n    if(s.length<4) return numeric.blockMatrix([X]);\n    var m=s[0],n=s[1],M,N,i,j,Xij;\n    M = 0; N = 0;\n    for(i=0;i<m;++i) M+=X[i][0].length;\n    for(j=0;j<n;++j) N+=X[0][j][0].length;\n    var Z = Array(M);\n    for(i=0;i<M;++i) Z[i] = Array(N);\n    var I=0,J,ZI,k,l,Xijk;\n    for(i=0;i<m;++i) {\n        J=N;\n        for(j=n-1;j!==-1;--j) {\n            Xij = X[i][j];\n            J -= Xij[0].length;\n            for(k=Xij.length-1;k!==-1;--k) {\n                Xijk = Xij[k];\n                ZI = Z[I+k];\n                for(l = Xijk.length-1;l!==-1;--l) ZI[J+l] = Xijk[l];\n            }\n        }\n        I += X[i][0].length;\n    }\n    return Z;\n}\n\nnumeric.tensor = function tensor(x,y) {\n    if(typeof x === \"number\" || typeof y === \"number\") return numeric.mul(x,y);\n    var s1 = numeric.dim(x), s2 = numeric.dim(y);\n    if(s1.length !== 1 || s2.length !== 1) {\n        throw new Error('numeric: tensor product is only defined for vectors');\n    }\n    var m = s1[0], n = s2[0], A = Array(m), Ai, i,j,xi;\n    for(i=m-1;i>=0;i--) {\n        Ai = Array(n);\n        xi = x[i];\n        for(j=n-1;j>=3;--j) {\n            Ai[j] = xi * y[j];\n            --j;\n            Ai[j] = xi * y[j];\n            --j;\n            Ai[j] = xi * y[j];\n            --j;\n            Ai[j] = xi * y[j];\n        }\n        while(j>=0) { Ai[j] = xi * y[j]; --j; }\n        A[i] = Ai;\n    }\n    return A;\n}\n\n// 3. The Tensor type T\nnumeric.T = function T(x,y) { this.x = x; this.y = y; }\nnumeric.t = function t(x,y) { return new numeric.T(x,y); }\n\nnumeric.Tbinop = function Tbinop(rr,rc,cr,cc,setup) {\n    var io = numeric.indexOf;\n    if(typeof setup !== \"string\") {\n        var k;\n        setup = '';\n        for(k in numeric) {\n            if(numeric.hasOwnProperty(k) && (rr.indexOf(k)>=0 || rc.indexOf(k)>=0 || cr.indexOf(k)>=0 || cc.indexOf(k)>=0) && k.length>1) {\n                setup += 'var '+k+' = numeric.'+k+';\\n';\n            }\n        }\n    }\n    return Function(['y'],\n            'var x = this;\\n'+\n            'if(!(y instanceof numeric.T)) { y = new numeric.T(y); }\\n'+\n            setup+'\\n'+\n            'if(x.y) {'+\n            '  if(y.y) {'+\n            '    return new numeric.T('+cc+');\\n'+\n            '  }\\n'+\n            '  return new numeric.T('+cr+');\\n'+\n            '}\\n'+\n            'if(y.y) {\\n'+\n            '  return new numeric.T('+rc+');\\n'+\n            '}\\n'+\n            'return new numeric.T('+rr+');\\n'\n    );\n}\n\nnumeric.T.prototype.add = numeric.Tbinop(\n        'add(x.x,y.x)',\n        'add(x.x,y.x),y.y',\n        'add(x.x,y.x),x.y',\n        'add(x.x,y.x),add(x.y,y.y)');\nnumeric.T.prototype.sub = numeric.Tbinop(\n        'sub(x.x,y.x)',\n        'sub(x.x,y.x),neg(y.y)',\n        'sub(x.x,y.x),x.y',\n        'sub(x.x,y.x),sub(x.y,y.y)');\nnumeric.T.prototype.mul = numeric.Tbinop(\n        'mul(x.x,y.x)',\n        'mul(x.x,y.x),mul(x.x,y.y)',\n        'mul(x.x,y.x),mul(x.y,y.x)',\n        'sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))');\n\nnumeric.T.prototype.reciprocal = function reciprocal() {\n    var mul = numeric.mul, div = numeric.div;\n    if(this.y) {\n        var d = numeric.add(mul(this.x,this.x),mul(this.y,this.y));\n        return new numeric.T(div(this.x,d),div(numeric.neg(this.y),d));\n    }\n    return new T(div(1,this.x));\n}\nnumeric.T.prototype.div = function div(y) {\n    if(!(y instanceof numeric.T)) y = new numeric.T(y);\n    if(y.y) { return this.mul(y.reciprocal()); }\n    var div = numeric.div;\n    if(this.y) { return new numeric.T(div(this.x,y.x),div(this.y,y.x)); }\n    return new numeric.T(div(this.x,y.x));\n}\nnumeric.T.prototype.dot = numeric.Tbinop(\n        'dot(x.x,y.x)',\n        'dot(x.x,y.x),dot(x.x,y.y)',\n        'dot(x.x,y.x),dot(x.y,y.x)',\n        'sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))'\n        );\nnumeric.T.prototype.transpose = function transpose() {\n    var t = numeric.transpose, x = this.x, y = this.y;\n    if(y) { return new numeric.T(t(x),t(y)); }\n    return new numeric.T(t(x));\n}\nnumeric.T.prototype.transjugate = function transjugate() {\n    var t = numeric.transpose, x = this.x, y = this.y;\n    if(y) { return new numeric.T(t(x),numeric.negtranspose(y)); }\n    return new numeric.T(t(x));\n}\nnumeric.Tunop = function Tunop(r,c,s) {\n    if(typeof s !== \"string\") { s = ''; }\n    return Function(\n            'var x = this;\\n'+\n            s+'\\n'+\n            'if(x.y) {'+\n            '  '+c+';\\n'+\n            '}\\n'+\n            r+';\\n'\n    );\n}\n\nnumeric.T.prototype.exp = numeric.Tunop(\n        'return new numeric.T(ex)',\n        'return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))',\n        'var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;');\nnumeric.T.prototype.conj = numeric.Tunop(\n        'return new numeric.T(x.x);',\n        'return new numeric.T(x.x,numeric.neg(x.y));');\nnumeric.T.prototype.neg = numeric.Tunop(\n        'return new numeric.T(neg(x.x));',\n        'return new numeric.T(neg(x.x),neg(x.y));',\n        'var neg = numeric.neg;');\nnumeric.T.prototype.sin = numeric.Tunop(\n        'return new numeric.T(numeric.sin(x.x))',\n        'return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));');\nnumeric.T.prototype.cos = numeric.Tunop(\n        'return new numeric.T(numeric.cos(x.x))',\n        'return x.exp().add(x.neg().exp()).div(2);');\nnumeric.T.prototype.abs = numeric.Tunop(\n        'return new numeric.T(numeric.abs(x.x));',\n        'return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));',\n        'var mul = numeric.mul;');\nnumeric.T.prototype.log = numeric.Tunop(\n        'return new numeric.T(numeric.log(x.x));',\n        'var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\\n'+\n        'return new numeric.T(numeric.log(r.x),theta.x);');\nnumeric.T.prototype.norm2 = numeric.Tunop(\n        'return numeric.norm2(x.x);',\n        'var f = numeric.norm2Squared;\\n'+\n        'return Math.sqrt(f(x.x)+f(x.y));');\nnumeric.T.prototype.inv = function inv() {\n    var A = this;\n    if(typeof A.y === \"undefined\") { return new numeric.T(numeric.inv(A.x)); }\n    var n = A.x.length, i, j, k;\n    var Rx = numeric.identity(n),Ry = numeric.rep([n,n],0);\n    var Ax = numeric.clone(A.x), Ay = numeric.clone(A.y);\n    var Aix, Aiy, Ajx, Ajy, Rix, Riy, Rjx, Rjy;\n    var i,j,k,d,d1,ax,ay,bx,by,temp;\n    for(i=0;i<n;i++) {\n        ax = Ax[i][i]; ay = Ay[i][i];\n        d = ax*ax+ay*ay;\n        k = i;\n        for(j=i+1;j<n;j++) {\n            ax = Ax[j][i]; ay = Ay[j][i];\n            d1 = ax*ax+ay*ay;\n            if(d1 > d) { k=j; d = d1; }\n        }\n        if(k!==i) {\n            temp = Ax[i]; Ax[i] = Ax[k]; Ax[k] = temp;\n            temp = Ay[i]; Ay[i] = Ay[k]; Ay[k] = temp;\n            temp = Rx[i]; Rx[i] = Rx[k]; Rx[k] = temp;\n            temp = Ry[i]; Ry[i] = Ry[k]; Ry[k] = temp;\n        }\n        Aix = Ax[i]; Aiy = Ay[i];\n        Rix = Rx[i]; Riy = Ry[i];\n        ax = Aix[i]; ay = Aiy[i];\n        for(j=i+1;j<n;j++) {\n            bx = Aix[j]; by = Aiy[j];\n            Aix[j] = (bx*ax+by*ay)/d;\n            Aiy[j] = (by*ax-bx*ay)/d;\n        }\n        for(j=0;j<n;j++) {\n            bx = Rix[j]; by = Riy[j];\n            Rix[j] = (bx*ax+by*ay)/d;\n            Riy[j] = (by*ax-bx*ay)/d;\n        }\n        for(j=i+1;j<n;j++) {\n            Ajx = Ax[j]; Ajy = Ay[j];\n            Rjx = Rx[j]; Rjy = Ry[j];\n            ax = Ajx[i]; ay = Ajy[i];\n            for(k=i+1;k<n;k++) {\n                bx = Aix[k]; by = Aiy[k];\n                Ajx[k] -= bx*ax-by*ay;\n                Ajy[k] -= by*ax+bx*ay;\n            }\n            for(k=0;k<n;k++) {\n                bx = Rix[k]; by = Riy[k];\n                Rjx[k] -= bx*ax-by*ay;\n                Rjy[k] -= by*ax+bx*ay;\n            }\n        }\n    }\n    for(i=n-1;i>0;i--) {\n        Rix = Rx[i]; Riy = Ry[i];\n        for(j=i-1;j>=0;j--) {\n            Rjx = Rx[j]; Rjy = Ry[j];\n            ax = Ax[j][i]; ay = Ay[j][i];\n            for(k=n-1;k>=0;k--) {\n                bx = Rix[k]; by = Riy[k];\n                Rjx[k] -= ax*bx - ay*by;\n                Rjy[k] -= ax*by + ay*bx;\n            }\n        }\n    }\n    return new numeric.T(Rx,Ry);\n}\nnumeric.T.prototype.get = function get(i) {\n    var x = this.x, y = this.y, k = 0, ik, n = i.length;\n    if(y) {\n        while(k<n) {\n            ik = i[k];\n            x = x[ik];\n            y = y[ik];\n            k++;\n        }\n        return new numeric.T(x,y);\n    }\n    while(k<n) {\n        ik = i[k];\n        x = x[ik];\n        k++;\n    }\n    return new numeric.T(x);\n}\nnumeric.T.prototype.set = function set(i,v) {\n    var x = this.x, y = this.y, k = 0, ik, n = i.length, vx = v.x, vy = v.y;\n    if(n===0) {\n        if(vy) { this.y = vy; }\n        else if(y) { this.y = undefined; }\n        this.x = x;\n        return this;\n    }\n    if(vy) {\n        if(y) { /* ok */ }\n        else {\n            y = numeric.rep(numeric.dim(x),0);\n            this.y = y;\n        }\n        while(k<n-1) {\n            ik = i[k];\n            x = x[ik];\n            y = y[ik];\n            k++;\n        }\n        ik = i[k];\n        x[ik] = vx;\n        y[ik] = vy;\n        return this;\n    }\n    if(y) {\n        while(k<n-1) {\n            ik = i[k];\n            x = x[ik];\n            y = y[ik];\n            k++;\n        }\n        ik = i[k];\n        x[ik] = vx;\n        if(vx instanceof Array) y[ik] = numeric.rep(numeric.dim(vx),0);\n        else y[ik] = 0;\n        return this;\n    }\n    while(k<n-1) {\n        ik = i[k];\n        x = x[ik];\n        k++;\n    }\n    ik = i[k];\n    x[ik] = vx;\n    return this;\n}\nnumeric.T.prototype.getRows = function getRows(i0,i1) {\n    var n = i1-i0+1, j;\n    var rx = Array(n), ry, x = this.x, y = this.y;\n    for(j=i0;j<=i1;j++) { rx[j-i0] = x[j]; }\n    if(y) {\n        ry = Array(n);\n        for(j=i0;j<=i1;j++) { ry[j-i0] = y[j]; }\n        return new numeric.T(rx,ry);\n    }\n    return new numeric.T(rx);\n}\nnumeric.T.prototype.setRows = function setRows(i0,i1,A) {\n    var j;\n    var rx = this.x, ry = this.y, x = A.x, y = A.y;\n    for(j=i0;j<=i1;j++) { rx[j] = x[j-i0]; }\n    if(y) {\n        if(!ry) { ry = numeric.rep(numeric.dim(rx),0); this.y = ry; }\n        for(j=i0;j<=i1;j++) { ry[j] = y[j-i0]; }\n    } else if(ry) {\n        for(j=i0;j<=i1;j++) { ry[j] = numeric.rep([x[j-i0].length],0); }\n    }\n    return this;\n}\nnumeric.T.prototype.getRow = function getRow(k) {\n    var x = this.x, y = this.y;\n    if(y) { return new numeric.T(x[k],y[k]); }\n    return new numeric.T(x[k]);\n}\nnumeric.T.prototype.setRow = function setRow(i,v) {\n    var rx = this.x, ry = this.y, x = v.x, y = v.y;\n    rx[i] = x;\n    if(y) {\n        if(!ry) { ry = numeric.rep(numeric.dim(rx),0); this.y = ry; }\n        ry[i] = y;\n    } else if(ry) {\n        ry = numeric.rep([x.length],0);\n    }\n    return this;\n}\n\nnumeric.T.prototype.getBlock = function getBlock(from,to) {\n    var x = this.x, y = this.y, b = numeric.getBlock;\n    if(y) { return new numeric.T(b(x,from,to),b(y,from,to)); }\n    return new numeric.T(b(x,from,to));\n}\nnumeric.T.prototype.setBlock = function setBlock(from,to,A) {\n    if(!(A instanceof numeric.T)) A = new numeric.T(A);\n    var x = this.x, y = this.y, b = numeric.setBlock, Ax = A.x, Ay = A.y;\n    if(Ay) {\n        if(!y) { this.y = numeric.rep(numeric.dim(this),0); y = this.y; }\n        b(x,from,to,Ax);\n        b(y,from,to,Ay);\n        return this;\n    }\n    b(x,from,to,Ax);\n    if(y) b(y,from,to,numeric.rep(numeric.dim(Ax),0));\n}\nnumeric.T.rep = function rep(s,v) {\n    var T = numeric.T;\n    if(!(v instanceof T)) v = new T(v);\n    var x = v.x, y = v.y, r = numeric.rep;\n    if(y) return new T(r(s,x),r(s,y));\n    return new T(r(s,x));\n}\nnumeric.T.diag = function diag(d) {\n    if(!(d instanceof numeric.T)) d = new numeric.T(d);\n    var x = d.x, y = d.y, diag = numeric.diag;\n    if(y) return new numeric.T(diag(x),diag(y));\n    return new numeric.T(diag(x));\n}\nnumeric.T.eig = function eig() {\n    if(this.y) { throw new Error('eig: not implemented for complex matrices.'); }\n    return numeric.eig(this.x);\n}\nnumeric.T.identity = function identity(n) { return new numeric.T(numeric.identity(n)); }\nnumeric.T.prototype.getDiag = function getDiag() {\n    var n = numeric;\n    var x = this.x, y = this.y;\n    if(y) { return new n.T(n.getDiag(x),n.getDiag(y)); }\n    return new n.T(n.getDiag(x));\n}\n\n// 4. Eigenvalues of real matrices\n\nnumeric.house = function house(x) {\n    var v = numeric.clone(x);\n    var s = x[0] >= 0 ? 1 : -1;\n    var alpha = s*numeric.norm2(x);\n    v[0] += alpha;\n    var foo = numeric.norm2(v);\n    if(foo === 0) { /* this should not happen */ throw new Error('eig: internal error'); }\n    return numeric.div(v,foo);\n}\n\nnumeric.toUpperHessenberg = function toUpperHessenberg(me) {\n    var s = numeric.dim(me);\n    if(s.length !== 2 || s[0] !== s[1]) { throw new Error('numeric: toUpperHessenberg() only works on square matrices'); }\n    var m = s[0], i,j,k,x,v,A = numeric.clone(me),B,C,Ai,Ci,Q = numeric.identity(m),Qi;\n    for(j=0;j<m-2;j++) {\n        x = Array(m-j-1);\n        for(i=j+1;i<m;i++) { x[i-j-1] = A[i][j]; }\n        if(numeric.norm2(x)>0) {\n            v = numeric.house(x);\n            B = numeric.getBlock(A,[j+1,j],[m-1,m-1]);\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<m;i++) { Ai = A[i]; Ci = C[i-j-1]; for(k=j;k<m;k++) Ai[k] -= 2*Ci[k-j]; }\n            B = numeric.getBlock(A,[0,j+1],[m-1,m-1]);\n            C = numeric.tensor(numeric.dot(B,v),v);\n            for(i=0;i<m;i++) { Ai = A[i]; Ci = C[i]; for(k=j+1;k<m;k++) Ai[k] -= 2*Ci[k-j-1]; }\n            B = Array(m-j-1);\n            for(i=j+1;i<m;i++) B[i-j-1] = Q[i];\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<m;i++) { Qi = Q[i]; Ci = C[i-j-1]; for(k=0;k<m;k++) Qi[k] -= 2*Ci[k]; }\n        }\n    }\n    return {H:A, Q:Q};\n}\n\nnumeric.epsilon = 2.220446049250313e-16;\n\nnumeric.QRFrancis = function(H,maxiter) {\n    if(typeof maxiter === \"undefined\") { maxiter = 10000; }\n    H = numeric.clone(H);\n    var H0 = numeric.clone(H);\n    var s = numeric.dim(H),m=s[0],x,v,a,b,c,d,det,tr, Hloc, Q = numeric.identity(m), Qi, Hi, B, C, Ci,i,j,k,iter;\n    if(m<3) { return {Q:Q, B:[ [0,m-1] ]}; }\n    var epsilon = numeric.epsilon;\n    for(iter=0;iter<maxiter;iter++) {\n        for(j=0;j<m-1;j++) {\n            if(Math.abs(H[j+1][j]) < epsilon*(Math.abs(H[j][j])+Math.abs(H[j+1][j+1]))) {\n                var QH1 = numeric.QRFrancis(numeric.getBlock(H,[0,0],[j,j]),maxiter);\n                var QH2 = numeric.QRFrancis(numeric.getBlock(H,[j+1,j+1],[m-1,m-1]),maxiter);\n                B = Array(j+1);\n                for(i=0;i<=j;i++) { B[i] = Q[i]; }\n                C = numeric.dot(QH1.Q,B);\n                for(i=0;i<=j;i++) { Q[i] = C[i]; }\n                B = Array(m-j-1);\n                for(i=j+1;i<m;i++) { B[i-j-1] = Q[i]; }\n                C = numeric.dot(QH2.Q,B);\n                for(i=j+1;i<m;i++) { Q[i] = C[i-j-1]; }\n                return {Q:Q,B:QH1.B.concat(numeric.add(QH2.B,j+1))};\n            }\n        }\n        a = H[m-2][m-2]; b = H[m-2][m-1];\n        c = H[m-1][m-2]; d = H[m-1][m-1];\n        tr = a+d;\n        det = (a*d-b*c);\n        Hloc = numeric.getBlock(H, [0,0], [2,2]);\n        if(tr*tr>=4*det) {\n            var s1,s2;\n            s1 = 0.5*(tr+Math.sqrt(tr*tr-4*det));\n            s2 = 0.5*(tr-Math.sqrt(tr*tr-4*det));\n            Hloc = numeric.add(numeric.sub(numeric.dot(Hloc,Hloc),\n                                           numeric.mul(Hloc,s1+s2)),\n                               numeric.diag(numeric.rep([3],s1*s2)));\n        } else {\n            Hloc = numeric.add(numeric.sub(numeric.dot(Hloc,Hloc),\n                                           numeric.mul(Hloc,tr)),\n                               numeric.diag(numeric.rep([3],det)));\n        }\n        x = [Hloc[0][0],Hloc[1][0],Hloc[2][0]];\n        v = numeric.house(x);\n        B = [H[0],H[1],H[2]];\n        C = numeric.tensor(v,numeric.dot(v,B));\n        for(i=0;i<3;i++) { Hi = H[i]; Ci = C[i]; for(k=0;k<m;k++) Hi[k] -= 2*Ci[k]; }\n        B = numeric.getBlock(H, [0,0],[m-1,2]);\n        C = numeric.tensor(numeric.dot(B,v),v);\n        for(i=0;i<m;i++) { Hi = H[i]; Ci = C[i]; for(k=0;k<3;k++) Hi[k] -= 2*Ci[k]; }\n        B = [Q[0],Q[1],Q[2]];\n        C = numeric.tensor(v,numeric.dot(v,B));\n        for(i=0;i<3;i++) { Qi = Q[i]; Ci = C[i]; for(k=0;k<m;k++) Qi[k] -= 2*Ci[k]; }\n        var J;\n        for(j=0;j<m-2;j++) {\n            for(k=j;k<=j+1;k++) {\n                if(Math.abs(H[k+1][k]) < epsilon*(Math.abs(H[k][k])+Math.abs(H[k+1][k+1]))) {\n                    var QH1 = numeric.QRFrancis(numeric.getBlock(H,[0,0],[k,k]),maxiter);\n                    var QH2 = numeric.QRFrancis(numeric.getBlock(H,[k+1,k+1],[m-1,m-1]),maxiter);\n                    B = Array(k+1);\n                    for(i=0;i<=k;i++) { B[i] = Q[i]; }\n                    C = numeric.dot(QH1.Q,B);\n                    for(i=0;i<=k;i++) { Q[i] = C[i]; }\n                    B = Array(m-k-1);\n                    for(i=k+1;i<m;i++) { B[i-k-1] = Q[i]; }\n                    C = numeric.dot(QH2.Q,B);\n                    for(i=k+1;i<m;i++) { Q[i] = C[i-k-1]; }\n                    return {Q:Q,B:QH1.B.concat(numeric.add(QH2.B,k+1))};\n                }\n            }\n            J = Math.min(m-1,j+3);\n            x = Array(J-j);\n            for(i=j+1;i<=J;i++) { x[i-j-1] = H[i][j]; }\n            v = numeric.house(x);\n            B = numeric.getBlock(H, [j+1,j],[J,m-1]);\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<=J;i++) { Hi = H[i]; Ci = C[i-j-1]; for(k=j;k<m;k++) Hi[k] -= 2*Ci[k-j]; }\n            B = numeric.getBlock(H, [0,j+1],[m-1,J]);\n            C = numeric.tensor(numeric.dot(B,v),v);\n            for(i=0;i<m;i++) { Hi = H[i]; Ci = C[i]; for(k=j+1;k<=J;k++) Hi[k] -= 2*Ci[k-j-1]; }\n            B = Array(J-j);\n            for(i=j+1;i<=J;i++) B[i-j-1] = Q[i];\n            C = numeric.tensor(v,numeric.dot(v,B));\n            for(i=j+1;i<=J;i++) { Qi = Q[i]; Ci = C[i-j-1]; for(k=0;k<m;k++) Qi[k] -= 2*Ci[k]; }\n        }\n    }\n    throw new Error('numeric: eigenvalue iteration does not converge -- increase maxiter?');\n}\n\nnumeric.eig = function eig(A,maxiter) {\n    var QH = numeric.toUpperHessenberg(A);\n    var QB = numeric.QRFrancis(QH.H,maxiter);\n    var T = numeric.T;\n    var n = A.length,i,k,flag = false,B = QB.B,H = numeric.dot(QB.Q,numeric.dot(QH.H,numeric.transpose(QB.Q)));\n    var Q = new T(numeric.dot(QB.Q,QH.Q)),Q0;\n    var m = B.length,j;\n    var a,b,c,d,p1,p2,disc,x,y,p,q,n1,n2;\n    var sqrt = Math.sqrt;\n    for(k=0;k<m;k++) {\n        i = B[k][0];\n        if(i === B[k][1]) {\n            // nothing\n        } else {\n            j = i+1;\n            a = H[i][i];\n            b = H[i][j];\n            c = H[j][i];\n            d = H[j][j];\n            if(b === 0 && c === 0) continue;\n            p1 = -a-d;\n            p2 = a*d-b*c;\n            disc = p1*p1-4*p2;\n            if(disc>=0) {\n                if(p1<0) x = -0.5*(p1-sqrt(disc));\n                else     x = -0.5*(p1+sqrt(disc));\n                n1 = (a-x)*(a-x)+b*b;\n                n2 = c*c+(d-x)*(d-x);\n                if(n1>n2) {\n                    n1 = sqrt(n1);\n                    p = (a-x)/n1;\n                    q = b/n1;\n                } else {\n                    n2 = sqrt(n2);\n                    p = c/n2;\n                    q = (d-x)/n2;\n                }\n                Q0 = new T([[q,-p],[p,q]]);\n                Q.setRows(i,j,Q0.dot(Q.getRows(i,j)));\n            } else {\n                x = -0.5*p1;\n                y = 0.5*sqrt(-disc);\n                n1 = (a-x)*(a-x)+b*b;\n                n2 = c*c+(d-x)*(d-x);\n                if(n1>n2) {\n                    n1 = sqrt(n1+y*y);\n                    p = (a-x)/n1;\n                    q = b/n1;\n                    x = 0;\n                    y /= n1;\n                } else {\n                    n2 = sqrt(n2+y*y);\n                    p = c/n2;\n                    q = (d-x)/n2;\n                    x = y/n2;\n                    y = 0;\n                }\n                Q0 = new T([[q,-p],[p,q]],[[x,y],[y,-x]]);\n                Q.setRows(i,j,Q0.dot(Q.getRows(i,j)));\n            }\n        }\n    }\n    var R = Q.dot(A).dot(Q.transjugate()), n = A.length, E = numeric.T.identity(n);\n    for(j=0;j<n;j++) {\n        if(j>0) {\n            for(k=j-1;k>=0;k--) {\n                var Rk = R.get([k,k]), Rj = R.get([j,j]);\n                if(numeric.neq(Rk.x,Rj.x) || numeric.neq(Rk.y,Rj.y)) {\n                    x = R.getRow(k).getBlock([k],[j-1]);\n                    y = E.getRow(j).getBlock([k],[j-1]);\n                    E.set([j,k],(R.get([k,j]).neg().sub(x.dot(y))).div(Rk.sub(Rj)));\n                } else {\n                    E.setRow(j,E.getRow(k));\n                    continue;\n                }\n            }\n        }\n    }\n    for(j=0;j<n;j++) {\n        x = E.getRow(j);\n        E.setRow(j,x.div(x.norm2()));\n    }\n    E = E.transpose();\n    E = Q.transjugate().dot(E);\n    return { lambda:R.getDiag(), E:E };\n};\n\n// 5. Compressed Column Storage matrices\nnumeric.ccsSparse = function ccsSparse(A) {\n    var m = A.length,n,foo, i,j, counts = [];\n    for(i=m-1;i!==-1;--i) {\n        foo = A[i];\n        for(j in foo) {\n            j = parseInt(j);\n            while(j>=counts.length) counts[counts.length] = 0;\n            if(foo[j]!==0) counts[j]++;\n        }\n    }\n    var n = counts.length;\n    var Ai = Array(n+1);\n    Ai[0] = 0;\n    for(i=0;i<n;++i) Ai[i+1] = Ai[i] + counts[i];\n    var Aj = Array(Ai[n]), Av = Array(Ai[n]);\n    for(i=m-1;i!==-1;--i) {\n        foo = A[i];\n        for(j in foo) {\n            if(foo[j]!==0) {\n                counts[j]--;\n                Aj[Ai[j]+counts[j]] = i;\n                Av[Ai[j]+counts[j]] = foo[j];\n            }\n        }\n    }\n    return [Ai,Aj,Av];\n}\nnumeric.ccsFull = function ccsFull(A) {\n    var Ai = A[0], Aj = A[1], Av = A[2], s = numeric.ccsDim(A), m = s[0], n = s[1], i,j,j0,j1,k;\n    var B = numeric.rep([m,n],0);\n    for(i=0;i<n;i++) {\n        j0 = Ai[i];\n        j1 = Ai[i+1];\n        for(j=j0;j<j1;++j) { B[Aj[j]][i] = Av[j]; }\n    }\n    return B;\n}\nnumeric.ccsTSolve = function ccsTSolve(A,b,x,bj,xj) {\n    var Ai = A[0], Aj = A[1], Av = A[2],m = Ai.length-1, max = Math.max,n=0;\n    if(typeof bj === \"undefined\") x = numeric.rep([m],0);\n    if(typeof bj === \"undefined\") bj = numeric.linspace(0,x.length-1);\n    if(typeof xj === \"undefined\") xj = [];\n    function dfs(j) {\n        var k;\n        if(x[j] !== 0) return;\n        x[j] = 1;\n        for(k=Ai[j];k<Ai[j+1];++k) dfs(Aj[k]);\n        xj[n] = j;\n        ++n;\n    }\n    var i,j,j0,j1,k,l,l0,l1,a;\n    for(i=bj.length-1;i!==-1;--i) { dfs(bj[i]); }\n    xj.length = n;\n    for(i=xj.length-1;i!==-1;--i) { x[xj[i]] = 0; }\n    for(i=bj.length-1;i!==-1;--i) { j = bj[i]; x[j] = b[j]; }\n    for(i=xj.length-1;i!==-1;--i) {\n        j = xj[i];\n        j0 = Ai[j];\n        j1 = max(Ai[j+1],j0);\n        for(k=j0;k!==j1;++k) { if(Aj[k] === j) { x[j] /= Av[k]; break; } }\n        a = x[j];\n        for(k=j0;k!==j1;++k) {\n            l = Aj[k];\n            if(l !== j) x[l] -= a*Av[k];\n        }\n    }\n    return x;\n}\nnumeric.ccsDFS = function ccsDFS(n) {\n    this.k = Array(n);\n    this.k1 = Array(n);\n    this.j = Array(n);\n}\nnumeric.ccsDFS.prototype.dfs = function dfs(J,Ai,Aj,x,xj,Pinv) {\n    var m = 0,foo,n=xj.length;\n    var k = this.k, k1 = this.k1, j = this.j,km,k11;\n    if(x[J]!==0) return;\n    x[J] = 1;\n    j[0] = J;\n    k[0] = km = Ai[J];\n    k1[0] = k11 = Ai[J+1];\n    while(1) {\n        if(km >= k11) {\n            xj[n] = j[m];\n            if(m===0) return;\n            ++n;\n            --m;\n            km = k[m];\n            k11 = k1[m];\n        } else {\n            foo = Pinv[Aj[km]];\n            if(x[foo] === 0) {\n                x[foo] = 1;\n                k[m] = km;\n                ++m;\n                j[m] = foo;\n                km = Ai[foo];\n                k1[m] = k11 = Ai[foo+1];\n            } else ++km;\n        }\n    }\n}\nnumeric.ccsLPSolve = function ccsLPSolve(A,B,x,xj,I,Pinv,dfs) {\n    var Ai = A[0], Aj = A[1], Av = A[2],m = Ai.length-1, n=0;\n    var Bi = B[0], Bj = B[1], Bv = B[2];\n    \n    var i,i0,i1,j,J,j0,j1,k,l,l0,l1,a;\n    i0 = Bi[I];\n    i1 = Bi[I+1];\n    xj.length = 0;\n    for(i=i0;i<i1;++i) { dfs.dfs(Pinv[Bj[i]],Ai,Aj,x,xj,Pinv); }\n    for(i=xj.length-1;i!==-1;--i) { x[xj[i]] = 0; }\n    for(i=i0;i!==i1;++i) { j = Pinv[Bj[i]]; x[j] = Bv[i]; }\n    for(i=xj.length-1;i!==-1;--i) {\n        j = xj[i];\n        j0 = Ai[j];\n        j1 = Ai[j+1];\n        for(k=j0;k<j1;++k) { if(Pinv[Aj[k]] === j) { x[j] /= Av[k]; break; } }\n        a = x[j];\n        for(k=j0;k<j1;++k) {\n            l = Pinv[Aj[k]];\n            if(l !== j) x[l] -= a*Av[k];\n        }\n    }\n    return x;\n}\nnumeric.ccsLUP1 = function ccsLUP1(A,threshold) {\n    var m = A[0].length-1;\n    var L = [numeric.rep([m+1],0),[],[]], U = [numeric.rep([m+1], 0),[],[]];\n    var Li = L[0], Lj = L[1], Lv = L[2], Ui = U[0], Uj = U[1], Uv = U[2];\n    var x = numeric.rep([m],0), xj = numeric.rep([m],0);\n    var i,j,k,j0,j1,a,e,c,d,K;\n    var sol = numeric.ccsLPSolve, max = Math.max, abs = Math.abs;\n    var P = numeric.linspace(0,m-1),Pinv = numeric.linspace(0,m-1);\n    var dfs = new numeric.ccsDFS(m);\n    if(typeof threshold === \"undefined\") { threshold = 1; }\n    for(i=0;i<m;++i) {\n        sol(L,A,x,xj,i,Pinv,dfs);\n        a = -1;\n        e = -1;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            if(k <= i) continue;\n            c = abs(x[k]);\n            if(c > a) { e = k; a = c; }\n        }\n        if(abs(x[i])<threshold*a) {\n            j = P[i];\n            a = P[e];\n            P[i] = a; Pinv[a] = i;\n            P[e] = j; Pinv[j] = e;\n            a = x[i]; x[i] = x[e]; x[e] = a;\n        }\n        a = Li[i];\n        e = Ui[i];\n        d = x[i];\n        Lj[a] = P[i];\n        Lv[a] = 1;\n        ++a;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            c = x[k];\n            xj[j] = 0;\n            x[k] = 0;\n            if(k<=i) { Uj[e] = k; Uv[e] = c;   ++e; }\n            else     { Lj[a] = P[k]; Lv[a] = c/d; ++a; }\n        }\n        Li[i+1] = a;\n        Ui[i+1] = e;\n    }\n    for(j=Lj.length-1;j!==-1;--j) { Lj[j] = Pinv[Lj[j]]; }\n    return {L:L, U:U, P:P, Pinv:Pinv};\n}\nnumeric.ccsDFS0 = function ccsDFS0(n) {\n    this.k = Array(n);\n    this.k1 = Array(n);\n    this.j = Array(n);\n}\nnumeric.ccsDFS0.prototype.dfs = function dfs(J,Ai,Aj,x,xj,Pinv,P) {\n    var m = 0,foo,n=xj.length;\n    var k = this.k, k1 = this.k1, j = this.j,km,k11;\n    if(x[J]!==0) return;\n    x[J] = 1;\n    j[0] = J;\n    k[0] = km = Ai[Pinv[J]];\n    k1[0] = k11 = Ai[Pinv[J]+1];\n    while(1) {\n        if(isNaN(km)) throw new Error(\"Ow!\");\n        if(km >= k11) {\n            xj[n] = Pinv[j[m]];\n            if(m===0) return;\n            ++n;\n            --m;\n            km = k[m];\n            k11 = k1[m];\n        } else {\n            foo = Aj[km];\n            if(x[foo] === 0) {\n                x[foo] = 1;\n                k[m] = km;\n                ++m;\n                j[m] = foo;\n                foo = Pinv[foo];\n                km = Ai[foo];\n                k1[m] = k11 = Ai[foo+1];\n            } else ++km;\n        }\n    }\n}\nnumeric.ccsLPSolve0 = function ccsLPSolve0(A,B,y,xj,I,Pinv,P,dfs) {\n    var Ai = A[0], Aj = A[1], Av = A[2],m = Ai.length-1, n=0;\n    var Bi = B[0], Bj = B[1], Bv = B[2];\n    \n    var i,i0,i1,j,J,j0,j1,k,l,l0,l1,a;\n    i0 = Bi[I];\n    i1 = Bi[I+1];\n    xj.length = 0;\n    for(i=i0;i<i1;++i) { dfs.dfs(Bj[i],Ai,Aj,y,xj,Pinv,P); }\n    for(i=xj.length-1;i!==-1;--i) { j = xj[i]; y[P[j]] = 0; }\n    for(i=i0;i!==i1;++i) { j = Bj[i]; y[j] = Bv[i]; }\n    for(i=xj.length-1;i!==-1;--i) {\n        j = xj[i];\n        l = P[j];\n        j0 = Ai[j];\n        j1 = Ai[j+1];\n        for(k=j0;k<j1;++k) { if(Aj[k] === l) { y[l] /= Av[k]; break; } }\n        a = y[l];\n        for(k=j0;k<j1;++k) y[Aj[k]] -= a*Av[k];\n        y[l] = a;\n    }\n}\nnumeric.ccsLUP0 = function ccsLUP0(A,threshold) {\n    var m = A[0].length-1;\n    var L = [numeric.rep([m+1],0),[],[]], U = [numeric.rep([m+1], 0),[],[]];\n    var Li = L[0], Lj = L[1], Lv = L[2], Ui = U[0], Uj = U[1], Uv = U[2];\n    var y = numeric.rep([m],0), xj = numeric.rep([m],0);\n    var i,j,k,j0,j1,a,e,c,d,K;\n    var sol = numeric.ccsLPSolve0, max = Math.max, abs = Math.abs;\n    var P = numeric.linspace(0,m-1),Pinv = numeric.linspace(0,m-1);\n    var dfs = new numeric.ccsDFS0(m);\n    if(typeof threshold === \"undefined\") { threshold = 1; }\n    for(i=0;i<m;++i) {\n        sol(L,A,y,xj,i,Pinv,P,dfs);\n        a = -1;\n        e = -1;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            if(k <= i) continue;\n            c = abs(y[P[k]]);\n            if(c > a) { e = k; a = c; }\n        }\n        if(abs(y[P[i]])<threshold*a) {\n            j = P[i];\n            a = P[e];\n            P[i] = a; Pinv[a] = i;\n            P[e] = j; Pinv[j] = e;\n        }\n        a = Li[i];\n        e = Ui[i];\n        d = y[P[i]];\n        Lj[a] = P[i];\n        Lv[a] = 1;\n        ++a;\n        for(j=xj.length-1;j!==-1;--j) {\n            k = xj[j];\n            c = y[P[k]];\n            xj[j] = 0;\n            y[P[k]] = 0;\n            if(k<=i) { Uj[e] = k; Uv[e] = c;   ++e; }\n            else     { Lj[a] = P[k]; Lv[a] = c/d; ++a; }\n        }\n        Li[i+1] = a;\n        Ui[i+1] = e;\n    }\n    for(j=Lj.length-1;j!==-1;--j) { Lj[j] = Pinv[Lj[j]]; }\n    return {L:L, U:U, P:P, Pinv:Pinv};\n}\nnumeric.ccsLUP = numeric.ccsLUP0;\n\nnumeric.ccsDim = function ccsDim(A) { return [numeric.sup(A[1])+1,A[0].length-1]; }\nnumeric.ccsGetBlock = function ccsGetBlock(A,i,j) {\n    var s = numeric.ccsDim(A),m=s[0],n=s[1];\n    if(typeof i === \"undefined\") { i = numeric.linspace(0,m-1); }\n    else if(typeof i === \"number\") { i = [i]; }\n    if(typeof j === \"undefined\") { j = numeric.linspace(0,n-1); }\n    else if(typeof j === \"number\") { j = [j]; }\n    var p,p0,p1,P = i.length,q,Q = j.length,r,jq,ip;\n    var Bi = numeric.rep([n],0), Bj=[], Bv=[], B = [Bi,Bj,Bv];\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var x = numeric.rep([m],0),count=0,flags = numeric.rep([m],0);\n    for(q=0;q<Q;++q) {\n        jq = j[q];\n        var q0 = Ai[jq];\n        var q1 = Ai[jq+1];\n        for(p=q0;p<q1;++p) {\n            r = Aj[p];\n            flags[r] = 1;\n            x[r] = Av[p];\n        }\n        for(p=0;p<P;++p) {\n            ip = i[p];\n            if(flags[ip]) {\n                Bj[count] = p;\n                Bv[count] = x[i[p]];\n                ++count;\n            }\n        }\n        for(p=q0;p<q1;++p) {\n            r = Aj[p];\n            flags[r] = 0;\n        }\n        Bi[q+1] = count;\n    }\n    return B;\n}\n\nnumeric.ccsDot = function ccsDot(A,B) {\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var Bi = B[0], Bj = B[1], Bv = B[2];\n    var sA = numeric.ccsDim(A), sB = numeric.ccsDim(B);\n    var m = sA[0], n = sA[1], o = sB[1];\n    var x = numeric.rep([m],0), flags = numeric.rep([m],0), xj = Array(m);\n    var Ci = numeric.rep([o],0), Cj = [], Cv = [], C = [Ci,Cj,Cv];\n    var i,j,k,j0,j1,i0,i1,l,p,a,b;\n    for(k=0;k!==o;++k) {\n        j0 = Bi[k];\n        j1 = Bi[k+1];\n        p = 0;\n        for(j=j0;j<j1;++j) {\n            a = Bj[j];\n            b = Bv[j];\n            i0 = Ai[a];\n            i1 = Ai[a+1];\n            for(i=i0;i<i1;++i) {\n                l = Aj[i];\n                if(flags[l]===0) {\n                    xj[p] = l;\n                    flags[l] = 1;\n                    p = p+1;\n                }\n                x[l] = x[l] + Av[i]*b;\n            }\n        }\n        j0 = Ci[k];\n        j1 = j0+p;\n        Ci[k+1] = j1;\n        for(j=p-1;j!==-1;--j) {\n            b = j0+j;\n            i = xj[j];\n            Cj[b] = i;\n            Cv[b] = x[i];\n            flags[i] = 0;\n            x[i] = 0;\n        }\n        Ci[k+1] = Ci[k]+p;\n    }\n    return C;\n}\n\nnumeric.ccsLUPSolve = function ccsLUPSolve(LUP,B) {\n    var L = LUP.L, U = LUP.U, P = LUP.P;\n    var Bi = B[0];\n    var flag = false;\n    if(typeof Bi !== \"object\") { B = [[0,B.length],numeric.linspace(0,B.length-1),B]; Bi = B[0]; flag = true; }\n    var Bj = B[1], Bv = B[2];\n    var n = L[0].length-1, m = Bi.length-1;\n    var x = numeric.rep([n],0), xj = Array(n);\n    var b = numeric.rep([n],0), bj = Array(n);\n    var Xi = numeric.rep([m+1],0), Xj = [], Xv = [];\n    var sol = numeric.ccsTSolve;\n    var i,j,j0,j1,k,J,N=0;\n    for(i=0;i<m;++i) {\n        k = 0;\n        j0 = Bi[i];\n        j1 = Bi[i+1];\n        for(j=j0;j<j1;++j) { \n            J = LUP.Pinv[Bj[j]];\n            bj[k] = J;\n            b[J] = Bv[j];\n            ++k;\n        }\n        bj.length = k;\n        sol(L,b,x,bj,xj);\n        for(j=bj.length-1;j!==-1;--j) b[bj[j]] = 0;\n        sol(U,x,b,xj,bj);\n        if(flag) return b;\n        for(j=xj.length-1;j!==-1;--j) x[xj[j]] = 0;\n        for(j=bj.length-1;j!==-1;--j) {\n            J = bj[j];\n            Xj[N] = J;\n            Xv[N] = b[J];\n            b[J] = 0;\n            ++N;\n        }\n        Xi[i+1] = N;\n    }\n    return [Xi,Xj,Xv];\n}\n\nnumeric.ccsbinop = function ccsbinop(body,setup) {\n    if(typeof setup === \"undefined\") setup='';\n    return Function('X','Y',\n            'var Xi = X[0], Xj = X[1], Xv = X[2];\\n'+\n            'var Yi = Y[0], Yj = Y[1], Yv = Y[2];\\n'+\n            'var n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\\n'+\n            'var Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\\n'+\n            'var x = numeric.rep([m],0),y = numeric.rep([m],0);\\n'+\n            'var xk,yk,zk;\\n'+\n            'var i,j,j0,j1,k,p=0;\\n'+\n            setup+\n            'for(i=0;i<n;++i) {\\n'+\n            '  j0 = Xi[i]; j1 = Xi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) {\\n'+\n            '    k = Xj[j];\\n'+\n            '    x[k] = 1;\\n'+\n            '    Zj[p] = k;\\n'+\n            '    ++p;\\n'+\n            '  }\\n'+\n            '  j0 = Yi[i]; j1 = Yi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) {\\n'+\n            '    k = Yj[j];\\n'+\n            '    y[k] = Yv[j];\\n'+\n            '    if(x[k] === 0) {\\n'+\n            '      Zj[p] = k;\\n'+\n            '      ++p;\\n'+\n            '    }\\n'+\n            '  }\\n'+\n            '  Zi[i+1] = p;\\n'+\n            '  j0 = Xi[i]; j1 = Xi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\\n'+\n            '  j0 = Zi[i]; j1 = Zi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) {\\n'+\n            '    k = Zj[j];\\n'+\n            '    xk = x[k];\\n'+\n            '    yk = y[k];\\n'+\n            body+'\\n'+\n            '    Zv[j] = zk;\\n'+\n            '  }\\n'+\n            '  j0 = Xi[i]; j1 = Xi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\\n'+\n            '  j0 = Yi[i]; j1 = Yi[i+1];\\n'+\n            '  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\\n'+\n            '}\\n'+\n            'return [Zi,Zj,Zv];'\n            );\n};\n\n(function() {\n    var k,A,B,C;\n    for(k in numeric.ops2) {\n        if(isFinite(eval('1'+numeric.ops2[k]+'0'))) A = '[Y[0],Y[1],numeric.'+k+'(X,Y[2])]';\n        else A = 'NaN';\n        if(isFinite(eval('0'+numeric.ops2[k]+'1'))) B = '[X[0],X[1],numeric.'+k+'(X[2],Y)]';\n        else B = 'NaN';\n        if(isFinite(eval('1'+numeric.ops2[k]+'0')) && isFinite(eval('0'+numeric.ops2[k]+'1'))) C = 'numeric.ccs'+k+'MM(X,Y)';\n        else C = 'NaN';\n        numeric['ccs'+k+'MM'] = numeric.ccsbinop('zk = xk '+numeric.ops2[k]+'yk;');\n        numeric['ccs'+k] = Function('X','Y',\n                'if(typeof X === \"number\") return '+A+';\\n'+\n                'if(typeof Y === \"number\") return '+B+';\\n'+\n                'return '+C+';\\n'\n                );\n    }\n}());\n\nnumeric.ccsScatter = function ccsScatter(A) {\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var n = numeric.sup(Aj)+1,m=Ai.length;\n    var Ri = numeric.rep([n],0),Rj=Array(m), Rv = Array(m);\n    var counts = numeric.rep([n],0),i;\n    for(i=0;i<m;++i) counts[Aj[i]]++;\n    for(i=0;i<n;++i) Ri[i+1] = Ri[i] + counts[i];\n    var ptr = Ri.slice(0),k,Aii;\n    for(i=0;i<m;++i) {\n        Aii = Aj[i];\n        k = ptr[Aii];\n        Rj[k] = Ai[i];\n        Rv[k] = Av[i];\n        ptr[Aii]=ptr[Aii]+1;\n    }\n    return [Ri,Rj,Rv];\n}\n\nnumeric.ccsGather = function ccsGather(A) {\n    var Ai = A[0], Aj = A[1], Av = A[2];\n    var n = Ai.length-1,m = Aj.length;\n    var Ri = Array(m), Rj = Array(m), Rv = Array(m);\n    var i,j,j0,j1,p;\n    p=0;\n    for(i=0;i<n;++i) {\n        j0 = Ai[i];\n        j1 = Ai[i+1];\n        for(j=j0;j!==j1;++j) {\n            Rj[p] = i;\n            Ri[p] = Aj[j];\n            Rv[p] = Av[j];\n            ++p;\n        }\n    }\n    return [Ri,Rj,Rv];\n}\n\n// The following sparse linear algebra routines are deprecated.\n\nnumeric.sdim = function dim(A,ret,k) {\n    if(typeof ret === \"undefined\") { ret = []; }\n    if(typeof A !== \"object\") return ret;\n    if(typeof k === \"undefined\") { k=0; }\n    if(!(k in ret)) { ret[k] = 0; }\n    if(A.length > ret[k]) ret[k] = A.length;\n    var i;\n    for(i in A) {\n        if(A.hasOwnProperty(i)) dim(A[i],ret,k+1);\n    }\n    return ret;\n};\n\nnumeric.sclone = function clone(A,k,n) {\n    if(typeof k === \"undefined\") { k=0; }\n    if(typeof n === \"undefined\") { n = numeric.sdim(A).length; }\n    var i,ret = Array(A.length);\n    if(k === n-1) {\n        for(i in A) { if(A.hasOwnProperty(i)) ret[i] = A[i]; }\n        return ret;\n    }\n    for(i in A) {\n        if(A.hasOwnProperty(i)) ret[i] = clone(A[i],k+1,n);\n    }\n    return ret;\n}\n\nnumeric.sdiag = function diag(d) {\n    var n = d.length,i,ret = Array(n),i1,i2,i3;\n    for(i=n-1;i>=1;i-=2) {\n        i1 = i-1;\n        ret[i] = []; ret[i][i] = d[i];\n        ret[i1] = []; ret[i1][i1] = d[i1];\n    }\n    if(i===0) { ret[0] = []; ret[0][0] = d[i]; }\n    return ret;\n}\n\nnumeric.sidentity = function identity(n) { return numeric.sdiag(numeric.rep([n],1)); }\n\nnumeric.stranspose = function transpose(A) {\n    var ret = [], n = A.length, i,j,Ai;\n    for(i in A) {\n        if(!(A.hasOwnProperty(i))) continue;\n        Ai = A[i];\n        for(j in Ai) {\n            if(!(Ai.hasOwnProperty(j))) continue;\n            if(typeof ret[j] !== \"object\") { ret[j] = []; }\n            ret[j][i] = Ai[j];\n        }\n    }\n    return ret;\n}\n\nnumeric.sLUP = function LUP(A,tol) {\n    throw new Error(\"The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.\");\n};\n\nnumeric.sdotMM = function dotMM(A,B) {\n    var p = A.length, q = B.length, BT = numeric.stranspose(B), r = BT.length, Ai, BTk;\n    var i,j,k,accum;\n    var ret = Array(p),reti;\n    for(i=p-1;i>=0;i--) {\n        reti = [];\n        Ai = A[i];\n        for(k=r-1;k>=0;k--) {\n            accum = 0;\n            BTk = BT[k];\n            for(j in Ai) {\n                if(!(Ai.hasOwnProperty(j))) continue;\n                if(j in BTk) { accum += Ai[j]*BTk[j]; }\n            }\n            if(accum) reti[k] = accum;\n        }\n        ret[i] = reti;\n    }\n    return ret;\n}\n\nnumeric.sdotMV = function dotMV(A,x) {\n    var p = A.length, Ai, i,j;\n    var ret = Array(p), accum;\n    for(i=p-1;i>=0;i--) {\n        Ai = A[i];\n        accum = 0;\n        for(j in Ai) {\n            if(!(Ai.hasOwnProperty(j))) continue;\n            if(x[j]) accum += Ai[j]*x[j];\n        }\n        if(accum) ret[i] = accum;\n    }\n    return ret;\n}\n\nnumeric.sdotVM = function dotMV(x,A) {\n    var i,j,Ai,alpha;\n    var ret = [], accum;\n    for(i in x) {\n        if(!x.hasOwnProperty(i)) continue;\n        Ai = A[i];\n        alpha = x[i];\n        for(j in Ai) {\n            if(!Ai.hasOwnProperty(j)) continue;\n            if(!ret[j]) { ret[j] = 0; }\n            ret[j] += alpha*Ai[j];\n        }\n    }\n    return ret;\n}\n\nnumeric.sdotVV = function dotVV(x,y) {\n    var i,ret=0;\n    for(i in x) { if(x[i] && y[i]) ret+= x[i]*y[i]; }\n    return ret;\n}\n\nnumeric.sdot = function dot(A,B) {\n    var m = numeric.sdim(A).length, n = numeric.sdim(B).length;\n    var k = m*1000+n;\n    switch(k) {\n    case 0: return A*B;\n    case 1001: return numeric.sdotVV(A,B);\n    case 2001: return numeric.sdotMV(A,B);\n    case 1002: return numeric.sdotVM(A,B);\n    case 2002: return numeric.sdotMM(A,B);\n    default: throw new Error('numeric.sdot not implemented for tensors of order '+m+' and '+n);\n    }\n}\n\nnumeric.sscatter = function scatter(V) {\n    var n = V[0].length, Vij, i, j, m = V.length, A = [], Aj;\n    for(i=n-1;i>=0;--i) {\n        if(!V[m-1][i]) continue;\n        Aj = A;\n        for(j=0;j<m-2;j++) {\n            Vij = V[j][i];\n            if(!Aj[Vij]) Aj[Vij] = [];\n            Aj = Aj[Vij];\n        }\n        Aj[V[j][i]] = V[j+1][i];\n    }\n    return A;\n}\n\nnumeric.sgather = function gather(A,ret,k) {\n    if(typeof ret === \"undefined\") ret = [];\n    if(typeof k === \"undefined\") k = [];\n    var n,i,Ai;\n    n = k.length;\n    for(i in A) {\n        if(A.hasOwnProperty(i)) {\n            k[n] = parseInt(i);\n            Ai = A[i];\n            if(typeof Ai === \"number\") {\n                if(Ai) {\n                    if(ret.length === 0) {\n                        for(i=n+1;i>=0;--i) ret[i] = [];\n                    }\n                    for(i=n;i>=0;--i) ret[i].push(k[i]);\n                    ret[n+1].push(Ai);\n                }\n            } else gather(Ai,ret,k);\n        }\n    }\n    if(k.length>n) k.pop();\n    return ret;\n}\n\n// 6. Coordinate matrices\nnumeric.cLU = function LU(A) {\n    var I = A[0], J = A[1], V = A[2];\n    var p = I.length, m=0, i,j,k,a,b,c;\n    for(i=0;i<p;i++) if(I[i]>m) m=I[i];\n    m++;\n    var L = Array(m), U = Array(m), left = numeric.rep([m],Infinity), right = numeric.rep([m],-Infinity);\n    var Ui, Uj,alpha;\n    for(k=0;k<p;k++) {\n        i = I[k];\n        j = J[k];\n        if(j<left[i]) left[i] = j;\n        if(j>right[i]) right[i] = j;\n    }\n    for(i=0;i<m-1;i++) { if(right[i] > right[i+1]) right[i+1] = right[i]; }\n    for(i=m-1;i>=1;i--) { if(left[i]<left[i-1]) left[i-1] = left[i]; }\n    var countL = 0, countU = 0;\n    for(i=0;i<m;i++) {\n        U[i] = numeric.rep([right[i]-left[i]+1],0);\n        L[i] = numeric.rep([i-left[i]],0);\n        countL += i-left[i]+1;\n        countU += right[i]-i+1;\n    }\n    for(k=0;k<p;k++) { i = I[k]; U[i][J[k]-left[i]] = V[k]; }\n    for(i=0;i<m-1;i++) {\n        a = i-left[i];\n        Ui = U[i];\n        for(j=i+1;left[j]<=i && j<m;j++) {\n            b = i-left[j];\n            c = right[i]-i;\n            Uj = U[j];\n            alpha = Uj[b]/Ui[a];\n            if(alpha) {\n                for(k=1;k<=c;k++) { Uj[k+b] -= alpha*Ui[k+a]; }\n                L[j][i-left[j]] = alpha;\n            }\n        }\n    }\n    var Ui = [], Uj = [], Uv = [], Li = [], Lj = [], Lv = [];\n    var p,q,foo;\n    p=0; q=0;\n    for(i=0;i<m;i++) {\n        a = left[i];\n        b = right[i];\n        foo = U[i];\n        for(j=i;j<=b;j++) {\n            if(foo[j-a]) {\n                Ui[p] = i;\n                Uj[p] = j;\n                Uv[p] = foo[j-a];\n                p++;\n            }\n        }\n        foo = L[i];\n        for(j=a;j<i;j++) {\n            if(foo[j-a]) {\n                Li[q] = i;\n                Lj[q] = j;\n                Lv[q] = foo[j-a];\n                q++;\n            }\n        }\n        Li[q] = i;\n        Lj[q] = i;\n        Lv[q] = 1;\n        q++;\n    }\n    return {U:[Ui,Uj,Uv], L:[Li,Lj,Lv]};\n};\n\nnumeric.cLUsolve = function LUsolve(lu,b) {\n    var L = lu.L, U = lu.U, ret = numeric.clone(b);\n    var Li = L[0], Lj = L[1], Lv = L[2];\n    var Ui = U[0], Uj = U[1], Uv = U[2];\n    var p = Ui.length, q = Li.length;\n    var m = ret.length,i,j,k;\n    k = 0;\n    for(i=0;i<m;i++) {\n        while(Lj[k] < i) {\n            ret[i] -= Lv[k]*ret[Lj[k]];\n            k++;\n        }\n        k++;\n    }\n    k = p-1;\n    for(i=m-1;i>=0;i--) {\n        while(Uj[k] > i) {\n            ret[i] -= Uv[k]*ret[Uj[k]];\n            k--;\n        }\n        ret[i] /= Uv[k];\n        k--;\n    }\n    return ret;\n};\n\nnumeric.cgrid = function grid(n,shape) {\n    if(typeof n === \"number\") n = [n,n];\n    var ret = numeric.rep(n,-1);\n    var i,j,count;\n    if(typeof shape !== \"function\") {\n        switch(shape) {\n        case 'L':\n            shape = function(i,j) { return (i>=n[0]/2 || j<n[1]/2); }\n            break;\n        default:\n            shape = function(i,j) { return true; };\n            break;\n        }\n    }\n    count=0;\n    for(i=1;i<n[0]-1;i++) for(j=1;j<n[1]-1;j++) \n        if(shape(i,j)) {\n            ret[i][j] = count;\n            count++;\n        }\n    return ret;\n}\n\nnumeric.cdelsq = function delsq(g) {\n    var dir = [[-1,0],[0,-1],[0,1],[1,0]];\n    var s = numeric.dim(g), m = s[0], n = s[1], i,j,k,p,q;\n    var Li = [], Lj = [], Lv = [];\n    for(i=1;i<m-1;i++) for(j=1;j<n-1;j++) {\n        if(g[i][j]<0) continue;\n        for(k=0;k<4;k++) {\n            p = i+dir[k][0];\n            q = j+dir[k][1];\n            if(g[p][q]<0) continue;\n            Li.push(g[i][j]);\n            Lj.push(g[p][q]);\n            Lv.push(-1);\n        }\n        Li.push(g[i][j]);\n        Lj.push(g[i][j]);\n        Lv.push(4);\n    }\n    return [Li,Lj,Lv];\n}\n\nnumeric.cdotMV = function dotMV(A,x) {\n    var ret, Ai = A[0], Aj = A[1], Av = A[2],k,p=Ai.length,N;\n    N=0;\n    for(k=0;k<p;k++) { if(Ai[k]>N) N = Ai[k]; }\n    N++;\n    ret = numeric.rep([N],0);\n    for(k=0;k<p;k++) { ret[Ai[k]]+=Av[k]*x[Aj[k]]; }\n    return ret;\n}\n\n// 7. Splines\n\nnumeric.Spline = function Spline(x,yl,yr,kl,kr) { this.x = x; this.yl = yl; this.yr = yr; this.kl = kl; this.kr = kr; }\nnumeric.Spline.prototype._at = function _at(x1,p) {\n    var x = this.x;\n    var yl = this.yl;\n    var yr = this.yr;\n    var kl = this.kl;\n    var kr = this.kr;\n    var x1,a,b,t;\n    var add = numeric.add, sub = numeric.sub, mul = numeric.mul;\n    a = sub(mul(kl[p],x[p+1]-x[p]),sub(yr[p+1],yl[p]));\n    b = add(mul(kr[p+1],x[p]-x[p+1]),sub(yr[p+1],yl[p]));\n    t = (x1-x[p])/(x[p+1]-x[p]);\n    var s = t*(1-t);\n    return add(add(add(mul(1-t,yl[p]),mul(t,yr[p+1])),mul(a,s*(1-t))),mul(b,s*t));\n}\nnumeric.Spline.prototype.at = function at(x0) {\n    if(typeof x0 === \"number\") {\n        var x = this.x;\n        var n = x.length;\n        var p,q,mid,floor = Math.floor,a,b,t;\n        p = 0;\n        q = n-1;\n        while(q-p>1) {\n            mid = floor((p+q)/2);\n            if(x[mid] <= x0) p = mid;\n            else q = mid;\n        }\n        return this._at(x0,p);\n    }\n    var n = x0.length, i, ret = Array(n);\n    for(i=n-1;i!==-1;--i) ret[i] = this.at(x0[i]);\n    return ret;\n}\nnumeric.Spline.prototype.diff = function diff() {\n    var x = this.x;\n    var yl = this.yl;\n    var yr = this.yr;\n    var kl = this.kl;\n    var kr = this.kr;\n    var n = yl.length;\n    var i,dx,dy;\n    var zl = kl, zr = kr, pl = Array(n), pr = Array(n);\n    var add = numeric.add, mul = numeric.mul, div = numeric.div, sub = numeric.sub;\n    for(i=n-1;i!==-1;--i) {\n        dx = x[i+1]-x[i];\n        dy = sub(yr[i+1],yl[i]);\n        pl[i] = div(add(mul(dy, 6),mul(kl[i],-4*dx),mul(kr[i+1],-2*dx)),dx*dx);\n        pr[i+1] = div(add(mul(dy,-6),mul(kl[i], 2*dx),mul(kr[i+1], 4*dx)),dx*dx);\n    }\n    return new numeric.Spline(x,zl,zr,pl,pr);\n}\nnumeric.Spline.prototype.roots = function roots() {\n    function sqr(x) { return x*x; }\n    function heval(y0,y1,k0,k1,x) {\n        var A = k0*2-(y1-y0);\n        var B = -k1*2+(y1-y0);\n        var t = (x+1)*0.5;\n        var s = t*(1-t);\n        return (1-t)*y0+t*y1+A*s*(1-t)+B*s*t;\n    }\n    var ret = [];\n    var x = this.x, yl = this.yl, yr = this.yr, kl = this.kl, kr = this.kr;\n    if(typeof yl[0] === \"number\") {\n        yl = [yl];\n        yr = [yr];\n        kl = [kl];\n        kr = [kr];\n    }\n    var m = yl.length,n=x.length-1,i,j,k,y,s,t;\n    var ai,bi,ci,di, ret = Array(m),ri,k0,k1,y0,y1,A,B,D,dx,cx,stops,z0,z1,zm,t0,t1,tm;\n    var sqrt = Math.sqrt;\n    for(i=0;i!==m;++i) {\n        ai = yl[i];\n        bi = yr[i];\n        ci = kl[i];\n        di = kr[i];\n        ri = [];\n        for(j=0;j!==n;j++) {\n            if(j>0 && bi[j]*ai[j]<0) ri.push(x[j]);\n            dx = (x[j+1]-x[j]);\n            cx = x[j];\n            y0 = ai[j];\n            y1 = bi[j+1];\n            k0 = ci[j]/dx;\n            k1 = di[j+1]/dx;\n            D = sqr(k0-k1+3*(y0-y1)) + 12*k1*y0;\n            A = k1+3*y0+2*k0-3*y1;\n            B = 3*(k1+k0+2*(y0-y1));\n            if(D<=0) {\n                z0 = A/B;\n                if(z0>x[j] && z0<x[j+1]) stops = [x[j],z0,x[j+1]];\n                else stops = [x[j],x[j+1]];\n            } else {\n                z0 = (A-sqrt(D))/B;\n                z1 = (A+sqrt(D))/B;\n                stops = [x[j]];\n                if(z0>x[j] && z0<x[j+1]) stops.push(z0);\n                if(z1>x[j] && z1<x[j+1]) stops.push(z1);\n                stops.push(x[j+1]);\n            }\n            t0 = stops[0];\n            z0 = this._at(t0,j);\n            for(k=0;k<stops.length-1;k++) {\n                t1 = stops[k+1];\n                z1 = this._at(t1,j);\n                if(z0 === 0) {\n                    ri.push(t0); \n                    t0 = t1;\n                    z0 = z1;\n                    continue;\n                }\n                if(z1 === 0 || z0*z1>0) {\n                    t0 = t1;\n                    z0 = z1;\n                    continue;\n                }\n                var side = 0;\n                while(1) {\n                    tm = (z0*t1-z1*t0)/(z0-z1);\n                    if(tm <= t0 || tm >= t1) { break; }\n                    zm = this._at(tm,j);\n                    if(zm*z1>0) {\n                        t1 = tm;\n                        z1 = zm;\n                        if(side === -1) z0*=0.5;\n                        side = -1;\n                    } else if(zm*z0>0) {\n                        t0 = tm;\n                        z0 = zm;\n                        if(side === 1) z1*=0.5;\n                        side = 1;\n                    } else break;\n                }\n                ri.push(tm);\n                t0 = stops[k+1];\n                z0 = this._at(t0, j);\n            }\n            if(z1 === 0) ri.push(t1);\n        }\n        ret[i] = ri;\n    }\n    if(typeof this.yl[0] === \"number\") return ret[0];\n    return ret;\n}\nnumeric.spline = function spline(x,y,k1,kn) {\n    var n = x.length, b = [], dx = [], dy = [];\n    var i;\n    var sub = numeric.sub,mul = numeric.mul,add = numeric.add;\n    for(i=n-2;i>=0;i--) { dx[i] = x[i+1]-x[i]; dy[i] = sub(y[i+1],y[i]); }\n    if(typeof k1 === \"string\" || typeof kn === \"string\") { \n        k1 = kn = \"periodic\";\n    }\n    // Build sparse tridiagonal system\n    var T = [[],[],[]];\n    switch(typeof k1) {\n    case \"undefined\":\n        b[0] = mul(3/(dx[0]*dx[0]),dy[0]);\n        T[0].push(0,0);\n        T[1].push(0,1);\n        T[2].push(2/dx[0],1/dx[0]);\n        break;\n    case \"string\":\n        b[0] = add(mul(3/(dx[n-2]*dx[n-2]),dy[n-2]),mul(3/(dx[0]*dx[0]),dy[0]));\n        T[0].push(0,0,0);\n        T[1].push(n-2,0,1);\n        T[2].push(1/dx[n-2],2/dx[n-2]+2/dx[0],1/dx[0]);\n        break;\n    default:\n        b[0] = k1;\n        T[0].push(0);\n        T[1].push(0);\n        T[2].push(1);\n        break;\n    }\n    for(i=1;i<n-1;i++) {\n        b[i] = add(mul(3/(dx[i-1]*dx[i-1]),dy[i-1]),mul(3/(dx[i]*dx[i]),dy[i]));\n        T[0].push(i,i,i);\n        T[1].push(i-1,i,i+1);\n        T[2].push(1/dx[i-1],2/dx[i-1]+2/dx[i],1/dx[i]);\n    }\n    switch(typeof kn) {\n    case \"undefined\":\n        b[n-1] = mul(3/(dx[n-2]*dx[n-2]),dy[n-2]);\n        T[0].push(n-1,n-1);\n        T[1].push(n-2,n-1);\n        T[2].push(1/dx[n-2],2/dx[n-2]);\n        break;\n    case \"string\":\n        T[1][T[1].length-1] = 0;\n        break;\n    default:\n        b[n-1] = kn;\n        T[0].push(n-1);\n        T[1].push(n-1);\n        T[2].push(1);\n        break;\n    }\n    if(typeof b[0] !== \"number\") b = numeric.transpose(b);\n    else b = [b];\n    var k = Array(b.length);\n    if(typeof k1 === \"string\") {\n        for(i=k.length-1;i!==-1;--i) {\n            k[i] = numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(T)),b[i]);\n            k[i][n-1] = k[i][0];\n        }\n    } else {\n        for(i=k.length-1;i!==-1;--i) {\n            k[i] = numeric.cLUsolve(numeric.cLU(T),b[i]);\n        }\n    }\n    if(typeof y[0] === \"number\") k = k[0];\n    else k = numeric.transpose(k);\n    return new numeric.Spline(x,y,y,k,k);\n}\n\n// 8. FFT\nnumeric.fftpow2 = function fftpow2(x,y) {\n    var n = x.length;\n    if(n === 1) return;\n    var cos = Math.cos, sin = Math.sin, i,j;\n    var xe = Array(n/2), ye = Array(n/2), xo = Array(n/2), yo = Array(n/2);\n    j = n/2;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        xo[j] = x[i];\n        yo[j] = y[i];\n        --i;\n        xe[j] = x[i];\n        ye[j] = y[i];\n    }\n    fftpow2(xe,ye);\n    fftpow2(xo,yo);\n    j = n/2;\n    var t,k = (-6.2831853071795864769252867665590057683943387987502116419/n),ci,si;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        if(j === -1) j = n/2-1;\n        t = k*i;\n        ci = cos(t);\n        si = sin(t);\n        x[i] = xe[j] + ci*xo[j] - si*yo[j];\n        y[i] = ye[j] + ci*yo[j] + si*xo[j];\n    }\n}\nnumeric._ifftpow2 = function _ifftpow2(x,y) {\n    var n = x.length;\n    if(n === 1) return;\n    var cos = Math.cos, sin = Math.sin, i,j;\n    var xe = Array(n/2), ye = Array(n/2), xo = Array(n/2), yo = Array(n/2);\n    j = n/2;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        xo[j] = x[i];\n        yo[j] = y[i];\n        --i;\n        xe[j] = x[i];\n        ye[j] = y[i];\n    }\n    _ifftpow2(xe,ye);\n    _ifftpow2(xo,yo);\n    j = n/2;\n    var t,k = (6.2831853071795864769252867665590057683943387987502116419/n),ci,si;\n    for(i=n-1;i!==-1;--i) {\n        --j;\n        if(j === -1) j = n/2-1;\n        t = k*i;\n        ci = cos(t);\n        si = sin(t);\n        x[i] = xe[j] + ci*xo[j] - si*yo[j];\n        y[i] = ye[j] + ci*yo[j] + si*xo[j];\n    }\n}\nnumeric.ifftpow2 = function ifftpow2(x,y) {\n    numeric._ifftpow2(x,y);\n    numeric.diveq(x,x.length);\n    numeric.diveq(y,y.length);\n}\nnumeric.convpow2 = function convpow2(ax,ay,bx,by) {\n    numeric.fftpow2(ax,ay);\n    numeric.fftpow2(bx,by);\n    var i,n = ax.length,axi,bxi,ayi,byi;\n    for(i=n-1;i!==-1;--i) {\n        axi = ax[i]; ayi = ay[i]; bxi = bx[i]; byi = by[i];\n        ax[i] = axi*bxi-ayi*byi;\n        ay[i] = axi*byi+ayi*bxi;\n    }\n    numeric.ifftpow2(ax,ay);\n}\nnumeric.T.prototype.fft = function fft() {\n    var x = this.x, y = this.y;\n    var n = x.length, log = Math.log, log2 = log(2),\n        p = Math.ceil(log(2*n-1)/log2), m = Math.pow(2,p);\n    var cx = numeric.rep([m],0), cy = numeric.rep([m],0), cos = Math.cos, sin = Math.sin;\n    var k, c = (-3.141592653589793238462643383279502884197169399375105820/n),t;\n    var a = numeric.rep([m],0), b = numeric.rep([m],0),nhalf = Math.floor(n/2);\n    for(k=0;k<n;k++) a[k] = x[k];\n    if(typeof y !== \"undefined\") for(k=0;k<n;k++) b[k] = y[k];\n    cx[0] = 1;\n    for(k=1;k<=m/2;k++) {\n        t = c*k*k;\n        cx[k] = cos(t);\n        cy[k] = sin(t);\n        cx[m-k] = cos(t);\n        cy[m-k] = sin(t)\n    }\n    var X = new numeric.T(a,b), Y = new numeric.T(cx,cy);\n    X = X.mul(Y);\n    numeric.convpow2(X.x,X.y,numeric.clone(Y.x),numeric.neg(Y.y));\n    X = X.mul(Y);\n    X.x.length = n;\n    X.y.length = n;\n    return X;\n}\nnumeric.T.prototype.ifft = function ifft() {\n    var x = this.x, y = this.y;\n    var n = x.length, log = Math.log, log2 = log(2),\n        p = Math.ceil(log(2*n-1)/log2), m = Math.pow(2,p);\n    var cx = numeric.rep([m],0), cy = numeric.rep([m],0), cos = Math.cos, sin = Math.sin;\n    var k, c = (3.141592653589793238462643383279502884197169399375105820/n),t;\n    var a = numeric.rep([m],0), b = numeric.rep([m],0),nhalf = Math.floor(n/2);\n    for(k=0;k<n;k++) a[k] = x[k];\n    if(typeof y !== \"undefined\") for(k=0;k<n;k++) b[k] = y[k];\n    cx[0] = 1;\n    for(k=1;k<=m/2;k++) {\n        t = c*k*k;\n        cx[k] = cos(t);\n        cy[k] = sin(t);\n        cx[m-k] = cos(t);\n        cy[m-k] = sin(t)\n    }\n    var X = new numeric.T(a,b), Y = new numeric.T(cx,cy);\n    X = X.mul(Y);\n    numeric.convpow2(X.x,X.y,numeric.clone(Y.x),numeric.neg(Y.y));\n    X = X.mul(Y);\n    X.x.length = n;\n    X.y.length = n;\n    return X.div(n);\n}\n\n//9. Unconstrained optimization\nnumeric.gradient = function gradient(f,x) {\n    var n = x.length;\n    var f0 = f(x);\n    if(isNaN(f0)) throw new Error('gradient: f(x) is a NaN!');\n    var max = Math.max;\n    var i,x0 = numeric.clone(x),f1,f2, J = Array(n);\n    var div = numeric.div, sub = numeric.sub,errest,roundoff,max = Math.max,eps = 1e-3,abs = Math.abs, min = Math.min;\n    var t0,t1,t2,it=0,d1,d2,N;\n    for(i=0;i<n;i++) {\n        var h = max(1e-6*f0,1e-8);\n        while(1) {\n            ++it;\n            if(it>20) { throw new Error(\"Numerical gradient fails\"); }\n            x0[i] = x[i]+h;\n            f1 = f(x0);\n            x0[i] = x[i]-h;\n            f2 = f(x0);\n            x0[i] = x[i];\n            if(isNaN(f1) || isNaN(f2)) { h/=16; continue; }\n            J[i] = (f1-f2)/(2*h);\n            t0 = x[i]-h;\n            t1 = x[i];\n            t2 = x[i]+h;\n            d1 = (f1-f0)/h;\n            d2 = (f0-f2)/h;\n            N = max(abs(J[i]),abs(f0),abs(f1),abs(f2),abs(t0),abs(t1),abs(t2),1e-8);\n            errest = min(max(abs(d1-J[i]),abs(d2-J[i]),abs(d1-d2))/N,h/N);\n            if(errest>eps) { h/=16; }\n            else break;\n            }\n    }\n    return J;\n}\n\nnumeric.uncmin = function uncmin(f,x0,tol,gradient,maxit,callback,options) {\n    var grad = numeric.gradient;\n    if(typeof options === \"undefined\") { options = {}; }\n    if(typeof tol === \"undefined\") { tol = 1e-8; }\n    if(typeof gradient === \"undefined\") { gradient = function(x) { return grad(f,x); }; }\n    if(typeof maxit === \"undefined\") maxit = 1000;\n    x0 = numeric.clone(x0);\n    var n = x0.length;\n    var f0 = f(x0),f1,df0;\n    if(isNaN(f0)) throw new Error('uncmin: f(x0) is a NaN!');\n    var max = Math.max, norm2 = numeric.norm2;\n    tol = max(tol,numeric.epsilon);\n    var step,g0,g1,H1 = options.Hinv || numeric.identity(n);\n    var dot = numeric.dot, inv = numeric.inv, sub = numeric.sub, add = numeric.add, ten = numeric.tensor, div = numeric.div, mul = numeric.mul;\n    var all = numeric.all, isfinite = numeric.isFinite, neg = numeric.neg;\n    var it=0,i,s,x1,y,Hy,Hs,ys,i0,t,nstep,t1,t2;\n    var msg = \"\";\n    g0 = gradient(x0);\n    while(it<maxit) {\n        if(typeof callback === \"function\") { if(callback(it,x0,f0,g0,H1)) { msg = \"Callback returned true\"; break; } }\n        if(!all(isfinite(g0))) { msg = \"Gradient has Infinity or NaN\"; break; }\n        step = neg(dot(H1,g0));\n        if(!all(isfinite(step))) { msg = \"Search direction has Infinity or NaN\"; break; }\n        nstep = norm2(step);\n        if(nstep < tol) { msg=\"Newton step smaller than tol\"; break; }\n        t = 1;\n        df0 = dot(g0,step);\n        // line search\n        x1 = x0;\n        while(it < maxit) {\n            if(t*nstep < tol) { break; }\n            s = mul(step,t);\n            x1 = add(x0,s);\n            f1 = f(x1);\n            if(f1-f0 >= 0.1*t*df0 || isNaN(f1)) {\n                t *= 0.5;\n                ++it;\n                continue;\n            }\n            break;\n        }\n        if(t*nstep < tol) { msg = \"Line search step size smaller than tol\"; break; }\n        if(it === maxit) { msg = \"maxit reached during line search\"; break; }\n        g1 = gradient(x1);\n        y = sub(g1,g0);\n        ys = dot(y,s);\n        Hy = dot(H1,y);\n        H1 = sub(add(H1,\n                mul(\n                        (ys+dot(y,Hy))/(ys*ys),\n                        ten(s,s)    )),\n                div(add(ten(Hy,s),ten(s,Hy)),ys));\n        x0 = x1;\n        f0 = f1;\n        g0 = g1;\n        ++it;\n    }\n    return {solution: x0, f: f0, gradient: g0, invHessian: H1, iterations:it, message: msg};\n}\n\n// 10. Ode solver (Dormand-Prince)\nnumeric.Dopri = function Dopri(x,y,f,ymid,iterations,msg,events) {\n    this.x = x;\n    this.y = y;\n    this.f = f;\n    this.ymid = ymid;\n    this.iterations = iterations;\n    this.events = events;\n    this.message = msg;\n}\nnumeric.Dopri.prototype._at = function _at(xi,j) {\n    function sqr(x) { return x*x; }\n    var sol = this;\n    var xs = sol.x;\n    var ys = sol.y;\n    var k1 = sol.f;\n    var ymid = sol.ymid;\n    var n = xs.length;\n    var x0,x1,xh,y0,y1,yh,xi;\n    var floor = Math.floor,h;\n    var c = 0.5;\n    var add = numeric.add, mul = numeric.mul,sub = numeric.sub, p,q,w;\n    x0 = xs[j];\n    x1 = xs[j+1];\n    y0 = ys[j];\n    y1 = ys[j+1];\n    h  = x1-x0;\n    xh = x0+c*h;\n    yh = ymid[j];\n    p = sub(k1[j  ],mul(y0,1/(x0-xh)+2/(x0-x1)));\n    q = sub(k1[j+1],mul(y1,1/(x1-xh)+2/(x1-x0)));\n    w = [sqr(xi - x1) * (xi - xh) / sqr(x0 - x1) / (x0 - xh),\n         sqr(xi - x0) * sqr(xi - x1) / sqr(x0 - xh) / sqr(x1 - xh),\n         sqr(xi - x0) * (xi - xh) / sqr(x1 - x0) / (x1 - xh),\n         (xi - x0) * sqr(xi - x1) * (xi - xh) / sqr(x0-x1) / (x0 - xh),\n         (xi - x1) * sqr(xi - x0) * (xi - xh) / sqr(x0-x1) / (x1 - xh)];\n    return add(add(add(add(mul(y0,w[0]),\n                           mul(yh,w[1])),\n                           mul(y1,w[2])),\n                           mul( p,w[3])),\n                           mul( q,w[4]));\n}\nnumeric.Dopri.prototype.at = function at(x) {\n    var i,j,k,floor = Math.floor;\n    if(typeof x !== \"number\") {\n        var n = x.length, ret = Array(n);\n        for(i=n-1;i!==-1;--i) {\n            ret[i] = this.at(x[i]);\n        }\n        return ret;\n    }\n    var x0 = this.x;\n    i = 0; j = x0.length-1;\n    while(j-i>1) {\n        k = floor(0.5*(i+j));\n        if(x0[k] <= x) i = k;\n        else j = k;\n    }\n    return this._at(x,i);\n}\n\nnumeric.dopri = function dopri(x0,x1,y0,f,tol,maxit,event) {\n    if(typeof tol === \"undefined\") { tol = 1e-6; }\n    if(typeof maxit === \"undefined\") { maxit = 1000; }\n    var xs = [x0], ys = [y0], k1 = [f(x0,y0)], k2,k3,k4,k5,k6,k7, ymid = [];\n    var A2 = 1/5;\n    var A3 = [3/40,9/40];\n    var A4 = [44/45,-56/15,32/9];\n    var A5 = [19372/6561,-25360/2187,64448/6561,-212/729];\n    var A6 = [9017/3168,-355/33,46732/5247,49/176,-5103/18656];\n    var b = [35/384,0,500/1113,125/192,-2187/6784,11/84];\n    var bm = [0.5*6025192743/30085553152,\n              0,\n              0.5*51252292925/65400821598,\n              0.5*-2691868925/45128329728,\n              0.5*187940372067/1594534317056,\n              0.5*-1776094331/19743644256,\n              0.5*11237099/235043384];\n    var c = [1/5,3/10,4/5,8/9,1,1];\n    var e = [-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40];\n    var i = 0,er,j;\n    var h = (x1-x0)/10;\n    var it = 0;\n    var add = numeric.add, mul = numeric.mul, y1,erinf;\n    var max = Math.max, min = Math.min, abs = Math.abs, norminf = numeric.norminf,pow = Math.pow;\n    var any = numeric.any, lt = numeric.lt, and = numeric.and, sub = numeric.sub;\n    var e0, e1, ev;\n    var ret = new numeric.Dopri(xs,ys,k1,ymid,-1,\"\");\n    if(typeof event === \"function\") e0 = event(x0,y0);\n    while(x0<x1 && it<maxit) {\n        ++it;\n        if(x0+h>x1) h = x1-x0;\n        k2 = f(x0+c[0]*h,                add(y0,mul(   A2*h,k1[i])));\n        k3 = f(x0+c[1]*h,            add(add(y0,mul(A3[0]*h,k1[i])),mul(A3[1]*h,k2)));\n        k4 = f(x0+c[2]*h,        add(add(add(y0,mul(A4[0]*h,k1[i])),mul(A4[1]*h,k2)),mul(A4[2]*h,k3)));\n        k5 = f(x0+c[3]*h,    add(add(add(add(y0,mul(A5[0]*h,k1[i])),mul(A5[1]*h,k2)),mul(A5[2]*h,k3)),mul(A5[3]*h,k4)));\n        k6 = f(x0+c[4]*h,add(add(add(add(add(y0,mul(A6[0]*h,k1[i])),mul(A6[1]*h,k2)),mul(A6[2]*h,k3)),mul(A6[3]*h,k4)),mul(A6[4]*h,k5)));\n        y1 = add(add(add(add(add(y0,mul(k1[i],h*b[0])),mul(k3,h*b[2])),mul(k4,h*b[3])),mul(k5,h*b[4])),mul(k6,h*b[5]));\n        k7 = f(x0+h,y1);\n        er = add(add(add(add(add(mul(k1[i],h*e[0]),mul(k3,h*e[2])),mul(k4,h*e[3])),mul(k5,h*e[4])),mul(k6,h*e[5])),mul(k7,h*e[6]));\n        if(typeof er === \"number\") erinf = abs(er);\n        else erinf = norminf(er);\n        if(erinf > tol) { // reject\n            h = 0.2*h*pow(tol/erinf,0.25);\n            if(x0+h === x0) {\n                ret.msg = \"Step size became too small\";\n                break;\n            }\n            continue;\n        }\n        ymid[i] = add(add(add(add(add(add(y0,\n                mul(k1[i],h*bm[0])),\n                mul(k3   ,h*bm[2])),\n                mul(k4   ,h*bm[3])),\n                mul(k5   ,h*bm[4])),\n                mul(k6   ,h*bm[5])),\n                mul(k7   ,h*bm[6]));\n        ++i;\n        xs[i] = x0+h;\n        ys[i] = y1;\n        k1[i] = k7;\n        if(typeof event === \"function\") {\n            var yi,xl = x0,xr = x0+0.5*h,xi;\n            e1 = event(xr,ymid[i-1]);\n            ev = and(lt(e0,0),lt(0,e1));\n            if(!any(ev)) { xl = xr; xr = x0+h; e0 = e1; e1 = event(xr,y1); ev = and(lt(e0,0),lt(0,e1)); }\n            if(any(ev)) {\n                var xc, yc, en,ei;\n                var side=0, sl = 1.0, sr = 1.0;\n                while(1) {\n                    if(typeof e0 === \"number\") xi = (sr*e1*xl-sl*e0*xr)/(sr*e1-sl*e0);\n                    else {\n                        xi = xr;\n                        for(j=e0.length-1;j!==-1;--j) {\n                            if(e0[j]<0 && e1[j]>0) xi = min(xi,(sr*e1[j]*xl-sl*e0[j]*xr)/(sr*e1[j]-sl*e0[j]));\n                        }\n                    }\n                    if(xi <= xl || xi >= xr) break;\n                    yi = ret._at(xi, i-1);\n                    ei = event(xi,yi);\n                    en = and(lt(e0,0),lt(0,ei));\n                    if(any(en)) {\n                        xr = xi;\n                        e1 = ei;\n                        ev = en;\n                        sr = 1.0;\n                        if(side === -1) sl *= 0.5;\n                        else sl = 1.0;\n                        side = -1;\n                    } else {\n                        xl = xi;\n                        e0 = ei;\n                        sl = 1.0;\n                        if(side === 1) sr *= 0.5;\n                        else sr = 1.0;\n                        side = 1;\n                    }\n                }\n                y1 = ret._at(0.5*(x0+xi),i-1);\n                ret.f[i] = f(xi,yi);\n                ret.x[i] = xi;\n                ret.y[i] = yi;\n                ret.ymid[i-1] = y1;\n                ret.events = ev;\n                ret.iterations = it;\n                return ret;\n            }\n        }\n        x0 += h;\n        y0 = y1;\n        e0 = e1;\n        h = min(0.8*h*pow(tol/erinf,0.25),4*h);\n    }\n    ret.iterations = it;\n    return ret;\n}\n\n// 11. Ax = b\nnumeric.LU = function(A, fast) {\n  fast = fast || false;\n\n  var abs = Math.abs;\n  var i, j, k, absAjk, Akk, Ak, Pk, Ai;\n  var max;\n  var n = A.length, n1 = n-1;\n  var P = new Array(n);\n  if(!fast) A = numeric.clone(A);\n\n  for (k = 0; k < n; ++k) {\n    Pk = k;\n    Ak = A[k];\n    max = abs(Ak[k]);\n    for (j = k + 1; j < n; ++j) {\n      absAjk = abs(A[j][k]);\n      if (max < absAjk) {\n        max = absAjk;\n        Pk = j;\n      }\n    }\n    P[k] = Pk;\n\n    if (Pk != k) {\n      A[k] = A[Pk];\n      A[Pk] = Ak;\n      Ak = A[k];\n    }\n\n    Akk = Ak[k];\n\n    for (i = k + 1; i < n; ++i) {\n      A[i][k] /= Akk;\n    }\n\n    for (i = k + 1; i < n; ++i) {\n      Ai = A[i];\n      for (j = k + 1; j < n1; ++j) {\n        Ai[j] -= Ai[k] * Ak[j];\n        ++j;\n        Ai[j] -= Ai[k] * Ak[j];\n      }\n      if(j===n1) Ai[j] -= Ai[k] * Ak[j];\n    }\n  }\n\n  return {\n    LU: A,\n    P:  P\n  };\n}\n\nnumeric.LUsolve = function LUsolve(LUP, b) {\n  var i, j;\n  var LU = LUP.LU;\n  var n   = LU.length;\n  var x = numeric.clone(b);\n  var P   = LUP.P;\n  var Pi, LUi, LUii, tmp;\n\n  for (i=n-1;i!==-1;--i) x[i] = b[i];\n  for (i = 0; i < n; ++i) {\n    Pi = P[i];\n    if (P[i] !== i) {\n      tmp = x[i];\n      x[i] = x[Pi];\n      x[Pi] = tmp;\n    }\n\n    LUi = LU[i];\n    for (j = 0; j < i; ++j) {\n      x[i] -= x[j] * LUi[j];\n    }\n  }\n\n  for (i = n - 1; i >= 0; --i) {\n    LUi = LU[i];\n    for (j = i + 1; j < n; ++j) {\n      x[i] -= x[j] * LUi[j];\n    }\n\n    x[i] /= LUi[i];\n  }\n\n  return x;\n}\n\nnumeric.solve = function solve(A,b,fast) { return numeric.LUsolve(numeric.LU(A,fast), b); }\n\n// 12. Linear programming\nnumeric.echelonize = function echelonize(A) {\n    var s = numeric.dim(A), m = s[0], n = s[1];\n    var I = numeric.identity(m);\n    var P = Array(m);\n    var i,j,k,l,Ai,Ii,Z,a;\n    var abs = Math.abs;\n    var diveq = numeric.diveq;\n    A = numeric.clone(A);\n    for(i=0;i<m;++i) {\n        k = 0;\n        Ai = A[i];\n        Ii = I[i];\n        for(j=1;j<n;++j) if(abs(Ai[k])<abs(Ai[j])) k=j;\n        P[i] = k;\n        diveq(Ii,Ai[k]);\n        diveq(Ai,Ai[k]);\n        for(j=0;j<m;++j) if(j!==i) {\n            Z = A[j]; a = Z[k];\n            for(l=n-1;l!==-1;--l) Z[l] -= Ai[l]*a;\n            Z = I[j];\n            for(l=m-1;l!==-1;--l) Z[l] -= Ii[l]*a;\n        }\n    }\n    return {I:I, A:A, P:P};\n}\n\nnumeric.__solveLP = function __solveLP(c,A,b,tol,maxit,x,flag) {\n    var sum = numeric.sum, log = numeric.log, mul = numeric.mul, sub = numeric.sub, dot = numeric.dot, div = numeric.div, add = numeric.add;\n    var m = c.length, n = b.length,y;\n    var unbounded = false, cb,i0=0;\n    var alpha = 1.0;\n    var f0,df0,AT = numeric.transpose(A), svd = numeric.svd,transpose = numeric.transpose,leq = numeric.leq, sqrt = Math.sqrt, abs = Math.abs;\n    var muleq = numeric.muleq;\n    var norm = numeric.norminf, any = numeric.any,min = Math.min;\n    var all = numeric.all, gt = numeric.gt;\n    var p = Array(m), A0 = Array(n),e=numeric.rep([n],1), H;\n    var solve = numeric.solve, z = sub(b,dot(A,x)),count;\n    var dotcc = dot(c,c);\n    var g;\n    for(count=i0;count<maxit;++count) {\n        var i,j,d;\n        for(i=n-1;i!==-1;--i) A0[i] = div(A[i],z[i]);\n        var A1 = transpose(A0);\n        for(i=m-1;i!==-1;--i) p[i] = (/*x[i]+*/sum(A1[i]));\n        alpha = 0.25*abs(dotcc/dot(c,p));\n        var a1 = 100*sqrt(dotcc/dot(p,p));\n        if(!isFinite(alpha) || alpha>a1) alpha = a1;\n        g = add(c,mul(alpha,p));\n        H = dot(A1,A0);\n        for(i=m-1;i!==-1;--i) H[i][i] += 1;\n        d = solve(H,div(g,alpha),true);\n        var t0 = div(z,dot(A,d));\n        var t = 1.0;\n        for(i=n-1;i!==-1;--i) if(t0[i]<0) t = min(t,-0.999*t0[i]);\n        y = sub(x,mul(d,t));\n        z = sub(b,dot(A,y));\n        if(!all(gt(z,0))) return { solution: x, message: \"\", iterations: count };\n        x = y;\n        if(alpha<tol) return { solution: y, message: \"\", iterations: count };\n        if(flag) {\n            var s = dot(c,g), Ag = dot(A,g);\n            unbounded = true;\n            for(i=n-1;i!==-1;--i) if(s*Ag[i]<0) { unbounded = false; break; }\n        } else {\n            if(x[m-1]>=0) unbounded = false;\n            else unbounded = true;\n        }\n        if(unbounded) return { solution: y, message: \"Unbounded\", iterations: count };\n    }\n    return { solution: x, message: \"maximum iteration count exceeded\", iterations:count };\n}\n\nnumeric._solveLP = function _solveLP(c,A,b,tol,maxit) {\n    var m = c.length, n = b.length,y;\n    var sum = numeric.sum, log = numeric.log, mul = numeric.mul, sub = numeric.sub, dot = numeric.dot, div = numeric.div, add = numeric.add;\n    var c0 = numeric.rep([m],0).concat([1]);\n    var J = numeric.rep([n,1],-1);\n    var A0 = numeric.blockMatrix([[A                   ,   J  ]]);\n    var b0 = b;\n    var y = numeric.rep([m],0).concat(Math.max(0,numeric.sup(numeric.neg(b)))+1);\n    var x0 = numeric.__solveLP(c0,A0,b0,tol,maxit,y,false);\n    var x = numeric.clone(x0.solution);\n    x.length = m;\n    var foo = numeric.inf(sub(b,dot(A,x)));\n    if(foo<0) { return { solution: NaN, message: \"Infeasible\", iterations: x0.iterations }; }\n    var ret = numeric.__solveLP(c, A, b, tol, maxit-x0.iterations, x, true);\n    ret.iterations += x0.iterations;\n    return ret;\n};\n\nnumeric.solveLP = function solveLP(c,A,b,Aeq,beq,tol,maxit) {\n    if(typeof maxit === \"undefined\") maxit = 1000;\n    if(typeof tol === \"undefined\") tol = numeric.epsilon;\n    if(typeof Aeq === \"undefined\") return numeric._solveLP(c,A,b,tol,maxit);\n    var m = Aeq.length, n = Aeq[0].length, o = A.length;\n    var B = numeric.echelonize(Aeq);\n    var flags = numeric.rep([n],0);\n    var P = B.P;\n    var Q = [];\n    var i;\n    for(i=P.length-1;i!==-1;--i) flags[P[i]] = 1;\n    for(i=n-1;i!==-1;--i) if(flags[i]===0) Q.push(i);\n    var g = numeric.getRange;\n    var I = numeric.linspace(0,m-1), J = numeric.linspace(0,o-1);\n    var Aeq2 = g(Aeq,I,Q), A1 = g(A,J,P), A2 = g(A,J,Q), dot = numeric.dot, sub = numeric.sub;\n    var A3 = dot(A1,B.I);\n    var A4 = sub(A2,dot(A3,Aeq2)), b4 = sub(b,dot(A3,beq));\n    var c1 = Array(P.length), c2 = Array(Q.length);\n    for(i=P.length-1;i!==-1;--i) c1[i] = c[P[i]];\n    for(i=Q.length-1;i!==-1;--i) c2[i] = c[Q[i]];\n    var c4 = sub(c2,dot(c1,dot(B.I,Aeq2)));\n    var S = numeric._solveLP(c4,A4,b4,tol,maxit);\n    var x2 = S.solution;\n    if(x2!==x2) return S;\n    var x1 = dot(B.I,sub(beq,dot(Aeq2,x2)));\n    var x = Array(c.length);\n    for(i=P.length-1;i!==-1;--i) x[P[i]] = x1[i];\n    for(i=Q.length-1;i!==-1;--i) x[Q[i]] = x2[i];\n    return { solution: x, message:S.message, iterations: S.iterations };\n}\n\nnumeric.MPStoLP = function MPStoLP(MPS) {\n    if(MPS instanceof String) { MPS.split('\\n'); }\n    var state = 0;\n    var states = ['Initial state','NAME','ROWS','COLUMNS','RHS','BOUNDS','ENDATA'];\n    var n = MPS.length;\n    var i,j,z,N=0,rows = {}, sign = [], rl = 0, vars = {}, nv = 0;\n    var name;\n    var c = [], A = [], b = [];\n    function err(e) { throw new Error('MPStoLP: '+e+'\\nLine '+i+': '+MPS[i]+'\\nCurrent state: '+states[state]+'\\n'); }\n    for(i=0;i<n;++i) {\n        z = MPS[i];\n        var w0 = z.match(/\\S*/g);\n        var w = [];\n        for(j=0;j<w0.length;++j) if(w0[j]!==\"\") w.push(w0[j]);\n        if(w.length === 0) continue;\n        for(j=0;j<states.length;++j) if(z.substr(0,states[j].length) === states[j]) break;\n        if(j<states.length) {\n            state = j;\n            if(j===1) { name = w[1]; }\n            if(j===6) return { name:name, c:c, A:numeric.transpose(A), b:b, rows:rows, vars:vars };\n            continue;\n        }\n        switch(state) {\n        case 0: case 1: err('Unexpected line');\n        case 2: \n            switch(w[0]) {\n            case 'N': if(N===0) N = w[1]; else err('Two or more N rows'); break;\n            case 'L': rows[w[1]] = rl; sign[rl] = 1; b[rl] = 0; ++rl; break;\n            case 'G': rows[w[1]] = rl; sign[rl] = -1;b[rl] = 0; ++rl; break;\n            case 'E': rows[w[1]] = rl; sign[rl] = 0;b[rl] = 0; ++rl; break;\n            default: err('Parse error '+numeric.prettyPrint(w));\n            }\n            break;\n        case 3:\n            if(!vars.hasOwnProperty(w[0])) { vars[w[0]] = nv; c[nv] = 0; A[nv] = numeric.rep([rl],0); ++nv; }\n            var p = vars[w[0]];\n            for(j=1;j<w.length;j+=2) {\n                if(w[j] === N) { c[p] = parseFloat(w[j+1]); continue; }\n                var q = rows[w[j]];\n                A[p][q] = (sign[q]<0?-1:1)*parseFloat(w[j+1]);\n            }\n            break;\n        case 4:\n            for(j=1;j<w.length;j+=2) b[rows[w[j]]] = (sign[rows[w[j]]]<0?-1:1)*parseFloat(w[j+1]);\n            break;\n        case 5: /*FIXME*/ break;\n        case 6: err('Internal error');\n        }\n    }\n    err('Reached end of file without ENDATA');\n}\n// seedrandom.js version 2.0.\n// Author: David Bau 4/2/2011\n//\n// Defines a method Math.seedrandom() that, when called, substitutes\n// an explicitly seeded RC4-based algorithm for Math.random().  Also\n// supports automatic seeding from local or network sources of entropy.\n//\n// Usage:\n//\n//   <script src=http://davidbau.com/encode/seedrandom-min.js></script>\n//\n//   Math.seedrandom('yipee'); Sets Math.random to a function that is\n//                             initialized using the given explicit seed.\n//\n//   Math.seedrandom();        Sets Math.random to a function that is\n//                             seeded using the current time, dom state,\n//                             and other accumulated local entropy.\n//                             The generated seed string is returned.\n//\n//   Math.seedrandom('yowza', true);\n//                             Seeds using the given explicit seed mixed\n//                             together with accumulated entropy.\n//\n//   <script src=\"http://bit.ly/srandom-512\"></script>\n//                             Seeds using physical random bits downloaded\n//                             from random.org.\n//\n//   <script src=\"https://jsonlib.appspot.com/urandom?callback=Math.seedrandom\">\n//   </script>                 Seeds using urandom bits from call.jsonlib.com,\n//                             which is faster than random.org.\n//\n// Examples:\n//\n//   Math.seedrandom(\"hello\");            // Use \"hello\" as the seed.\n//   document.write(Math.random());       // Always 0.5463663768140734\n//   document.write(Math.random());       // Always 0.43973793770592234\n//   var rng1 = Math.random;              // Remember the current prng.\n//\n//   var autoseed = Math.seedrandom();    // New prng with an automatic seed.\n//   document.write(Math.random());       // Pretty much unpredictable.\n//\n//   Math.random = rng1;                  // Continue \"hello\" prng sequence.\n//   document.write(Math.random());       // Always 0.554769432473455\n//\n//   Math.seedrandom(autoseed);           // Restart at the previous seed.\n//   document.write(Math.random());       // Repeat the 'unpredictable' value.\n//\n// Notes:\n//\n// Each time seedrandom('arg') is called, entropy from the passed seed\n// is accumulated in a pool to help generate future seeds for the\n// zero-argument form of Math.seedrandom, so entropy can be injected over\n// time by calling seedrandom with explicit data repeatedly.\n//\n// On speed - This javascript implementation of Math.random() is about\n// 3-10x slower than the built-in Math.random() because it is not native\n// code, but this is typically fast enough anyway.  Seeding is more expensive,\n// especially if you use auto-seeding.  Some details (timings on Chrome 4):\n//\n// Our Math.random()            - avg less than 0.002 milliseconds per call\n// seedrandom('explicit')       - avg less than 0.5 milliseconds per call\n// seedrandom('explicit', true) - avg less than 2 milliseconds per call\n// seedrandom()                 - avg about 38 milliseconds per call\n//\n// LICENSE (BSD):\n//\n// Copyright 2010 David Bau, all rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n// \n//   1. Redistributions of source code must retain the above copyright\n//      notice, this list of conditions and the following disclaimer.\n//\n//   2. Redistributions in binary form must reproduce the above copyright\n//      notice, this list of conditions and the following disclaimer in the\n//      documentation and/or other materials provided with the distribution.\n// \n//   3. Neither the name of this module nor the names of its contributors may\n//      be used to endorse or promote products derived from this software\n//      without specific prior written permission.\n// \n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n/**\n * All code is in an anonymous closure to keep the global namespace clean.\n *\n * @param {number=} overflow \n * @param {number=} startdenom\n */\n\n// Patched by Seb so that seedrandom.js does not pollute the Math object.\n// My tests suggest that doing Math.trouble = 1 makes Math lookups about 5%\n// slower.\nnumeric.seedrandom = { pow:Math.pow, random:Math.random };\n\n(function (pool, math, width, chunks, significance, overflow, startdenom) {\n\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nmath['seedrandom'] = function seedrandom(seed, use_entropy) {\n  var key = [];\n  var arc4;\n\n  // Flatten the seed string or build one from local entropy if needed.\n  seed = mixkey(flatten(\n    use_entropy ? [seed, pool] :\n    arguments.length ? seed :\n    [new Date().getTime(), pool, window], 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  arc4 = new ARC4(key);\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(arc4.S, pool);\n\n  // Override Math.random\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n\n  math['random'] = function random() {  // Closure to return a random double:\n    var n = arc4.g(chunks);             // Start with a numerator n < 2 ^ 48\n    var d = startdenom;                 //   and denominator d = 2 ^ 48.\n    var x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  // Return the seed that was used\n  return seed;\n};\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\n/** @constructor */\nfunction ARC4(key) {\n  var t, u, me = this, keylen = key.length;\n  var i = 0, j = me.i = me.j = me.m = 0;\n  me.S = [];\n  me.c = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) { me.S[i] = i++; }\n  for (i = 0; i < width; i++) {\n    t = me.S[i];\n    j = lowbits(j + t + key[i % keylen]);\n    u = me.S[j];\n    me.S[i] = u;\n    me.S[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  me.g = function getnext(count) {\n    var s = me.S;\n    var i = lowbits(me.i + 1); var t = s[i];\n    var j = lowbits(me.j + t); var u = s[j];\n    s[i] = u;\n    s[j] = t;\n    var r = s[lowbits(t + u)];\n    while (--count) {\n      i = lowbits(i + 1); t = s[i];\n      j = lowbits(j + t); u = s[j];\n      s[i] = u;\n      s[j] = t;\n      r = r * width + s[lowbits(t + u)];\n    }\n    me.i = i;\n    me.j = j;\n    return r;\n  };\n  // For robust unpredictability discard an initial batch of values.\n  // See http://www.rsa.com/rsalabs/node.asp?id=2009\n  me.g(width);\n}\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\n/** @param {Object=} result \n  * @param {string=} prop\n  * @param {string=} typ */\nfunction flatten(obj, depth, result, prop, typ) {\n  result = [];\n  typ = typeof(obj);\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      if (prop.indexOf('S') < 5) {    // Avoid FF3 bug (local/sessionStorage)\n        try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n      }\n    }\n  }\n  return (result.length ? result : obj + (typ != 'string' ? '\\0' : ''));\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\n/** @param {number=} smear \n  * @param {number=} j */\nfunction mixkey(seed, key, smear, j) {\n  seed += '';                         // Ensure the seed is a string\n  smear = 0;\n  for (j = 0; j < seed.length; j++) {\n    key[lowbits(j)] =\n      lowbits((smear ^= key[lowbits(j)] * 19) + seed.charCodeAt(j));\n  }\n  seed = '';\n  for (j in key) { seed += String.fromCharCode(key[j]); }\n  return seed;\n}\n\n//\n// lowbits()\n// A quick \"n mod width\" for width a power of 2.\n//\nfunction lowbits(n) { return n & (width - 1); }\n\n//\n// The following constants are related to IEEE 754 limits.\n//\nstartdenom = math.pow(width, chunks);\nsignificance = math.pow(2, significance);\noverflow = significance * 2;\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to intefere with determinstic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n// End anonymous scope, and pass initial values.\n}(\n  [],   // pool: entropy pool starts empty\n  numeric.seedrandom, // math: package containing random, pow, and seedrandom\n  256,  // width: each RC4 output is 0 <= x < 256\n  6,    // chunks: at least six RC4 outputs for each double\n  52    // significance: there are 52 significant digits in a double\n  ));\n/* This file is a slightly modified version of quadprog.js from Alberto Santini.\n * It has been slightly modified by Sbastien Loisel to make sure that it handles\n * 0-based Arrays instead of 1-based Arrays.\n * License is in resources/LICENSE.quadprog */\n(function(exports) {\n\nfunction base0to1(A) {\n    if(typeof A !== \"object\") { return A; }\n    var ret = [], i,n=A.length;\n    for(i=0;i<n;i++) ret[i+1] = base0to1(A[i]);\n    return ret;\n}\nfunction base1to0(A) {\n    if(typeof A !== \"object\") { return A; }\n    var ret = [], i,n=A.length;\n    for(i=1;i<n;i++) ret[i-1] = base1to0(A[i]);\n    return ret;\n}\n\nfunction dpori(a, lda, n) {\n    var i, j, k, kp1, t;\n\n    for (k = 1; k <= n; k = k + 1) {\n        a[k][k] = 1 / a[k][k];\n        t = -a[k][k];\n        //~ dscal(k - 1, t, a[1][k], 1);\n        for (i = 1; i < k; i = i + 1) {\n            a[i][k] = t * a[i][k];\n        }\n\n        kp1 = k + 1;\n        if (n < kp1) {\n            break;\n        }\n        for (j = kp1; j <= n; j = j + 1) {\n            t = a[k][j];\n            a[k][j] = 0;\n            //~ daxpy(k, t, a[1][k], 1, a[1][j], 1);\n            for (i = 1; i <= k; i = i + 1) {\n                a[i][j] = a[i][j] + (t * a[i][k]);\n            }\n        }\n    }\n\n}\n\nfunction dposl(a, lda, n, b) {\n    var i, k, kb, t;\n\n    for (k = 1; k <= n; k = k + 1) {\n        //~ t = ddot(k - 1, a[1][k], 1, b[1], 1);\n        t = 0;\n        for (i = 1; i < k; i = i + 1) {\n            t = t + (a[i][k] * b[i]);\n        }\n\n        b[k] = (b[k] - t) / a[k][k];\n    }\n\n    for (kb = 1; kb <= n; kb = kb + 1) {\n        k = n + 1 - kb;\n        b[k] = b[k] / a[k][k];\n        t = -b[k];\n        //~ daxpy(k - 1, t, a[1][k], 1, b[1], 1);\n        for (i = 1; i < k; i = i + 1) {\n            b[i] = b[i] + (t * a[i][k]);\n        }\n    }\n}\n\nfunction dpofa(a, lda, n, info) {\n    var i, j, jm1, k, t, s;\n\n    for (j = 1; j <= n; j = j + 1) {\n        info[1] = j;\n        s = 0;\n        jm1 = j - 1;\n        if (jm1 < 1) {\n            s = a[j][j] - s;\n            if (s <= 0) {\n                break;\n            }\n            a[j][j] = Math.sqrt(s);\n        } else {\n            for (k = 1; k <= jm1; k = k + 1) {\n                //~ t = a[k][j] - ddot(k - 1, a[1][k], 1, a[1][j], 1);\n                t = a[k][j];\n                for (i = 1; i < k; i = i + 1) {\n                    t = t - (a[i][j] * a[i][k]);\n                }\n                t = t / a[k][k];\n                a[k][j] = t;\n                s = s + t * t;\n            }\n            s = a[j][j] - s;\n            if (s <= 0) {\n                break;\n            }\n            a[j][j] = Math.sqrt(s);\n        }\n        info[1] = 0;\n    }\n}\n\nfunction qpgen2(dmat, dvec, fddmat, n, sol, crval, amat,\n    bvec, fdamat, q, meq, iact, nact, iter, work, ierr) {\n\n    var i, j, l, l1, info, it1, iwzv, iwrv, iwrm, iwsv, iwuv, nvl, r, iwnbv,\n        temp, sum, t1, tt, gc, gs, nu,\n        t1inf, t2min,\n        vsmall, tmpa, tmpb,\n        go;\n\n    r = Math.min(n, q);\n    l = 2 * n + (r * (r + 5)) / 2 + 2 * q + 1;\n\n    vsmall = 1.0e-60;\n    do {\n        vsmall = vsmall + vsmall;\n        tmpa = 1 + 0.1 * vsmall;\n        tmpb = 1 + 0.2 * vsmall;\n    } while (tmpa <= 1 || tmpb <= 1);\n\n    for (i = 1; i <= n; i = i + 1) {\n        work[i] = dvec[i];\n    }\n    for (i = n + 1; i <= l; i = i + 1) {\n        work[i] = 0;\n    }\n    for (i = 1; i <= q; i = i + 1) {\n        iact[i] = 0;\n    }\n\n    info = [];\n\n    if (ierr[1] === 0) {\n        dpofa(dmat, fddmat, n, info);\n        if (info[1] !== 0) {\n            ierr[1] = 2;\n            return;\n        }\n        dposl(dmat, fddmat, n, dvec);\n        dpori(dmat, fddmat, n);\n    } else {\n        for (j = 1; j <= n; j = j + 1) {\n            sol[j] = 0;\n            for (i = 1; i <= j; i = i + 1) {\n                sol[j] = sol[j] + dmat[i][j] * dvec[i];\n            }\n        }\n        for (j = 1; j <= n; j = j + 1) {\n            dvec[j] = 0;\n            for (i = j; i <= n; i = i + 1) {\n                dvec[j] = dvec[j] + dmat[j][i] * sol[i];\n            }\n        }\n    }\n\n    crval[1] = 0;\n    for (j = 1; j <= n; j = j + 1) {\n        sol[j] = dvec[j];\n        crval[1] = crval[1] + work[j] * sol[j];\n        work[j] = 0;\n        for (i = j + 1; i <= n; i = i + 1) {\n            dmat[i][j] = 0;\n        }\n    }\n    crval[1] = -crval[1] / 2;\n    ierr[1] = 0;\n\n    iwzv = n;\n    iwrv = iwzv + n;\n    iwuv = iwrv + r;\n    iwrm = iwuv + r + 1;\n    iwsv = iwrm + (r * (r + 1)) / 2;\n    iwnbv = iwsv + q;\n\n    for (i = 1; i <= q; i = i + 1) {\n        sum = 0;\n        for (j = 1; j <= n; j = j + 1) {\n            sum = sum + amat[j][i] * amat[j][i];\n        }\n        work[iwnbv + i] = Math.sqrt(sum);\n    }\n    nact = 0;\n    iter[1] = 0;\n    iter[2] = 0;\n\n    function fn_goto_50() {\n        iter[1] = iter[1] + 1;\n\n        l = iwsv;\n        for (i = 1; i <= q; i = i + 1) {\n            l = l + 1;\n            sum = -bvec[i];\n            for (j = 1; j <= n; j = j + 1) {\n                sum = sum + amat[j][i] * sol[j];\n            }\n            if (Math.abs(sum) < vsmall) {\n                sum = 0;\n            }\n            if (i > meq) {\n                work[l] = sum;\n            } else {\n                work[l] = -Math.abs(sum);\n                if (sum > 0) {\n                    for (j = 1; j <= n; j = j + 1) {\n                        amat[j][i] = -amat[j][i];\n                    }\n                    bvec[i] = -bvec[i];\n                }\n            }\n        }\n\n        for (i = 1; i <= nact; i = i + 1) {\n            work[iwsv + iact[i]] = 0;\n        }\n\n        nvl = 0;\n        temp = 0;\n        for (i = 1; i <= q; i = i + 1) {\n            if (work[iwsv + i] < temp * work[iwnbv + i]) {\n                nvl = i;\n                temp = work[iwsv + i] / work[iwnbv + i];\n            }\n        }\n        if (nvl === 0) {\n            return 999;\n        }\n\n        return 0;\n    }\n\n    function fn_goto_55() {\n        for (i = 1; i <= n; i = i + 1) {\n            sum = 0;\n            for (j = 1; j <= n; j = j + 1) {\n                sum = sum + dmat[j][i] * amat[j][nvl];\n            }\n            work[i] = sum;\n        }\n\n        l1 = iwzv;\n        for (i = 1; i <= n; i = i + 1) {\n            work[l1 + i] = 0;\n        }\n        for (j = nact + 1; j <= n; j = j + 1) {\n            for (i = 1; i <= n; i = i + 1) {\n                work[l1 + i] = work[l1 + i] + dmat[i][j] * work[j];\n            }\n        }\n\n        t1inf = true;\n        for (i = nact; i >= 1; i = i - 1) {\n            sum = work[i];\n            l = iwrm + (i * (i + 3)) / 2;\n            l1 = l - i;\n            for (j = i + 1; j <= nact; j = j + 1) {\n                sum = sum - work[l] * work[iwrv + j];\n                l = l + j;\n            }\n            sum = sum / work[l1];\n            work[iwrv + i] = sum;\n            if (iact[i] < meq) {\n                // continue;\n                break;\n            }\n            if (sum < 0) {\n                // continue;\n                break;\n            }\n            t1inf = false;\n            it1 = i;\n        }\n\n        if (!t1inf) {\n            t1 = work[iwuv + it1] / work[iwrv + it1];\n            for (i = 1; i <= nact; i = i + 1) {\n                if (iact[i] < meq) {\n                    // continue;\n                    break;\n                }\n                if (work[iwrv + i] < 0) {\n                    // continue;\n                    break;\n                }\n                temp = work[iwuv + i] / work[iwrv + i];\n                if (temp < t1) {\n                    t1 = temp;\n                    it1 = i;\n                }\n            }\n        }\n\n        sum = 0;\n        for (i = iwzv + 1; i <= iwzv + n; i = i + 1) {\n            sum = sum + work[i] * work[i];\n        }\n        if (Math.abs(sum) <= vsmall) {\n            if (t1inf) {\n                ierr[1] = 1;\n                // GOTO 999\n                return 999;\n            } else {\n                for (i = 1; i <= nact; i = i + 1) {\n                    work[iwuv + i] = work[iwuv + i] - t1 * work[iwrv + i];\n                }\n                work[iwuv + nact + 1] = work[iwuv + nact + 1] + t1;\n                // GOTO 700\n                return 700;\n            }\n        } else {\n            sum = 0;\n            for (i = 1; i <= n; i = i + 1) {\n                sum = sum + work[iwzv + i] * amat[i][nvl];\n            }\n            tt = -work[iwsv + nvl] / sum;\n            t2min = true;\n            if (!t1inf) {\n                if (t1 < tt) {\n                    tt = t1;\n                    t2min = false;\n                }\n            }\n\n            for (i = 1; i <= n; i = i + 1) {\n                sol[i] = sol[i] + tt * work[iwzv + i];\n                if (Math.abs(sol[i]) < vsmall) {\n                    sol[i] = 0;\n                }\n            }\n\n            crval[1] = crval[1] + tt * sum * (tt / 2 + work[iwuv + nact + 1]);\n            for (i = 1; i <= nact; i = i + 1) {\n                work[iwuv + i] = work[iwuv + i] - tt * work[iwrv + i];\n            }\n            work[iwuv + nact + 1] = work[iwuv + nact + 1] + tt;\n\n            if (t2min) {\n                nact = nact + 1;\n                iact[nact] = nvl;\n\n                l = iwrm + ((nact - 1) * nact) / 2 + 1;\n                for (i = 1; i <= nact - 1; i = i + 1) {\n                    work[l] = work[i];\n                    l = l + 1;\n                }\n\n                if (nact === n) {\n                    work[l] = work[n];\n                } else {\n                    for (i = n; i >= nact + 1; i = i - 1) {\n                        if (work[i] === 0) {\n                            // continue;\n                            break;\n                        }\n                        gc = Math.max(Math.abs(work[i - 1]), Math.abs(work[i]));\n                        gs = Math.min(Math.abs(work[i - 1]), Math.abs(work[i]));\n                        if (work[i - 1] >= 0) {\n                            temp = Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n                        } else {\n                            temp = -Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n                        }\n                        gc = work[i - 1] / temp;\n                        gs = work[i] / temp;\n\n                        if (gc === 1) {\n                            // continue;\n                            break;\n                        }\n                        if (gc === 0) {\n                            work[i - 1] = gs * temp;\n                            for (j = 1; j <= n; j = j + 1) {\n                                temp = dmat[j][i - 1];\n                                dmat[j][i - 1] = dmat[j][i];\n                                dmat[j][i] = temp;\n                            }\n                        } else {\n                            work[i - 1] = temp;\n                            nu = gs / (1 + gc);\n                            for (j = 1; j <= n; j = j + 1) {\n                                temp = gc * dmat[j][i - 1] + gs * dmat[j][i];\n                                dmat[j][i] = nu * (dmat[j][i - 1] + temp) - dmat[j][i];\n                                dmat[j][i - 1] = temp;\n\n                            }\n                        }\n                    }\n                    work[l] = work[nact];\n                }\n            } else {\n                sum = -bvec[nvl];\n                for (j = 1; j <= n; j = j + 1) {\n                    sum = sum + sol[j] * amat[j][nvl];\n                }\n                if (nvl > meq) {\n                    work[iwsv + nvl] = sum;\n                } else {\n                    work[iwsv + nvl] = -Math.abs(sum);\n                    if (sum > 0) {\n                        for (j = 1; j <= n; j = j + 1) {\n                            amat[j][nvl] = -amat[j][nvl];\n                        }\n                        bvec[nvl] = -bvec[nvl];\n                    }\n                }\n                // GOTO 700\n                return 700;\n            }\n        }\n\n        return 0;\n    }\n\n    function fn_goto_797() {\n        l = iwrm + (it1 * (it1 + 1)) / 2 + 1;\n        l1 = l + it1;\n        if (work[l1] === 0) {\n            // GOTO 798\n            return 798;\n        }\n        gc = Math.max(Math.abs(work[l1 - 1]), Math.abs(work[l1]));\n        gs = Math.min(Math.abs(work[l1 - 1]), Math.abs(work[l1]));\n        if (work[l1 - 1] >= 0) {\n            temp = Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n        } else {\n            temp = -Math.abs(gc * Math.sqrt(1 + gs * gs / (gc * gc)));\n        }\n        gc = work[l1 - 1] / temp;\n        gs = work[l1] / temp;\n\n        if (gc === 1) {\n            // GOTO 798\n            return 798;\n        }\n        if (gc === 0) {\n            for (i = it1 + 1; i <= nact; i = i + 1) {\n                temp = work[l1 - 1];\n                work[l1 - 1] = work[l1];\n                work[l1] = temp;\n                l1 = l1 + i;\n            }\n            for (i = 1; i <= n; i = i + 1) {\n                temp = dmat[i][it1];\n                dmat[i][it1] = dmat[i][it1 + 1];\n                dmat[i][it1 + 1] = temp;\n            }\n        } else {\n            nu = gs / (1 + gc);\n            for (i = it1 + 1; i <= nact; i = i + 1) {\n                temp = gc * work[l1 - 1] + gs * work[l1];\n                work[l1] = nu * (work[l1 - 1] + temp) - work[l1];\n                work[l1 - 1] = temp;\n                l1 = l1 + i;\n            }\n            for (i = 1; i <= n; i = i + 1) {\n                temp = gc * dmat[i][it1] + gs * dmat[i][it1 + 1];\n                dmat[i][it1 + 1] = nu * (dmat[i][it1] + temp) - dmat[i][it1 + 1];\n                dmat[i][it1] = temp;\n            }\n        }\n\n        return 0;\n    }\n\n    function fn_goto_798() {\n        l1 = l - it1;\n        for (i = 1; i <= it1; i = i + 1) {\n            work[l1] = work[l];\n            l = l + 1;\n            l1 = l1 + 1;\n        }\n\n        work[iwuv + it1] = work[iwuv + it1 + 1];\n        iact[it1] = iact[it1 + 1];\n        it1 = it1 + 1;\n        if (it1 < nact) {\n            // GOTO 797\n            return 797;\n        }\n\n        return 0;\n    }\n\n    function fn_goto_799() {\n        work[iwuv + nact] = work[iwuv + nact + 1];\n        work[iwuv + nact + 1] = 0;\n        iact[nact] = 0;\n        nact = nact - 1;\n        iter[2] = iter[2] + 1;\n\n        return 0;\n    }\n\n    go = 0;\n    while (true) {\n        go = fn_goto_50();\n        if (go === 999) {\n            return;\n        }\n        while (true) {\n            go = fn_goto_55();\n            if (go === 0) {\n                break;\n            }\n            if (go === 999) {\n                return;\n            }\n            if (go === 700) {\n                if (it1 === nact) {\n                    fn_goto_799();\n                } else {\n                    while (true) {\n                        fn_goto_797();\n                        go = fn_goto_798();\n                        if (go !== 797) {\n                            break;\n                        }\n                    }\n                    fn_goto_799();\n                }\n            }\n        }\n    }\n\n}\n\nfunction solveQP(Dmat, dvec, Amat, bvec, meq, factorized) {\n    Dmat = base0to1(Dmat);\n    dvec = base0to1(dvec);\n    Amat = base0to1(Amat);\n    var i, n, q,\n        nact, r,\n        crval = [], iact = [], sol = [], work = [], iter = [],\n        message;\n\n    meq = meq || 0;\n    factorized = factorized ? base0to1(factorized) : [undefined, 0];\n    bvec = bvec ? base0to1(bvec) : [];\n\n    // In Fortran the array index starts from 1\n    n = Dmat.length - 1;\n    q = Amat[1].length - 1;\n\n    if (!bvec) {\n        for (i = 1; i <= q; i = i + 1) {\n            bvec[i] = 0;\n        }\n    }\n    for (i = 1; i <= q; i = i + 1) {\n        iact[i] = 0;\n    }\n    nact = 0;\n    r = Math.min(n, q);\n    for (i = 1; i <= n; i = i + 1) {\n        sol[i] = 0;\n    }\n    crval[1] = 0;\n    for (i = 1; i <= (2 * n + (r * (r + 5)) / 2 + 2 * q + 1); i = i + 1) {\n        work[i] = 0;\n    }\n    for (i = 1; i <= 2; i = i + 1) {\n        iter[i] = 0;\n    }\n\n    qpgen2(Dmat, dvec, n, n, sol, crval, Amat,\n        bvec, n, q, meq, iact, nact, iter, work, factorized);\n\n    message = \"\";\n    if (factorized[1] === 1) {\n        message = \"constraints are inconsistent, no solution!\";\n    }\n    if (factorized[1] === 2) {\n        message = \"matrix D in quadratic function is not positive definite!\";\n    }\n\n    return {\n        solution: base1to0(sol),\n        value: base1to0(crval),\n        unconstrained_solution: base1to0(dvec),\n        iterations: base1to0(iter),\n        iact: base1to0(iact),\n        message: message\n    };\n}\nexports.solveQP = solveQP;\n}(numeric));\n/*\r\nShanti Rao sent me this routine by private email. I had to modify it\r\nslightly to work on Arrays instead of using a Matrix object.\r\nIt is apparently translated from http://stitchpanorama.sourceforge.net/Python/svd.py\r\n*/\r\n\r\nnumeric.svd= function svd(A) {\r\n    var temp;\r\n//Compute the thin SVD from G. H. Golub and C. Reinsch, Numer. Math. 14, 403-420 (1970)\r\n\tvar prec= numeric.epsilon; //Math.pow(2,-52) // assumes double prec\r\n\tvar tolerance= 1.e-64/prec;\r\n\tvar itmax= 50;\r\n\tvar c=0;\r\n\tvar i=0;\r\n\tvar j=0;\r\n\tvar k=0;\r\n\tvar l=0;\r\n\t\r\n\tvar u= numeric.clone(A);\r\n\tvar m= u.length;\r\n\t\r\n\tvar n= u[0].length;\r\n\t\r\n\tif (m < n) throw \"Need more rows than columns\"\r\n\t\r\n\tvar e = new Array(n);\r\n\tvar q = new Array(n);\r\n\tfor (i=0; i<n; i++) e[i] = q[i] = 0.0;\r\n\tvar v = numeric.rep([n,n],0);\r\n//\tv.zero();\r\n\t\r\n \tfunction pythag(a,b)\r\n \t{\r\n\t\ta = Math.abs(a)\r\n\t\tb = Math.abs(b)\r\n\t\tif (a > b)\r\n\t\t\treturn a*Math.sqrt(1.0+(b*b/a/a))\r\n\t\telse if (b == 0.0) \r\n\t\t\treturn a\r\n\t\treturn b*Math.sqrt(1.0+(a*a/b/b))\r\n\t}\r\n\r\n\t//Householder's reduction to bidiagonal form\r\n\r\n\tvar f= 0.0;\r\n\tvar g= 0.0;\r\n\tvar h= 0.0;\r\n\tvar x= 0.0;\r\n\tvar y= 0.0;\r\n\tvar z= 0.0;\r\n\tvar s= 0.0;\r\n\t\r\n\tfor (i=0; i < n; i++)\r\n\t{\t\r\n\t\te[i]= g;\r\n\t\ts= 0.0;\r\n\t\tl= i+1;\r\n\t\tfor (j=i; j < m; j++) \r\n\t\t\ts += (u[j][i]*u[j][i]);\r\n\t\tif (s <= tolerance)\r\n\t\t\tg= 0.0;\r\n\t\telse\r\n\t\t{\t\r\n\t\t\tf= u[i][i];\r\n\t\t\tg= Math.sqrt(s);\r\n\t\t\tif (f >= 0.0) g= -g;\r\n\t\t\th= f*g-s\r\n\t\t\tu[i][i]=f-g;\r\n\t\t\tfor (j=l; j < n; j++)\r\n\t\t\t{\r\n\t\t\t\ts= 0.0\r\n\t\t\t\tfor (k=i; k < m; k++) \r\n\t\t\t\t\ts += u[k][i]*u[k][j]\r\n\t\t\t\tf= s/h\r\n\t\t\t\tfor (k=i; k < m; k++) \r\n\t\t\t\t\tu[k][j]+=f*u[k][i]\r\n\t\t\t}\r\n\t\t}\r\n\t\tq[i]= g\r\n\t\ts= 0.0\r\n\t\tfor (j=l; j < n; j++) \r\n\t\t\ts= s + u[i][j]*u[i][j]\r\n\t\tif (s <= tolerance)\r\n\t\t\tg= 0.0\r\n\t\telse\r\n\t\t{\t\r\n\t\t\tf= u[i][i+1]\r\n\t\t\tg= Math.sqrt(s)\r\n\t\t\tif (f >= 0.0) g= -g\r\n\t\t\th= f*g - s\r\n\t\t\tu[i][i+1] = f-g;\r\n\t\t\tfor (j=l; j < n; j++) e[j]= u[i][j]/h\r\n\t\t\tfor (j=l; j < m; j++)\r\n\t\t\t{\t\r\n\t\t\t\ts=0.0\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\ts += (u[j][k]*u[i][k])\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\tu[j][k]+=s*e[k]\r\n\t\t\t}\t\r\n\t\t}\r\n\t\ty= Math.abs(q[i])+Math.abs(e[i])\r\n\t\tif (y>x) \r\n\t\t\tx=y\r\n\t}\r\n\t\r\n\t// accumulation of right hand gtransformations\r\n\tfor (i=n-1; i != -1; i+= -1)\r\n\t{\t\r\n\t\tif (g != 0.0)\r\n\t\t{\r\n\t\t \th= g*u[i][i+1]\r\n\t\t\tfor (j=l; j < n; j++) \r\n\t\t\t\tv[j][i]=u[i][j]/h\r\n\t\t\tfor (j=l; j < n; j++)\r\n\t\t\t{\t\r\n\t\t\t\ts=0.0\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\ts += u[i][k]*v[k][j]\r\n\t\t\t\tfor (k=l; k < n; k++) \r\n\t\t\t\t\tv[k][j]+=(s*v[k][i])\r\n\t\t\t}\t\r\n\t\t}\r\n\t\tfor (j=l; j < n; j++)\r\n\t\t{\r\n\t\t\tv[i][j] = 0;\r\n\t\t\tv[j][i] = 0;\r\n\t\t}\r\n\t\tv[i][i] = 1;\r\n\t\tg= e[i]\r\n\t\tl= i\r\n\t}\r\n\t\r\n\t// accumulation of left hand transformations\r\n\tfor (i=n-1; i != -1; i+= -1)\r\n\t{\t\r\n\t\tl= i+1\r\n\t\tg= q[i]\r\n\t\tfor (j=l; j < n; j++) \r\n\t\t\tu[i][j] = 0;\r\n\t\tif (g != 0.0)\r\n\t\t{\r\n\t\t\th= u[i][i]*g\r\n\t\t\tfor (j=l; j < n; j++)\r\n\t\t\t{\r\n\t\t\t\ts=0.0\r\n\t\t\t\tfor (k=l; k < m; k++) s += u[k][i]*u[k][j];\r\n\t\t\t\tf= s/h\r\n\t\t\t\tfor (k=i; k < m; k++) u[k][j]+=f*u[k][i];\r\n\t\t\t}\r\n\t\t\tfor (j=i; j < m; j++) u[j][i] = u[j][i]/g;\r\n\t\t}\r\n\t\telse\r\n\t\t\tfor (j=i; j < m; j++) u[j][i] = 0;\r\n\t\tu[i][i] += 1;\r\n\t}\r\n\t\r\n\t// diagonalization of the bidiagonal form\r\n\tprec= prec*x\r\n\tfor (k=n-1; k != -1; k+= -1)\r\n\t{\r\n\t\tfor (var iteration=0; iteration < itmax; iteration++)\r\n\t\t{\t// test f splitting\r\n\t\t\tvar test_convergence = false\r\n\t\t\tfor (l=k; l != -1; l+= -1)\r\n\t\t\t{\t\r\n\t\t\t\tif (Math.abs(e[l]) <= prec)\r\n\t\t\t\t{\ttest_convergence= true\r\n\t\t\t\t\tbreak \r\n\t\t\t\t}\r\n\t\t\t\tif (Math.abs(q[l-1]) <= prec)\r\n\t\t\t\t\tbreak \r\n\t\t\t}\r\n\t\t\tif (!test_convergence)\r\n\t\t\t{\t// cancellation of e[l] if l>0\r\n\t\t\t\tc= 0.0\r\n\t\t\t\ts= 1.0\r\n\t\t\t\tvar l1= l-1\r\n\t\t\t\tfor (i =l; i<k+1; i++)\r\n\t\t\t\t{\t\r\n\t\t\t\t\tf= s*e[i]\r\n\t\t\t\t\te[i]= c*e[i]\r\n\t\t\t\t\tif (Math.abs(f) <= prec)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tg= q[i]\r\n\t\t\t\t\th= pythag(f,g)\r\n\t\t\t\t\tq[i]= h\r\n\t\t\t\t\tc= g/h\r\n\t\t\t\t\ts= -f/h\r\n\t\t\t\t\tfor (j=0; j < m; j++)\r\n\t\t\t\t\t{\t\r\n\t\t\t\t\t\ty= u[j][l1]\r\n\t\t\t\t\t\tz= u[j][i]\r\n\t\t\t\t\t\tu[j][l1] =  y*c+(z*s)\r\n\t\t\t\t\t\tu[j][i] = -y*s+(z*c)\r\n\t\t\t\t\t} \r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\t// test f convergence\r\n\t\t\tz= q[k]\r\n\t\t\tif (l== k)\r\n\t\t\t{\t//convergence\r\n\t\t\t\tif (z<0.0)\r\n\t\t\t\t{\t//q[k] is made non-negative\r\n\t\t\t\t\tq[k]= -z\r\n\t\t\t\t\tfor (j=0; j < n; j++)\r\n\t\t\t\t\t\tv[j][k] = -v[j][k]\r\n\t\t\t\t}\r\n\t\t\t\tbreak  //break out of iteration loop and move on to next k value\r\n\t\t\t}\r\n\t\t\tif (iteration >= itmax-1)\r\n\t\t\t\tthrow 'Error: no convergence.'\r\n\t\t\t// shift from bottom 2x2 minor\r\n\t\t\tx= q[l]\r\n\t\t\ty= q[k-1]\r\n\t\t\tg= e[k-1]\r\n\t\t\th= e[k]\r\n\t\t\tf= ((y-z)*(y+z)+(g-h)*(g+h))/(2.0*h*y)\r\n\t\t\tg= pythag(f,1.0)\r\n\t\t\tif (f < 0.0)\r\n\t\t\t\tf= ((x-z)*(x+z)+h*(y/(f-g)-h))/x\r\n\t\t\telse\r\n\t\t\t\tf= ((x-z)*(x+z)+h*(y/(f+g)-h))/x\r\n\t\t\t// next QR transformation\r\n\t\t\tc= 1.0\r\n\t\t\ts= 1.0\r\n\t\t\tfor (i=l+1; i< k+1; i++)\r\n\t\t\t{\t\r\n\t\t\t\tg= e[i]\r\n\t\t\t\ty= q[i]\r\n\t\t\t\th= s*g\r\n\t\t\t\tg= c*g\r\n\t\t\t\tz= pythag(f,h)\r\n\t\t\t\te[i-1]= z\r\n\t\t\t\tc= f/z\r\n\t\t\t\ts= h/z\r\n\t\t\t\tf= x*c+g*s\r\n\t\t\t\tg= -x*s+g*c\r\n\t\t\t\th= y*s\r\n\t\t\t\ty= y*c\r\n\t\t\t\tfor (j=0; j < n; j++)\r\n\t\t\t\t{\t\r\n\t\t\t\t\tx= v[j][i-1]\r\n\t\t\t\t\tz= v[j][i]\r\n\t\t\t\t\tv[j][i-1] = x*c+z*s\r\n\t\t\t\t\tv[j][i] = -x*s+z*c\r\n\t\t\t\t}\r\n\t\t\t\tz= pythag(f,h)\r\n\t\t\t\tq[i-1]= z\r\n\t\t\t\tc= f/z\r\n\t\t\t\ts= h/z\r\n\t\t\t\tf= c*g+s*y\r\n\t\t\t\tx= -s*g+c*y\r\n\t\t\t\tfor (j=0; j < m; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\ty= u[j][i-1]\r\n\t\t\t\t\tz= u[j][i]\r\n\t\t\t\t\tu[j][i-1] = y*c+z*s\r\n\t\t\t\t\tu[j][i] = -y*s+z*c\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\te[l]= 0.0\r\n\t\t\te[k]= f\r\n\t\t\tq[k]= x\r\n\t\t} \r\n\t}\r\n\t\t\r\n\t//vt= transpose(v)\r\n\t//return (u,q,vt)\r\n\tfor (i=0;i<q.length; i++) \r\n\t  if (q[i] < prec) q[i] = 0\r\n\t  \r\n\t//sort eigenvalues\t\r\n\tfor (i=0; i< n; i++)\r\n\t{\t \r\n\t//writeln(q)\r\n\t for (j=i-1; j >= 0; j--)\r\n\t {\r\n\t  if (q[j] < q[i])\r\n\t  {\r\n\t//  writeln(i,'-',j)\r\n\t   c = q[j]\r\n\t   q[j] = q[i]\r\n\t   q[i] = c\r\n\t   for(k=0;k<u.length;k++) { temp = u[k][i]; u[k][i] = u[k][j]; u[k][j] = temp; }\r\n\t   for(k=0;k<v.length;k++) { temp = v[k][i]; v[k][i] = v[k][j]; v[k][j] = temp; }\r\n//\t   u.swapCols(i,j)\r\n//\t   v.swapCols(i,j)\r\n\t   i = j\t   \r\n\t  }\r\n\t }\t\r\n\t}\r\n\t\r\n\treturn {U:u,S:q,V:v}\r\n};\r\n\r\n"],"mappings":"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U,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9F,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9F,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9F,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9F,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9F,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9F,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9F,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9F,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9F,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9F,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9F,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9F,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9F,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9F,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAC9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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}